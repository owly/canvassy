require(["i18n!assignments","jquery","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins"],function(a,b){window.attachAddAssignmentGroup=function(c,d){var e=c;d=d||b("#add_assignment_type_form").attr("action"),e.change(function(c){b(this).val()=="new"&&b("#add_assignment_type").show().dialog({title:a.t("titles.add_assignment_group","Add Assignment Group"),width:300,height:"auto",autoSize:!0,modal:!0,autoOpen:!1,overlay:{backgroundColor:"#000",opacity:.5},open:function(){b("#add_assignment_type_form :text:first").focus().select(),b("#add_assignment_type_form").find(".weight_assignment_groups").showIf(e.hasClass("weight")),b("#add_assignment_type_form").data("group_select",e).attr("action",d)},close:function(){e.val()=="new"&&(e[0].selectedIndex=0)}}).dialog("open")}),e.val()=="new"&&(e[0].selectedIndex=0)},b(document).ready(function(){b("#add_assignment_type_form").formSubmit({beforeSubmit:function(c){b(this).find("button").attr("disabled",!0).filter(".add_button").text(a.t("messages.adding_group","Adding Group..."))},success:function(c){b(this).find("button").attr("disabled",!1).filter(".add_button").text(a.t("buttons.add_group","Add Group"));var d=c.assignment_group,e=b("#add_assignment_type_form").data("group_select"),f=b(document.createElement("option"));f.val(d.id).text(d.name),e.children("option:last").before(f),e.val(d.id),b("#add_assignment_type").dialog("close")},error:function(c){b(this).formErrors(c),b(this).find("button").attr("disabled",!1).filter(".add_button").text(a.t("errors.add_group_failed","Add Group Failed"))}}),b("#add_assignment_type .cancel_button").click(function(a){b("#add_assignment_type").dialog("close")})})})