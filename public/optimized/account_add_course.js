require(["i18n!accounts","jquery","str/htmlEscape","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","compiled/jquery.rails_flash_notifications","jquery.templateData"],function(a,b,c){b(".add_course_link").click(function(c){c.preventDefault(),b("#add_course_form :text").val(""),b("#add_course_dialog").dialog({title:a.t("add_course_dialog_title","Add a New Course"),width:500}).fixDialogButtons(),b("#add_course_form :text:visible:first").focus().select()}),b("#add_course_form").formSubmit({required:["course[name]","course[course_code]"],beforeSubmit:function(c){b(this).find("button").attr("disabled",!0).filter(".submit_button").text(a.t("adding_course_message","Adding Course..."))},success:function(d){b(this).find("button").attr("disabled",!1).filter(".submit_button").text(a.t("add_course_button","Add Course"));var e=d;if(e.enrollment_term_id==parseInt(b("#current_enrollment_term_id").text(),10)){var f=b("#course_blank").clone(!0),g={id:e.id};f.find("a.name").text(e.name),f.fillTemplateData({data:g,hrefValues:["id"],id:"course_"+e.id}),f.find(".unpublished_icon").show(),b("ul.courses").prepend(f),f.slideDown()}b.flashMessage(c(a.t("course_added_message","%{course} successfully added!",{course:e.name}))),b("#add_course_dialog").dialog("close")},error:function(c){b(this).find("button").attr("disabled",!1).filter(".submit_button").text(a.t("course_add_failed_message","Adding Course Failed, please try again"))}}),b("#add_course_dialog .cancel_button").click(function(){b("#add_course_dialog").dialog("close")})})