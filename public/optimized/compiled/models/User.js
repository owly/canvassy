(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["i18n!user","underscore","Backbone"],function(a,c,d){var e,f;return e=function(d){function e(){return f=e.__super__.constructor.apply(this,arguments),f}return b(e,d),e.prototype.modelType="user",e.prototype.resourceName="users",e.prototype.errorMap={name:{blank:a.t("errors.required","Required"),too_long:a.t("errors.too_long","Can't exceed %{max} characters",{max:255})},self_enrollment_code:{blank:a.t("errors.required","Required"),invalid:a.t("errors.invalid_code","Invalid code"),already_enrolled:a.t("errors.already_enrolled","You are already enrolled in this course"),full:a.t("errors.course_full","This course is full")},terms_of_use:{accepted:a.t("errors.terms","You must agree to the terms")}},e.prototype.enrollments=function(a,b){return c.where(this.get("enrollments"),a,b)},e.prototype.hasEnrollmentType=function(a){return!!this.enrollments({type:a},!0)},e.prototype.hasEnrollmentRole=function(a){return!!this.enrollments({role:a},!0)},e.prototype.findEnrollmentByRole=function(a){return this.enrollments({role:a},!0)},e.prototype.allEnrollmentsByType=function(a){return this.enrollments({type:a})},e.prototype.allEnrollmentsByRole=function(a){return this.enrollments({role:a})},e.prototype.pending=function(a){return c.any(this.get("enrollments"),function(b){var c;return b.role===a&&((c=b.enrollment_state)==="creation_pending"||c==="invited")})},e.prototype.sectionEditableEnrollments=function(){return c.select(this.get("enrollments"),function(a){return!c.include(["DesignerEnrollment","ObserverEnrollment"],a.type)})},e}(d.Model)})}).call(this)