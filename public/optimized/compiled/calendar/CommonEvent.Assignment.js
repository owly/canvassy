(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["i18n!calendar","compiled/calendar/CommonEvent","jquery.instructure_date_and_time","jquery.instructure_misc_helpers"],function(b,d){var e,f;return f=b.t("prompts.delete_assignment","Are you sure you want to delete this assignment?"),e=function(b){function d(b,c){this.save=a(this.save,this),this.saveDates=a(this.saveDates,this),this.copyDataFromObject=a(this.copyDataFromObject,this),d.__super__.constructor.apply(this,arguments),this.eventType="assignment",this.deleteConfirmation=f,this.deleteURL=c.assignment_url,this.addClass("assignment")}return c(d,b),d.prototype.copyDataFromObject=function(a){return a.assignment&&(a=a.assignment),this.object=this.assignment=a,a.id&&(this.id="assignment_"+a.id),this.title=a.title||a.name||"Untitled",this.lock_explanation=this.object.lock_explanation,this.addClass("group_"+this.contextCode()),this.description=a.description,this.start=this.parseStartDate(),this.start&&(this.originalStartDate=new Date(this.start)),d.__super__.copyDataFromObject.apply(this,arguments)},d.prototype.fullDetailsURL=function(){return this.assignment.html_url},d.prototype.startDate=function(){return this.originalStartDate},d.prototype.parseStartDate=function(){return this.assignment.due_at?$.parseFromISO(this.assignment.due_at,"due_date").time:null},d.prototype.displayTimeString=function(){var a,b;return this.assignment.due_at?(a=$.parseFromISO(this.assignment.due_at,"due_date"),b=""+$.dateString(a.date)+" at "+a.time_string,"Due: <time datetime='"+a.time.toISOString()+"'>"+b+"</time>"):"No Date"},d.prototype.saveDates=function(a,b){return this.save({"assignment[due_at]":$.dateToISO8601UTC($.unfudgeDateForProfileTimezone(this.start))},a,b)},d.prototype.save=function(a,b,c){return $.publish("CommonEvent/assignmentSaved",this),d.__super__.save.call(this,a,b,c)},d.prototype.methodAndURLForSave=function(){var a,b;return this.isNewEvent()?(a="POST",b=this.contextInfo.create_assignment_url):(a="PUT",b=$.replaceTags(this.contextInfo.assignment_url,"id",this.assignment.id)),[a,b]},d}(d)})}).call(this)