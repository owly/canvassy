(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone","compiled/models/Entry","compiled/arr/walk"],function(a,c,d){var e,f;return e=function(a){function e(){return f=e.__super__.constructor.apply(this,arguments),f}return b(e,a),e.prototype.defaults={perPage:50,initialPage:0},e.prototype.model=c,e.prototype.totalPages=function(){return Math.ceil(this.length/this.options.perPage)},e.prototype.getPage=function(a){var b;return a==="next"?this.getPage(this.currentPage+1):(this.currentPage=a,b=this.getPageIndicies(a),this.toArray().slice(b.start,b.end))},e.prototype.getPageIndicies=function(a){var b,c;return c=a*this.options.perPage,b=c+this.options.perPage,{start:c,end:b}},e.prototype.getPageAsCollection=function(a,b){return b==null&&(b=this.options),a=new this.constructor(this.getPage(a),b),a.fullCollection=this,a},e.prototype.setAllReadState=function(a){return this.each(function(b){return b.set("read_state",a)})},e.prototype.getEntryData=function(a){var b,c,e,f,g,h,i,j,k,l,m=this;c=null,g=null,e=0,d(this.toJSON(),"replies",function(b){var d;d=m.get(b.id)!=null,c===null&&d&&(g=b),d?e=0:c===null&&(e+=1);if(b.id===a)return c=b});if(g==null||c==null)return null;h=this.indexOf(this.get(g.id));for(f=j=0,k=this.totalPages();0<=k?j<=k:j>=k;f=0<=k?++j:--j){l=this.getPageIndicies(f),i=l.start,b=l.end;if(h>=i&&h<b)break}return{entry:c,rootParent:g,page:f,levels:e}},e}(a.Collection)})}).call(this)