(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["underscore","compiled/collections/PaginatedCollection"],function(b,d){var e,f;return e=function(d){function e(){return this.parse=a(this.parse,this),f=e.__super__.constructor.apply(this,arguments),f}return c(e,d),e.prototype.url="/api/v1/calendar_events",e.prototype.initialize=function(a,b){return this.context_codes=a,this.type=b!=null?b:"event",e.__super__.initialize.apply(this,arguments)},e.prototype.fetch=function(a){var b,c,d,f;return a==null&&(a={}),(c=a["add"])==null&&(a.add=!0),(d=a["data"])==null&&(a.data={}),a.data.type=this.type,a.data.context_codes=this.context_codes,(f=(b=a["data"])["all_events"])==null&&(b.all_events="1"),e.__super__.fetch.call(this,a)},e.prototype.parse=function(a){var c,d,f;c=this.type;switch(c){case"assignment":d=function(a){var c,d;return a.related_id=a.id,c=!1,b.each((d=a.assignment_overrides)!=null?d:[],function(b){if(!c)return a.id=""+a.id+"_override_"+b.id,c=!0}),a};break;case"event":d=function(a){return a.related_id=a.id=""+c+"_"+a.id,a.parent_event_id&&(a.related_id=""+c+"_"+a.parent_event_id),a}}return f=[],b.each(e.__super__.parse.apply(this,arguments),function(a){if(!a.hidden)return f.push(d(a))}),f},e}(d)})}).call(this)