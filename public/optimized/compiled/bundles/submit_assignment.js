define("translations/assignments",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{assignments:{assignment_count:{one:"تعيين واحد",other:"%{count} من التعيينات"},assignment_groups_count:{one:"مجموعة واحدة",other:"%{count} من المجموعات"},buttons:{add_group:"إضافة مجموعة",delete_group:"حذف المجموعة",submit_assignment:"إرسال المهمة"},confirm:{delete_assignment:"هل ترغب بالتأكيد في حذف هذه المهمة؟",delete_group:"هل ترغب بالتأكيد في حذف هذه المجموعة؟"},drop_highest_scores:"إسقاط أعلى %{number} نقطة/نقاط",drop_lowest_scores:"إسقاط أقل %{number} نقطة/نقاط",errors:{add_group_failed:"فشلت إضافة المجموعة"},file_retrieval_error:"فشل استرداد الملف",getting_file:"جارٍ استرداد الملف...",group_name:"اسم المجموعة",invalid_file_retrieval:"حدثت مشكلة أثناء استرداد الملف المرسل من هذه الأداة.",invalid_tool_return:"أرجعت الأداة التي تم تشغيلها موردًا غير صالح لهذه المهمة",loading_tools_failed:"فشل تحميل الأدوات",messages:{adding_group:"جارٍ إضافة المجموعة...",agree_to_pledge:"يجب أن توافق على التعهد بالإرسال قبل أن تتمكن من إرسال هذه المهمة.",not_submitted_yet:'لم تنته من إرسال المهمة الخاصة بك.  إنك ما زلت بحاجة إلى النقر فوق "إرسال" لإنهاء إرسالها.  هل ترغب في ترك هذه الصفحة على أية حال؟',now_overdue:"هذه المهمة متأخرة الآن.  سيتم وضع علامة أمام أي إرسال جديد كمتأخر.  المتابعة على أية حال؟",overdue:"هذه المهمة متأخرة.  هل ما زلت تودّ إرسالها؟",record_before_submitting:"تسجيل قبل الإرسال",submit_failed:"فشل الإرسال، الرجاء المحاولة مرة أخرى",submitting:"جارٍ الإرسال..."},multiple_due_dates:"تواريخ استحقاق عديدة",never_drop_scores:"لا تقم مطلقًا بإسقاط %{assignment_name}",no_assignments:"[بدون مهام]",no_tools_found:"لم يتم العثور على أدوات",number_of_assignments:{one:"تعيين واحد",other:"%{count} من التعيينات"},other_assignments:"مهام أخرى",select_assignment:"[تحديد المهمة]",status:{deleting_group:"جارٍ حذف المجموعة..."},titles:{add_assignment_group:"إضافة مجموعة المهام",uploading:"تحميل الإرسال"}},button:{submit_assignment:"إرسال المهمة"},errors:{no_attached_file:"يجب أن ترفق ملفًا واحدًا على الأقل بهذا التعيين"}},es:{assignments:{assignment_count:{one:"1 Tarea",other:"%{count} Tareas"},assignment_groups_count:{one:"1 Grupo",other:"%{count} Grupos"},buttons:{add_group:"Agregar grupo",delete_group:"Borrar el Grupo",submit_assignment:"Enviar Tarea"},confirm:{delete_assignment:"¿Seguro que quiere borrar esta tarea?",delete_group:"¿Seguro que quiere borrar este grupo?"},drop_highest_scores:"Elimine las %{number} Calificaciones Mayores",drop_lowest_scores:"Elimine las %{number} Calificaciones Menores",errors:{add_group_failed:"Se ha producido un error al añadir el grupo"},file_retrieval_error:"Ha fallado la recuperación del archivo",getting_file:"Recuperando archivo...",group_name:"Nombre del Grupo",invalid_file_retrieval:"Se ha producido un problema al intentar recuperar el archivo enviado desde esta herramienta.",invalid_tool_return:"La herramienta que se ha ejecutado ha dado como resultado un recurso no válido para esta tarea",loading_tools_failed:"Ha fallado la carga de herramientas",messages:{adding_group:"Añadiendo grupo...",agree_to_pledge:"Debe acceder al compromiso de envío antes de poder enviar esta tarea.",not_submitted_yet:"Aún no ha terminado de enviar su tarea. Todavía necesita hacer click en “Enviar” para completar el proceso. ¿Desea abandonar esta página de todos modos?",now_overdue:"Esta tarea está vencida. Cualquier envío nuevo sera marcado como atrasado. ¿Desea continuar?",overdue:"Esta tarea está atrasada. ¿Desea enviarla todavía?",record_before_submitting:"Grabar antes de enviar",submit_failed:"El envió falló, intente de nuevo",submitting:"Enviando..."},multiple_due_dates:"Muchas fechas de vencimiento",never_drop_scores:"Nunca Eliminar %{assignment_name}",no_assignments:"[Sin Tareas]",no_tools_found:"No se han encontrado herramientas",number_of_assignments:{one:"1 tarea",other:"%{count} tareas"},other_assignments:"Otras Tareas",select_assignment:"[Seleccionar Tareas]",status:{deleting_group:"Borrando el Grupo..."},titles:{add_assignment_group:"Añadir grupo de trabajo",uploading:"Cargando el envío"}},button:{submit_assignment:"Enviar Tarea"},errors:{no_attached_file:"Debe adjuntar al menos un archivo a esta tarea"}},fr:{assignments:{assignment_count:{one:"1 devoir",other:"%{count} tâches"},assignment_groups_count:{one:"1 groupe",other:"%{count} groupes"},buttons:{add_group:"Ajouter un groupe",delete_group:"Supprimer le groupe",submit_assignment:"Envoyer une tâche"},confirm:{delete_assignment:"Voulez-vous vraiment supprimer cette tâche?",delete_group:"Voulez-vous vraiment supprimer ce groupe ?"},drop_highest_scores:"Ôter les %{number} notes les plus hautes",drop_lowest_scores:"Ôter les %{number} notes les plus basses",errors:{add_group_failed:"Échec de l’ajout d’un groupe"},file_retrieval_error:"Échec de récupération du fichier",getting_file:"Récupération du fichier...",group_name:"Nom de groupe",invalid_file_retrieval:"Un problème s’est produit pendant la récupération du fichier envoyé depuis cet outil.",invalid_tool_return:"L'outil utilisé a renvoyé une ressource non valide pour cette tâche.",loading_tools_failed:"Échec du chargement des outils",messages:{adding_group:"Ajout d’un groupe...",agree_to_pledge:"Vous devez accepter cet engagement avant d’envoyer une tâche.",not_submitted_yet:'Vous n’avez pas terminé d’envoyer votre tâche. Vous devez encore cliquer sur "Envoyer" pour terminer l’envoi. Voulez-vous quitter cette page ?',now_overdue:"Cette tâche est à présent en retard. Tout nouvel envoi sera signalé comme tâche en retard. Voulez-vous continuer ?",overdue:"Cette tâche est en retard. Voulez-vous toujours l’envoyer ?",record_before_submitting:"Enregistrer avant l’envoi",submit_failed:"Échec de l’envoi, veuillez réessayer",submitting:"Envoi en cours…"},multiple_due_dates:"Plusieurs dates d’échéance",never_drop_scores:"Ne jamais ôter %{assignment_name}",no_assignments:"[Pas de tâches]",no_tools_found:"Aucun outil trouvé",number_of_assignments:{one:"1 devoir",other:"%{count} tâches"},other_assignments:"Autres tâches",select_assignment:"[Sélectionner une tâche]",status:{deleting_group:"Suppression du groupe..."},titles:{add_assignment_group:"Ajouter un groupe de tâches",uploading:"Envoi en cours"}},button:{submit_assignment:"Envoyer une tâche"},errors:{no_attached_file:"Vous devez joindre au moins un fichier à cette tâche."}},ja:{assignments:{assignment_count:{one:"%{count} 個の課題",other:"%{count} 個の課題"},assignment_groups_count:{one:"%{count} 個のグループ",other:"%{count} 個のグループ"},buttons:{add_group:"グループの追加",delete_group:"グループの削除",submit_assignment:"課題の提出"},confirm:{delete_assignment:"この課題を削除してもよろしいですか?",delete_group:"このグループを削除してもよろしいですか?"},drop_highest_scores:"最高スコア %{number} を下げる",drop_lowest_scores:"最低スコア %{number} を下げる",errors:{add_group_failed:"グループの追加に失敗しました"},file_retrieval_error:"ファイルの取得に失敗しました",getting_file:"ファイルを取得しています...",group_name:"グループ名",invalid_file_retrieval:"このツールから送信されたファイルを取得する際に問題が発生しました。",invalid_tool_return:"起動されたツールは、この課題に関して無効なリソースを返しました。",loading_tools_failed:"ツールの読み込みに失敗しました",messages:{adding_group:"グループを追加しています...",agree_to_pledge:"この課題を提出するには、その前に提出時の誓約に同意する必要があります。",not_submitted_yet:'課題の提出はまだ完了していません。提出を完了するには "Submit" をクリックする必要があります。提出を完了しないまま別のページに移動しますか?',now_overdue:"この課題は期日を過ぎています。新しい提出物はすべて遅延のマークが付けられます。続行しますか?",overdue:"この課題は期日を過ぎています。提出しますか?",record_before_submitting:"提出前の記録",submit_failed:"提出に失敗しました。もう一度やり直してください",submitting:"提出しています..."},multiple_due_dates:"複数の期日",never_drop_scores:"%{assignment_name} を決して下げない",no_assignments:"[課題なし]",no_tools_found:"ツールが見つかりませんでした",number_of_assignments:{one:"%{count} 個の課題",other:"%{count} 個の課題"},other_assignments:"他の課題",select_assignment:"[課題の選択]",status:{deleting_group:"グループを削除しています..."},titles:{add_assignment_group:"課題グループの追加",uploading:"提出物をアップロードしています"}},button:{submit_assignment:"課題の提出"},errors:{no_attached_file:"この課題には 1 個以上のファイルを添付する必要があります"}},ko:{assignments:{assignment_count:{one:"과제 %{count}개",other:"과제 %{count}개"},assignment_groups_count:{one:"그룹 %{count}개",other:"그룹 %{count}개"},buttons:{add_group:"그룹 추가",delete_group:"그룹 삭제",submit_assignment:"과제 제출"},confirm:{delete_assignment:"이 과제를 삭제하시겠습니까?",delete_group:"이 그룹을 삭제하시겠습니까?"},drop_highest_scores:"최고 점수 %{number}개 제외",drop_lowest_scores:"최저 점수 %{number}개 제외",errors:{add_group_failed:"그룹 추가 실패"},file_retrieval_error:"파일 검색 실패",getting_file:"파일 검색 중...",group_name:"그룹 이름",invalid_file_retrieval:"이 도구에서 전송한 파일을 검색하는 데 문제가 발생했습니다.",invalid_tool_return:"시작한 도구가 이 과제에 대해 잘못된 자원을 반환했습니다.",loading_tools_failed:"도구 로드 실패",messages:{adding_group:"그룹 추가 중...",agree_to_pledge:"이 과제를 체출하기 전에 제출물 서약에 동의해야 합니다.",not_submitted_yet:'아직 과제 제출을 마치지 않았습니다. 제출을 마치려면 "제출" 버튼을 클릭해야 합니다. 그래도 이 페이지에서 나가시겠습니까?',now_overdue:"이 과제는 기한을 초과했습니다.  새로운 제출물은 지연으로 표시됩니다.  계속 진행하시겠습니까?",overdue:"이 과제는 기한을 초과했습니다. 제출하시겠습니까?",record_before_submitting:"제출 전에 녹음/녹화",submit_failed:"제출에 실패했습니다. 다시 시도하시기 바랍니다.",submitting:"제출 중..."},multiple_due_dates:"여러 기한",never_drop_scores:"%{assignment_name}을(를) 드롭한 적 없음",no_assignments:"[과제 없음]",no_tools_found:"도구 없음",number_of_assignments:{one:"과제 %{count}개",other:"과제 %{count}개"},other_assignments:"다른 과제",select_assignment:"[과제 선택]",status:{deleting_group:"그룹 삭제 중..."},titles:{add_assignment_group:"과제 그룹 추가",uploading:"제출물 업로드"}},button:{submit_assignment:"과제 제출"},errors:{no_attached_file:"이 과제에 하나 이상의 파일을 첨부해야 함"}},nl:{assignments:{assignment_count:{one:"1 Opdracht",other:"%{count} Opdrachten"},assignment_groups_count:{one:"1 Groep",other:"%{count} Groepen"},buttons:{add_group:"Groep toevoegen",delete_group:"Verwijder groep",submit_assignment:"Lever opdracht in"},confirm:{delete_assignment:"Weet u zeker dat u deze opdracht wil verwijderen?",delete_group:"Weet u zeker dat u deze groep wil verwijderen?"},drop_highest_scores:"Verwijder de hoogste %{number} scores",drop_lowest_scores:"Verwijder de laagste %{number} scores",errors:{add_group_failed:"Groep toevoegen mislukt"},file_retrieval_error:"Ophalen van bestand mislukt",getting_file:"Bestand wordt opgehaald...",group_name:"Groepsnaam",invalid_file_retrieval:"Er is een probleem opgetreden bij het ophalen van het bestand van het externe hulpmiddel.",invalid_tool_return:"Het gestarte hulpmiddel geeft een ongeldige bron voor deze opdracht",loading_tools_failed:"Laden van hulpmiddelen mislukt",messages:{adding_group:"Groep wordt toegevoegd...",agree_to_pledge:"U dient akkoord te gaan met de belofte voordat de opdracht ingeleverd kan worden.",not_submitted_yet:'De opdracht is nog niet volledig ingeleverd. Klik op "Inleveren" om de opdracht daadwerkelijk in te leveren. Weet u zeker dat u deze pagina wil verlaten?',now_overdue:'De deadline voor de opdracht is verstreken. Alle volgende inzendingen worden gemarkeerd als "te laat". Toch doorgaan?',overdue:"De deadline voor de opdracht is verstreken. Wilt u de opdracht alsnog inleveren?",record_before_submitting:"Opnemen voor inleveren",submit_failed:"Inleveren mislukt. Probeer het opnieuw.",submitting:"Bezig met inleveren..."},multiple_due_dates:"Meerdere vervaldata",never_drop_scores:"Verwijder nooit %{assignment_name}",no_assignments:"[Geen opdrachten]",no_tools_found:"Geen hulpmiddelen gevonden",number_of_assignments:{one:"1 opdracht",other:"%{count} opdrachten"},other_assignments:"Andere opdrachten",select_assignment:"[Selecteer opdracht]",status:{deleting_group:"Groep wordt verwijderd..."},titles:{add_assignment_group:"Voeg opdrachtgroep toe",uploading:"Uploaden van de opdracht"}},button:{submit_assignment:"Verstuur opdracht"},errors:{no_attached_file:"Je moet minimaal één bestand toevoegen aan deze opdracht"}},pt:{assignments:{assignment_count:{one:"1 tarefa",other:"%{count} tarefas"},assignment_groups_count:{one:"1 grupo",other:"%{count} grupos"},buttons:{add_group:"Adicionar grupo",delete_group:"Excluir grupo",submit_assignment:"Enviar tarefa"},confirm:{delete_assignment:"Tem certeza de que deseja excluir esta tarefa?",delete_group:"Tem certeza de que deseja excluir este grupo?"},drop_highest_scores:"Eliminar as %{number} pontuações mais altas",drop_lowest_scores:"Eliminar as %{number} pontuações mais baixas",errors:{add_group_failed:"Falha ao adicionar grupo"},file_retrieval_error:"Falha ao obter o ficheiro",getting_file:"A obter o ficheiro...",group_name:"Nome de grupo",invalid_file_retrieval:"Ocorreu um problema ao obter o ficheiro enviado a partir desta ferramenta.",invalid_tool_return:"A ferramenta iniciada devolveu um recurso inválido para esta tarefa.",loading_tools_failed:"Falha ao carregar as ferramentas",messages:{adding_group:"A adicionar grupo...",agree_to_pledge:"Tem de aceitar o compromisso de envio antes de enviar esta tarefa.",not_submitted_yet:'Não acabou de enviar a sua tarefa. Ainda precisa de clicar em "Enviar" para terminar a entrega. Deseja sair desta página mesmo assim?',now_overdue:"O prazo desta tarefa venceu.  Qualquer novo envio será marcado como atrasado.  Continuar mesmo assim?",overdue:"O prazo desta tarefa foi ultrapassado. Ainda quer enviá-la?",record_before_submitting:"Gravar antes de enviar",submit_failed:"Falha no envio, tente novamente",submitting:"Enviando..."},multiple_due_dates:"Várias datas de entrega",never_drop_scores:"Nunca eliminar %{assignment_name}",no_assignments:"[Nenhuma tarefa]",no_tools_found:"Não foram encontradas ferramentas",number_of_assignments:{one:"1 tarefa",other:"%{count} tarefas"},other_assignments:"Outras tarefas",select_assignment:"[Selecionar tarefa]",status:{deleting_group:"Excluindo grupo..."},titles:{add_assignment_group:"Adicionar grupo de tarefa",uploading:"A carregar o envio"}},button:{submit_assignment:"Enviar tarefa"},errors:{no_attached_file:"Tem de anexar pelo menos um ficheiro a esta tarefa"}},ru:{assignments:{assignment_count:{one:"1 Задание",other:"%{count} задания"},assignment_groups_count:{one:"1 группа",other:"%{count} групп"},buttons:{add_group:"Добавить группу",delete_group:"Удалить группу",submit_assignment:"Отправить задание"},confirm:{delete_assignment:"Вы действительно хотите удалить это задание?",delete_group:"Удалить группу?"},drop_highest_scores:"Удалить самые высокие %{number} оценки",drop_lowest_scores:"Удалить самые низкие %{number} оценки",errors:{add_group_failed:"Ошибка добавления группы"},file_retrieval_error:"Ошибка получения файлов",getting_file:"Получение файлов...",group_name:"Имя группы",invalid_file_retrieval:"Ошибка получения файла, отправленного данным инструментом.",invalid_tool_return:'При запуске инструмента появилось сообщение "неправильный ресурс для данного задания"',loading_tools_failed:"Ошибка загрузки инструментов",messages:{adding_group:"Добавление группы...",agree_to_pledge:"Перед отправкой этого задания необходимо согласиться с обязательством.",not_submitted_yet:'Отправка задания не завершена.  Требуется щелкнуть "Отправить", чтобы завершить отправку.  Все равно уйти с этой страницы?',now_overdue:"Теперь это задание просрочено.  Все новые отправки будут отмечены как поздние.  Продолжить?",overdue:"Теперь это задание просрочено.  Отправить его?",record_before_submitting:"Записать перед отправкой",submit_failed:"Сбой отправки, повторите попытку",submitting:"Идет отправка..."},multiple_due_dates:"Несколько сроков выполнения",never_drop_scores:"Никогда не удалять %{assignment_name}",no_assignments:"[Нет заданий]",no_tools_found:"Инструменты не найдены",number_of_assignments:{one:"1 задание",other:"%{count} заданий"},other_assignments:"Другие задания",select_assignment:"[Выберите задание]",status:{deleting_group:"Удаление группы..."},titles:{add_assignment_group:"Добавить группу заданий",uploading:"Загрузка отправки"}},button:{submit_assignment:"Отправить задание"},errors:{no_attached_file:"Вы должны приложить хотя бы один файл к данному заданию"}},zh:{assignments:{assignment_count:{one:"%{count} 份作业",other:"%{count} 份作业"},assignment_groups_count:{one:"%{count} 个组",other:"%{count} 个组"},buttons:{add_group:"添加组",delete_group:"删除组",submit_assignment:"提交作业"},confirm:{delete_assignment:"是否确定要删除此作业?",delete_group:"是否确定要删除此组?"},drop_highest_scores:"去掉最高的 %{number} 分",drop_lowest_scores:"去掉最低的 %{number} 分",errors:{add_group_failed:"添加组失败"},file_retrieval_error:"检索文件失败",getting_file:"正在检索文件...",group_name:"组名称",invalid_file_retrieval:"检索通过此工具发送的文件时出现问题。",invalid_tool_return:"已启动的工具对此次作业返回了无效资源",loading_tools_failed:"加载工具失败",messages:{adding_group:"正在添加组...",agree_to_pledge:"必须同意提交保证才可提交此作业。",not_submitted_yet:'尚未完成作业提交。必须单击"提交"完成提交。是否仍要离开此页面?',now_overdue:"此作业现已逾期。任何新提交将被标记为延迟。是否仍要继续?",overdue:"此作业已逾期。是否仍要提交?",record_before_submitting:"在提交前记录",submit_failed:"提交失败，请重试",submitting:"正在提交..."},multiple_due_dates:"多个到期日",never_drop_scores:"不删除 %{assignment_name}",no_assignments:"[无作业]",no_tools_found:"找不到工具",number_of_assignments:{one:"%{count} 份作业",other:"%{count} 份作业"},other_assignments:"其他作业",select_assignment:"[选择作业]",status:{deleting_group:"正在删除组..."},titles:{add_assignment_group:"添加作业组",uploading:"正在上传提交文件"}},button:{submit_assignment:"提交作业"},errors:{no_attached_file:"您至少要为作业添加一份文件"}}}})}),define("translations/titles",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{titles:{view_in_separate_window:"عرض في نافذة منفصلة"}},es:{titles:{view_in_separate_window:"Ver en una ventana separada"}},fr:{titles:{view_in_separate_window:"Afficher dans une fenêtre séparée"}},ja:{titles:{view_in_separate_window:"別のウィンドウで表示"}},ko:{titles:{view_in_separate_window:"별도 창에 보기"}},nl:{titles:{view_in_separate_window:"Bekijk in een apart scherm"}},pt:{titles:{view_in_separate_window:"Ver numa janela separada"}},ru:{titles:{view_in_separate_window:"Просмотреть в отдельном окне"}},zh:{titles:{view_in_separate_window:"在单独的窗口中查看"}}}})}),define("jst/googleDocsTreeView",["compiled/handlebars_helpers"],function(a){var b=a.template,c=a.templates=a.templates||{};return c.googleDocsTreeView=b(function(a,b,c,d,e){function p(a,b,d){var e="",f,g;e+='\n<li class="folder">\n  ',i=c.name,f=i||a.name,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"name",{hash:{}})),e+=o(f)+"\n  <ul>\n    ",i=c.files,f=i||a.files,g=c.each,j=k.programWithDepth(q,b,d),j.hash={},j.fn=j,j.inverse=k.noop,f=g.call(a,f,j);if(f||f===0)e+=f;return e+="\n  </ul>\n</li>\n",e}function q(a,b,d){var e="",f;return e+='\n    <li class="file ',i=c.extension,f=i||a.extension,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"extension",{hash:{}})),e+=o(f)+'" id="document_',i=c.document_id,f=i||a.document_id,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"document_id",{hash:{}})),e+=o(f)+'">\n      <span class="filename">',i=c.name,f=i||a.name,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"name",{hash:{}})),e+=o(f)+'</span>\n      <a class="popout no-hover" href="',i=c.alternate_url,f=i||a.alternate_url,f=f===null||f===undefined||f===!1?f:f.href,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"alternate_url.href",{hash:{}})),e+=o(f)+'" title="',i=c.title_text,f=i||d.title_text,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"......title_text",{hash:{}})),e+=o(f)+'" target="_blank">\n        <img src="/images/popout.png"/>\n      </a>\n      <div class="clear"></div>\n    </li>\n    ',e}function r(a,b,d){var e="",f;return e+='\n<li class="file ',i=c.extension,f=i||a.extension,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"extension",{hash:{}})),e+=o(f)+'" id="document_',i=c.document_id,f=i||a.document_id,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"document_id",{hash:{}})),e+=o(f)+'">\n  <span class="filename">',i=c.name,f=i||a.name,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"name",{hash:{}})),e+=o(f)+'</span>\n  <a class="popout no-hover" href="',i=c.alternate_url,f=i||a.alternate_url,f=f===null||f===undefined||f===!1?f:f.href,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"alternate_url.href",{hash:{}})),e+=o(f)+'" title="',i=c.title_text,f=i||d.title_text,typeof f===l?f=f.call(a,{hash:{}}):f===n&&(f=m.call(a,"...title_text",{hash:{}})),e+=o(f)+'" target="_blank">\n    <img src=\'/images/popout.png\'/>\n  </a>\n  <div class="clear"></div>\n</li>\n',e}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0,o=this.escapeExpression;i=c.tree,g=i||b.tree,g=g===null||g===undefined||g===!1?g:g.folders,h=c.each,j=k.programWithDepth(p,e,b),j.hash={},j.fn=j,j.inverse=k.noop,g=h.call(b,g,j);if(g||g===0)f+=g;f+="\n",i=c.tree,g=i||b.tree,g=g===null||g===undefined||g===!1?g:g.files,h=c.each,j=k.programWithDepth(r,e,b),j.hash={},j.fn=j,j.inverse=k.noop,g=h.call(b,g,j);if(g||g===0)f+=g;return f+="\n",f}),c.googleDocsTreeView}),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define("compiled/views/GoogleDocsTreeView",["i18n!titles","jquery","Backbone","jst/googleDocsTreeView"],function(b,d,e,f){var g,h;return g=function(d){function e(){return this.activateFolder=a(this.activateFolder,this),this.activateFile=a(this.activateFile,this),h=e.__super__.constructor.apply(this,arguments),h}return c(e,d),e.prototype.template=f,e.prototype.initialize=function(a){},e.prototype.events={"click li.file":"activateFile","click li.folder":"activateFolder"},e.prototype.render=function(){var a;return a=b.t("view_in_separate_window","View in Separate Window"),this.$el.html(this.template({tree:this.model,title_text:a})),this.$el.instTree({autoclose:!1,multi:!1,dragdrop:!1})},e.prototype.activateFile=function(a){var b,c;if(this.$(a.target).closest(".popout").length>0)return;return b=this.$(a.currentTarget),a.preventDefault(),a.stopPropagation(),this.$(".file.active").removeClass("active"),b.addClass("active"),c=b.attr("id").substring(9),this.trigger("activate-file",c)},e.prototype.activateFolder=function(a){var b;b=this.$(a.target);if(b.closest(".sign").length===0&&b.closest(".file,.folder").hasClass("folder"))return this.$(a.currentTarget).find(".sign").click()},e.prototype.tagName="ul",e.prototype.id="google_docs_tree",e.prototype.attributes={style:"width: 100%;"},e}(e.View)})}.call(this),define("jst/assignments/homework_submission_tool",["compiled/handlebars_helpers"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["assignments/homework_submission_tool"]=b(function(a,b,c,d,e){function p(a,b){var d="",e;return d+='\n      <img style="max-width: 25px; max-height: 25px;" src=\'',i=c.homework_submission,e=i||a.homework_submission,e=e===null||e===undefined||e===!1?e:e.icon_url,typeof e===l?e=e.call(a,{hash:{}}):e===n&&(e=m.call(a,"homework_submission.icon_url",{hash:{}})),d+=o(e)+"'/>\n    ",d}function q(a,b){var d="",e,f;d+="\n      ",i=c.icon_url,e=i||a.icon_url,f=c["if"],j=k.program(4,r,b),j.hash={},j.fn=j,j.inverse=k.program(6,s,b),e=f.call(a,e,j);if(e||e===0)d+=e;return d+="\n    ",d}function r(a,b){var d="",e;return d+='\n        <img style="max-width: 25px; max-height: 25px;" src=\'',i=c.icon_url,e=i||a.icon_url,typeof e===l?e=e.call(a,{hash:{}}):e===n&&(e=m.call(a,"icon_url",{hash:{}})),d+=o(e)+"'/>\n      ",d}function s(a,b){return"\n        <img src='/images/link.png'/>\n      "}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0,o=this.escapeExpression;f+="<li class='tool'>\n  <a href='#'>\n    ",i=c.homework_submission,g=i||b.homework_submission,g=g===null||g===undefined||g===!1?g:g.icon_url,h=c["if"],j=k.program(1,p,e),j.hash={},j.fn=j,j.inverse=k.program(3,q,e),g=h.call(b,g,j);if(g||g===0)f+=g;return f+="\n\n    ",i=c.display_text,g=i||b.display_text,typeof g===l?g=g.call(b,{hash:{}}):g===n&&(g=m.call(b,"display_text",{hash:{}})),f+=o(g)+"\n  </a>\n</li>",f}),c["assignments/homework_submission_tool"]}),define("submit_assignment",["i18n!assignments","jquery","compiled/views/GoogleDocsTreeView","jst/assignments/homework_submission_tool","compiled/jquery.rails_flash_notifications","jquery.ajaxJSON","jquery.inst_tree","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","jquery.templateData","media_comments","compiled/tinymce","tinymce.editor_box","vendor/jquery.scrollTo","jqueryui/tabs"],function(a,b,c,d){function f(){if(!f.loading){f.loading=!0;var c=b("#external_tools_url").attr("href");b.ajaxJSON(c,"GET",{},function(c){if(!c.length)e.find("ul.tools li").text(a.t("no_tools_found","No tools found"));else{b(".submit_from_external_tool_option").parent().show(),e.find("ul.tools").empty();for(var f=0;f<c.length;f++){var g=c[f];g.display_text=g.homework_submission.label;var h=d(g),i=b(h).data("tool",g);e.find("ul.tools").append(i)}}},function(){e.find("ul.tools li.none").text(a.t("loading_tools_failed","Loading tools failed"))})}}function g(){function d(a,c,e){b.ajaxJSON(a,"GET",{},function(b){b.upload_status=="ready"?c(b.attachment):b.upload_status=="errored"?e(b.message):setTimeout(function(){d(a,c,e)},2500)},function(a){e(a.message)})}var c=b.Deferred(),f={url:b("#external_tool_url").val(),name:b("#external_tool_filename").val(),content_type:b("#external_tool_content_type").val()};b.ajaxJSON(b("#homework_file_url").attr("href"),"POST",f,function(f){d(f.status_url,function(a){b("#external_tool_submission_type").val("online_upload"),b("#external_tool_file_id").val(a.id),c.resolve(),e.submit()},function(d){c.resolve(),e.find(".submit").text(a.t("file_retrieval_error","Retrieving File Failed")),b.flashError(a.t("invalid_file_retrieval","There was a problem retrieving the file sent from this tool.")),console.log(d)})},function(b){c.resolve(),e.find(".submit").text(a.t("file_retrieval_error","Retrieving File Failed"))}),e.disableWhileLoading(c,{buttons:{".submit":a.t("getting_file","Retrieving File...")}})}window.submissionAttachmentIndex=-1,b(document).ready(function(){function h(){b("#submit_online_upload_form .remove_attachment_link").showIf(b("#submit_online_upload_form .submission_attachment:not(#submission_attachment_blank)").length>1)}function i(){b("#submit_online_upload_form button[type=submit]").attr("disabled",!!b(".bad_ext_msg:visible").length)}var d=!1,e=b(".submit_assignment_form");e.delegate("#submission_comment","focus",function(a){var c=b(this);c.val().trim()===""&&c.addClass("focus_or_content")}).delegate("#submission_comment","blur",function(a){var c=b(this);c.val().trim()===""&&c.removeClass("focus_or_content")}),e.submit(function(c){var f=b(this).find(".turnitin_pledge");if(b("#external_tool_submission_type").val()=="online_url_to_file"){c.preventDefault(),c.stopPropagation(),g();return}if(f.length>0&&!f.attr("checked"))return alert(a.t("messages.agree_to_pledge","You must agree to the submission pledge before you can submit this assignment.")),c.preventDefault(),c.stopPropagation(),!1;var h=!b(this).is("#submit_online_text_entry_form")||b(this).validateForm({object_name:"submission",required:["body"]});if(!h)return!1;b(this).find("button[type='submit']").text(a.t("messages.submitting","Submitting...")),b(this).find("button").attr("disabled",!0);if(b(this).attr("id")=="submit_online_upload_form"){c.preventDefault()&&c.stopPropagation();var i=b(this).find("input[type=file]:visible").filter(function(){return b(this).val()!==""}),j=b(this).find("#submission_attachment_ids").val();if(i.length===0&&j==="")return b.flashError(a.t("#errors.no_attached_file","You must attach at least one file to this assignment")),b(this).find("button[type=submit]").text(a.t("#button.submit_assignment","Submit Assignment")).prop("disabled",!1),!1;b.ajaxJSONPreparedFiles.call(this,{handle_files:function(a,b){var c=(b["submission[attachment_ids]"]||"").split(",");for(var d in a)c.push(a[d].attachment.id);return b["submission[attachment_ids]"]=c.join(","),b},context_code:b("#submit_assignment").data("context_code"),asset_string:b("#submit_assignment").data("asset_string"),intent:"submit",file_elements:i,formData:b(this).getFormData(),formDataTarget:"url",url:b(this).attr("action"),success:function(a){d=!0,window.location=window.location.href.replace(window.location.hash,"")},error:function(b){e.find("button[type='submit']").text(a.t("messages.submit_failed","Submit Failed, please try again")),e.find("button").attr("disabled",!1)}})}else d=!0}),window.onbeforeunload=function(){if(b("#submit_assignment:visible").length>0&&!d)return a.t("messages.not_submitted_yet",'You haven\'t finished submitting your assignment.  You still need to click "Submit" to finish turning it in.  Do you want to leave this page anyway?')},b(document).fragmentChange(function(a,c){c&&c.indexOf("#submit")==0&&(b(".submit_assignment_link").triggerHandler("click",!0),c=="#submit_google_doc"&&b("#submit_assignment_tabs").tabs("select","#submit_google_doc_form"))}),b(".submit_assignment_link").click(function(c,d){c.preventDefault();var e=b(this).hasClass("late"),g=new Date;if(e&&!d){var h;b(".resubmit_link").length>0?h=confirm(a.t("messages.now_overdue","This assignment is now overdue.  Any new submissions will be marked as late.  Continue anyway?")):h=confirm(a.t("messages.overdue","This assignment is overdue.  Do you still want to submit it?"));if(!h)return}b("#submit_assignment").show(),b(".submit_assignment_link").hide(),b("html,body").scrollTo(b("#submit_assignment")),b("#submit_online_text_entry_form textarea:first").editorBox(),f()}),b("#switch_text_entry_submission_views").click(function(a){a.preventDefault(),b("#submit_online_text_entry_form textarea:first").editorBox("toggle")}),b(".submit_assignment_form .cancel_button").click(function(){b("#submit_assignment").hide(),b(".submit_assignment_link").show()}),b("#submit_assignment_tabs").tabs(),b("#uploaded_files > ul").instTree({autoclose:!1,multi:!0,dragdrop:!1,onClick:function(a,c){b("#submission_attachment_ids").val("");var d=[];b("#uploaded_files .file.active-leaf").each(function(){var a=b(this).getTemplateData({textValues:["id"]}).id;d.push(a)}),b("#submission_attachment_ids").val(d.join(","))}}),b(".toggle_uploaded_files_link").click(function(a){a.preventDefault(),b("#uploaded_files").slideToggle()}),b(".add_another_file_link").click(function(a){a.preventDefault(),b("#submission_attachment_blank").clone(!0).removeAttr("id").show().insertBefore(this).find("input").attr("name","attachments["+ ++submissionAttachmentIndex+"][uploaded_data]"),h()}).click(),b(".remove_attachment_link").click(function(a){a.preventDefault(),b(this).parents(".submission_attachment").remove(),i(),h()}),b(".submit_online_url_option").click(function(a){if(b(this).attr("href")=="#submit_google_doc_form"){var d=window.location.pathname+"/list_google_docs";b.get(d,{},function(a,d){var e=new c({model:a});b("div#google_docs_container").html(e.el),e.render(),e.on("activate-file",function(a){b("#submit_google_doc_form").find("input[name='google_doc[document_id]']").val(a)})},"json")}}),b(".submission_attachment input[type=file]").live("change",function(){if(ENV.SUBMIT_ASSIGNMENT.ALLOWED_EXTENSIONS.length<1||b(this).val()=="")return;var a=b(this).val().split(".").pop().toLowerCase();b(this).parent().find(".bad_ext_msg").showIf(b.inArray(a,ENV.SUBMIT_ASSIGNMENT.ALLOWED_EXTENSIONS)<0),i()})}),b("#submit_google_doc_form").submit(function(){b("#uploading_google_doc_message").dialog({title:a.t("titles.uploading","Uploading Submission"),modal:!0,overlay:{backgroundColor:"#000",opacity:.7}})}),b(document).ready(function(){b("#submit_media_recording_form .submit_button").attr("disabled",!0).text(a.t("messages.record_before_submitting","Record Before Submitting")),b("#media_media_recording_submission_holder .record_media_comment_link").click(function(c){c.preventDefault(),b("#media_media_recording_submission").mediaComment("create","any",function(c,d){b("#submit_media_recording_form .submit_button").attr("disabled",!1).text(a.t("buttons.submit_assignment","Submit Assignment")),b("#submit_media_recording_form .media_comment_id").val(c),b("#submit_media_recording_form .media_comment_type").val(d),b("#media_media_recording_submission_holder").children().hide(),b("#media_media_recording_ready").show(),b("#media_comment_submit_button").attr("disabled",!1),b("#media_media_recording_thumbnail").attr("id","media_comment_"+c)})})});var e=b("#submit_from_external_tool_form");b("#submit_from_external_tool_form .tools li").live("click",function(c){function j(c){b.flashError(a.t("invalid_tool_return","The launched tool returned an invalid resource for this assignment")),console.log(c),i.dialog("close")}c.preventDefault();var d=b(this).data("tool"),e="/courses/"+b("#identity .course_id").text()+"/external_tools/"+d.id+"/resource_selection?homework=1&assignment_id="+ENV.SUBMIT_ASSIGNMENT.ID,f=d.homework_submission.selection_width||d.selection_width,g=d.homework_submission.selection_height||d.selection_height,h=d.display_text,i=b("<div/>",{id:"homework_selection_dialog"}).appendTo(b("body"));i.append(b("<iframe/>",{frameborder:0,src:e,id:"homework_selection_iframe"}).css({width:f,height:g})).bind("selection",function(a,c){var d=!0;if(c.return_type=="url"){if(!b("#submit_online_url_form").length){j("this assignment doesn't accept URL submissions");return}b("#external_tool_url").val(c.url),b("#external_tool_submission_type").val("online_url"),b("#submit_from_external_tool_form").addClass("has_submission");var e=b("<a/>",{href:c.url}).text(c.text||c.title);b("#external_tool_submission_details").empty().append(e).attr("class","url_submission")}else{if(c.return_type!="file"){j("return_type must be 'link' or 'file'");return}if(!b("#submit_online_upload_form").length){j("this assignment doesn't accept file submissions");return}var f=c.text.split(/\./).pop();ENV.SUBMIT_ASSIGNMENT&&ENV.SUBMIT_ASSIGNMENT.ALLOWED_EXTENSIONS&&ENV.SUBMIT_ASSIGNMENT.ALLOWED_EXTENSIONS.length>0&&(!c.text.match(/\./)||b.inArray(f,ENV.SUBMIT_ASSIGNMENT.ALLOWED_EXTENSIONS)<0)&&(d=!1),b("#external_tool_url").val(c.url),b("#external_tool_submission_type").val("online_url_to_file"),b("#external_tool_filename").val(c.text),b("#external_tool_content_type").val(c.content_type),b("#submit_from_external_tool_form").addClass("has_submission");var e=b("<a/>",{href:c.url}).text(c.text);b("#external_tool_submission_details").empty().append(e).attr("class","file_submission")}b("#submit_from_external_tool_form .bad_ext_msg").showIf(!d),b("#submit_from_external_tool_form button[type=submit]").attr("disabled",!d),i.dialog("close")}).dialog({width:"auto",height:"auto",title:h,close:function(){i.remove()}})})}),function(){require(["submit_assignment"])}.call(this),define("compiled/bundles/submit_assignment",function(){})