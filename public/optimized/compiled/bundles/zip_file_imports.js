define("translations/zip_file_imports",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{zip_file_imports:{errors:{extracting_file:"حدثت بعض الأخطاء أثناء فك ضغط الملف المضغوط.  يرجى المحاولة مرة أخرى",server_status:"توقف الخادم عن إرجاع حالة صالحة",server_stopped_responding:"توقف الخادم عن الاستجابة إلى طلبات الحالة",uploading:"حدثت أخطاء أثناء تحميل الملف المضغوط."},notices:{uploading_complete:"اكتمل التحميل!"}}},es:{zip_file_imports:{errors:{extracting_file:"Hubieron algunos errores extrayendo el archivo comprimido zip. Intente de nuevo",server_status:"El servidor ya no presenta un estatus válido",server_stopped_responding:"El servidor ya no responde a solicitudes de estatus",uploading:"Se han producido errores al cargar el archivo zip"},notices:{uploading_complete:"Carga completa"}}},fr:{zip_file_imports:{errors:{extracting_file:"Des erreurs se sont produites lors de l’extraction du fichier zip. Veuillez réessayer",server_status:"Le serveur ne renvoie plus de statut valide.",server_stopped_responding:"Le serveur ne répond plus aux demandes de statuts.",uploading:"Erreurs lors du téléchargement du fichier zip."},notices:{uploading_complete:"Téléchargement terminé !"}}},ja:{zip_file_imports:{errors:{extracting_file:"zip ファイルを解凍する際にエラーが発生しました。もう一度、試してください",server_status:"サーバは、有効なステータスを返すことを停止しました。",server_stopped_responding:"サーバは、ステータス要求への応答を停止しました。",uploading:"zip ファイルをアップロードする際にエラーが発生しました。"},notices:{uploading_complete:"アップロードが完了しました!"}}},ko:{zip_file_imports:{errors:{extracting_file:"압축 파일을 해제하는 데 오류가 발생했습니다. 다시 시도하시기 바랍니다.",server_status:"서버가 유효한 상태 반환을 중지함",server_stopped_responding:"서버가 상태 요청에 대한 응답을 중지함",uploading:"zip 파일을 업로드하는 중에 오류가 발생했습니다."},notices:{uploading_complete:"업로드 완료!"}}},nl:{zip_file_imports:{errors:{extracting_file:"Er zijn fouten opgetreden tijdens het uitpakken van het zip-bestand. Probeer het opnieuw.",server_status:"De server heeft een ongeldige status gestuurd",server_stopped_responding:"De server reageert niet meer",uploading:"Er is een fout opgetreden tijdens het uploaden van het zip-bestand."},notices:{uploading_complete:"Uploaden is gereed!"}}},pt:{zip_file_imports:{errors:{extracting_file:"Houve alguns erros durante a extração do arquivo zip.  Tente novamente",server_status:"O servidor parou de retornar um status válido",server_stopped_responding:"O servidor parou de responder às solicitações de status",uploading:"Ocorreram erros durante o carregamento do ficheiro zip."},notices:{uploading_complete:"Carregamento concluído!"}}},ru:{zip_file_imports:{errors:{extracting_file:"При извлечении ZIP-файла произошло несколько ошибок.  Повторите попытку",server_status:"Сервер прекратил возвращать действительное состояние",server_stopped_responding:"Сервер прекратил отвечать на запросы статуса",uploading:"Произошло несколько ошибок при загрузке архива"},notices:{uploading_complete:"Выгрузка завершена!"}}},zh:{zip_file_imports:{errors:{extracting_file:"解压缩 zip 文件时出现某些错误。请重试",server_status:"服务器停止返回有效状态",server_stopped_responding:"服务器停止响应状态请求",uploading:"上传 zip 文件时出错。"},notices:{uploading_complete:"上传完成!"}}}}})}),function(){require(["i18n!zip_file_imports","jquery","jquery.ajaxJSON","jquery.instructure_forms","jqueryui/dialog","compiled/jquery.rails_flash_notifications","jqueryui/progressbar"],function(a,b){return b(document).ready(function(){var c,d;return d=b("#zip_file_import_form #zip_file"),d.change(function(){var a;return a=b(this).val(),a&&!a.match(/\.zip$/)?(b("#zip_only_message").show(),b("#upload_form .submit_button").attr("disabled",!0)):(b("#zip_only_message").hide(),b("#upload_form .submit_button").attr("disabled",!1))}),d.change(),b("#uploading_progressbar").progressbar(),b("#zip_file_import_form").submit(function(){return b("#uploading_please_wait_dialog").dialog({bgiframe:!0,width:400,modal:!0,closeOnEscape:!1,dialogClass:"ui-dialog-no-close-button"}),!0}),c=b("<iframe id='import_frame' name='import_frame'/>"),b("body").append(c.hide()),b("#zip_file_import_form").attr("target","import_frame"),b("#zip_file_import_form").submit(function(c){var d,e,f,g;return c.preventDefault(),b("#uploading_progressbar").progressbar("value",0),g=null,b("#zip_file_import_form .errors").hide(),d=function(c){var d,e,f,g,h,i,j,k;d=b("<div class='errors' style='color: #a00; font-weight: bold;'/>"),h=a.t("errors.extracting_file","There were some errors extracting the zip file.  Please try again"),d.text(h),b.flashError(h),b("#zip_import_batch_id").val(b("#zip_import_batch_id").val()+"0"),f=b("<ul class='errors'/>");for(j=0,k=c.length;j<k;j++)i=c[j],g=c[i],e=b("<li/>"),e.text(g),f.append(e);return b("#zip_file_import_form .errors").hide(),b("#zip_file_import_form").prepend(f).prepend(d),b("#uploading_please_wait_dialog").dialog("close")},f=function(){return b.getJSON(g,function(c){var e;return e=c.zip_file_import,e===null?(f.blankCount=f.blankCount||0,f.blankCount++,f.blankCount>10?d([a.t("errors.server_status","The server stopped returning a valid status")]):setTimeout(f,2e3)):e.data&&e.data.errors?d(e.data.errors):e.workflow_state==="failed"?d([]):e.workflow_state==="imported"?(b("#uploading_progressbar").progressbar("value",100),b("#uploading_please_wait_dialog").prepend(a.t("notices.uploading_complete","Uploading complete!")),location.href=b("#return_to").val()):(f.errorCount=0,f.blankCount=0,b("#uploading_progressbar").progressbar("value",(e.progress||0)*100),setTimeout(f,2e3))},function(){return f.errorCount=f.errorCount||0,f.errorCount++,f.errorCount>10?d([a.t("errors.server_stopped_responding","The server stopped responding to status requests")]):setTimeout(f,2e3)})},e={folder_id:b(this).find("select[name=folder_id]").val(),format:"json"},b.ajaxJSONFiles(b(this).attr("action"),"POST",e,b(this).find("#zip_file"),function(a){var c;return c=a.zip_file_import.id,g=b(".zip_file_import_status_url").attr("href"),g=b.replaceTags(g,"id",c),f()},function(b){return $dialog.text(a.t("errors.uploading","There were errors uploading the zip file."))})})})})}.call(this),define("compiled/bundles/zip_file_imports",function(){})