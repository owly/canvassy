define("translations/context.inbox",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{context:{inbox:{buttons:{mark_all_as_read:"وضع علامة أمام كل الرسائل كمقروءة"},errors:{mark_as_read_failed:"فشل وضع العلامة، الرجاء المحاولة مرة أخرى"},status:{marking_all_as_read:"جارٍ وضع علامة أمام الكل كمقروءة..."}}}},es:{context:{inbox:{buttons:{mark_all_as_read:"Marcar Todos los Mensajes como Leídos"},errors:{mark_as_read_failed:"No se pudo marcar como leído, intente de nuevo"},status:{marking_all_as_read:"Marcando Todo como Leído..."}}}},fr:{context:{inbox:{buttons:{mark_all_as_read:"Marquer tous les messages comme lus"},errors:{mark_as_read_failed:"Échec du marquage, veuillez réessayer"},status:{marking_all_as_read:"Tout marquer comme lus..."}}}},ja:{context:{inbox:{buttons:{mark_all_as_read:"メッセージをすべて既読にする"},errors:{mark_as_read_failed:"既読のマーク付けに失敗しました。もう一度やり直してください"},status:{marking_all_as_read:"すべて既読にする..."}}}},ko:{context:{inbox:{buttons:{mark_all_as_read:"모든 메시지를 읽음으로 표시"},errors:{mark_as_read_failed:"표시하기 실패"},status:{marking_all_as_read:"모두 읽음으로 표시 중..."}}}},nl:{context:{inbox:{buttons:{mark_all_as_read:"Markeer alle berichten als gelezen"},errors:{mark_as_read_failed:"Markeren mislukt, probeer nogmaals"},status:{marking_all_as_read:"Markeer alles als gelezen..."}}}},pt:{context:{inbox:{buttons:{mark_all_as_read:"Marcar todas as mensagens como lidas"},errors:{mark_as_read_failed:"Falha na marcação, tente novamente"},status:{marking_all_as_read:"Marcar todas como lidas..."}}}},ru:{context:{inbox:{buttons:{mark_all_as_read:"Пометить все сообщения как прочитанные"},errors:{mark_as_read_failed:"Сбой отметки, повторите попытку"},status:{marking_all_as_read:"Выполняется пометка всех как прочитанных"}}}},zh:{context:{inbox:{buttons:{mark_all_as_read:"标记所有消息为已读"},errors:{mark_as_read_failed:"标记失败，请重试"},status:{marking_all_as_read:"全部标记为已读..."}}}}}})}),define("context_inbox",["i18n!context.inbox","jquery","str/pluralize","jquery.ajaxJSON","jquery.instructure_date_and_time","jquery.instructure_forms","jquery.instructure_misc_helpers","jquery.templateData","vendor/jquery.pageless","vendor/jquery.scrollTo"],function(a,b,c){b(document).ready(function(){var c=[];b("#visible_message_types :checkbox").each(function(){b(this).attr("checked")&&c.push(b(this).val())}),c=c.join(","),b("#visible_message_types :checkbox").change(function(){var a=[];b("#visible_message_types :checkbox").each(function(){b("#message_list").toggleClass("show_"+b(this).val(),!!b(this).attr("checked")),b(this).attr("checked")&&a.push(b(this).val())}),a=a.join(","),a!=c&&b.ajaxJSON(b(".update_user_url").attr("href"),"PUT",{"user[visible_inbox_types]":a},function(a){c=a.user.visible_types},function(){})}).change(),b("#mark_inbox_as_read_form").formSubmit({beforeSubmit:function(c){b(this).find("button").attr("disabled",!0).find(".msg").text(a.t("status.marking_all_as_read","Marking All as Read..."))},success:function(c){b("#message_list .inbox_item:visible").addClass("read"),b(this).find("button").attr("disabled",!1).find(".msg").text(a.t("buttons.mark_all_as_read","Mark All Messages as Read")),b("#identity .unread-messages-count").remove(),b(this).slideUp()},error:function(c){b(this).find("button").attr("disabled",!1).find(".msg").text(a.t("errors.mark_as_read_failed","Marking failed, please try again"))}})}),window.messages={updateInboxItem:function(a,d,e){var f=d.inbox_item;f.created_at=b.parseFromISO(f.created_at).datetime_formatted;if(!a||a.length===0)a=b("#inbox_item_blank:first").clone(!0).removeAttr("id");a.addClass(b.underscore(f.asset_type)),f.sender_name=f.sender_name;var g=f.context_code.split("_");f.context_id=g.pop(),f.context_type_pluralized=c(g.join("_")),f.context_name=b(".context_name_for_"+f.context_code).text(),a.fillTemplateData({data:f,id:"inbox_item_"+f.id,hrefValues:["id","user_id","sender_id","context_id","context_type_pluralized"]}),b("#message_list .no_messages").remove();if(a.parents("#message_list").length===0){a.css("display","");if(e&&e=="top")b("#message_list").prepend(a),b("html,body").scrollTo(b("#messages_view"));else{var h=f.workflow_state=="read";a.toggleClass("read",h),b("#message_list #pageless-loader").length>0?b("#message_list #pageless-loader").before(a):b("#message_list").append(a)}}return a}}}),function(){require(["context_inbox"])}.call(this),define("compiled/bundles/discussion_replies",function(){})