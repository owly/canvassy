define("translations/quizzes.timing",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{quizzes:{timing:{labels:{time_elapsed:"انقضى الوقت",time_remaining:"الوقت المتبقي"}}}},es:{quizzes:{timing:{labels:{time_elapsed:"Tiempo Transcurrido",time_remaining:"Tiempo Restante"}}}},fr:{quizzes:{timing:{labels:{time_elapsed:"Temps écoulé",time_remaining:"Temps restant"}}}},ja:{quizzes:{timing:{labels:{time_elapsed:"経過時間",time_remaining:"残り時間"}}}},ko:{quizzes:{timing:{labels:{time_elapsed:"지난 시간",time_remaining:"남은 시간"}}}},nl:{quizzes:{timing:{labels:{time_elapsed:"Tijd verstreken",time_remaining:"Tijd resterend"}}}},pt:{quizzes:{timing:{labels:{time_elapsed:"Tempo transcorrido",time_remaining:"Tempo restante"}}}},ru:{quizzes:{timing:{labels:{time_elapsed:"Прошло времени",time_remaining:"Оставшееся время"}}}},zh:{quizzes:{timing:{labels:{time_elapsed:"经过时间",time_remaining:"剩余时间"}}}}}})}),define("quiz_timing",["i18n!quizzes.timing","jquery","vendor/date"],function(a,b){var c={initialTime:new Date,initTimes:function(){if(c.timesReady)return c.clientServerDiff;var a=Date.parse(b(".now").text())||c.initialTime||new Date,d=c.initialTime||new Date;c.clientServerDiff=a.getTime()-d.getTime(),c.timesReady=!0},setReferenceDate:function(d,e,f){c.timesReady||c.initTimes();var g={};return g.referenceDate=Date.parse(e),g.isDeadline=!0,b(".time_header").text(a.beforeLabel("time_remaining","Time Remaining")),g.referenceDate||(g.isDeadline=!1,b(".time_header").text(a.beforeLabel("time_elapsed","Time Elapsed")),g.referenceDate=Date.parse(d)),g.clientServerDiff=c.clientServerDiff,g}};return c}),define("translations/quizzes.file_upload_question_state",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{buttons:{choose_a_file:"اختيار ملف"}},es:{buttons:{choose_a_file:"Elegir un archivo"}},fr:{buttons:{choose_a_file:"Choisir un fichier"}},ja:{buttons:{choose_a_file:"ファイルの選択"}},ko:{buttons:{choose_a_file:"파일 선택"}},nl:{},pt:{buttons:{choose_a_file:"Escolher um ficheiro"}},ru:{buttons:{choose_a_file:"Выбрать файл"}},zh:{buttons:{choose_a_file:"选择文件"}}}})}),define("translations/quizzes.file_uploaded_or_removed",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"تم تحميل الملف بنجاح.",files_removed:"تمت إزالة %{display_name}."}}}},es:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"Su archivo se ha cargado correctamente.",files_removed:"Se ha eliminado %{display_name}."}}}},fr:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"Votre fichier a été chargé.",files_removed:"%{display_name} a été supprimé."}}}},ja:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"ファイルがアップロードされました。",files_removed:"%{display_name} は削除されました。"}}}},ko:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"파일을 성공적으로 업로드했습니다.",files_removed:"%{display_name}을(를) 제거했습니다."}}}},nl:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"Je bestand is succesvol geüpload.",files_removed:"%{display_name} is verwijderd."}}}},pt:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"O seu ficheiro foi carregado com sucesso.",files_removed:"{display_name} foi removido."}}}},ru:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"Ваш файл был успешно загружен.",files_removed:"%{display_name} было удалено."}}}},zh:{quizzes:{file_uploaded_or_removed:{quizzes:{file_successfully_uploaded:"您的文件已成功上传。",files_removed:"%{display_name} 已删除。"}}}}}})}),function(){define("compiled/behaviors/autoBlurActiveInput",[],function(){var a,b;return a=!1,b=!1,function(c){c==null&&(c=!0),a=c;if(b)return;return b=!0,$(window).bind({blur:function(b){if(a&&document.activeElement&&window===b.target)return $(document.activeElement).filter(":input").change().triggerHandler("blur")},focus:function(b){if(a&&document.activeElement&&window===b.target)return $(document.activeElement).filter(":input").triggerHandler("focus")}})}})}.call(this),define("translations/quizzes.take_quiz",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{buttons:{cancel:"إلغاء",login:"تسجيل الدخول"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"لا يمكنك العودة إلى هذا السؤال بعد الضغط على التالي. هل أنت متأكد أنك تريد تركه فارغًا؟\n",navigate_away:"أنت على وشك الخروج من هذه الصفحة.  هل تريد المتابعة على أية حال؟",unanswered_questions:{one:"لم تقم بالإجابة على سؤال واحد (انظر الشريط الجانبي الأيمن للتفاصيل).  الإرسال على أية حال؟",other:"لم تقم بالإجابة على %{count} من الأسئلة (انظر الشريط الجانبي الأيمن للتفاصيل).  الإرسال على أية حال؟"},unfinished_quiz:"أنت على وشك ترك الاختبار وهو غير منتهِ.  هل تريد المتابعة على أية حال؟",unseen_questions:{one:"لا يزال هناك سؤال واحد لم تره. هل تريد الإرسال على أي حال؟",other:"لا يزال هناك %{count} من الأسئلة التي لم تراها. هل تريد الإرسال على أي حال؟"}},days_count:{one:"يوم واحد",other:"%{count} من الأيام"},errors:{connection_lost:"تم فقد الاتصال بـ %{host}.  يُرجى التأكد من اتصالك بالإنترنت قبل المتابعة.",only_numerical_values:"يتم فقط قبول القيم الرقمية"},hide_time_link:"إخفاء",hours_count:{one:"ساعة واحدة",other:"%{count} ساعة"},minutes_count:{one:"دقيقة واحدة",other:"%{count} دقيقة"},months_count:{one:"شهر واحد",other:"%{count} أشهر"},notices:{extra_time:"لقد تم منحك وقتًا إضافيًا لهذه المحاولة",five_minutes_left:"يتبقى خمس دقائق",less_time:"تم تقليل وقتك لهذا الاختبار.",one_minute_left:"تتبقى دقيقة واحدة",thirty_minutes_left:"يتبقى ثلاثون دقيقة",twelve_hours_left:"يتبقى اثنا عشر ساعة"},question_answered:"المجابة",question_unanswered:"لم تتم الإجابة بعد",saved_at:"تم الحفظ على %{t}",saving:"جارٍ الحفظ...",seconds_count:{one:"ثانية واحدة",other:"%{count} ثوانٍ"},show_time_link:"إظهار",titles:{answered:"المجابة",come_back_later:"قمت بوضع علامة على هذا السؤال للرجوع إليه لاحقًا",not_answered:"لم تتم الإجابة بعد",times_up:"انتهى الوقت!"},years_count:{one:"سنة واحدة",other:"%{count} من السنوات"}}}},es:{buttons:{cancel:"Cancelar",login:"Inicio de sesión"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"No puede volver a esta pregunta una vez que haga clic en siguiente. ¿Está seguro de que desea dejarla en blanco?",navigate_away:"Está a punto de navegar hacia otra página. ¿Desea Continuar?",unanswered_questions:{one:"Tiene 1 pregunta sin contestar (vea la barra a la derecha para los detalles). ¿Desea enviar?",other:"Tiene %{count} preguntas sin contestar (vea la barra a la derecha para los detalles). ¿Desea enviar?"},unfinished_quiz:"Está a punto de dejar la evaluación incompleta. ¿Desea Continuar?",unseen_questions:{one:"Todavía hay 1 pregunta que no ha visto. ¿Enviar de todos modos?",other:"Todavía hay %{count} preguntas que no ha visto. ¿Enviar de todos modos?"}},days_count:{one:"1 Día",other:"%{count} Días"},errors:{connection_lost:"Se perdió la conexión a %{host} . Asegúrese que está conectado al internet antes de continuar.",only_numerical_values:"Sólo se aceptan valores numéricos"},hide_time_link:"Esconder",hours_count:{one:"1 Hora",other:"%{count} Horas"},minutes_count:{one:"1 Minuto",other:"%{count} Minutos"},months_count:{one:"1 Mes",other:"%{count} Meses"},notices:{extra_time:"Ha recibido tiempo extra en este intento",five_minutes_left:"Cinco Minutos Restantes",less_time:"El tiempo para esta evaluación se ha reducido",one_minute_left:"Un Minuto Restante",thirty_minutes_left:"Treinta Minutos Restantes",twelve_hours_left:"Doce Horas Restantes"},question_answered:"Contestado",question_unanswered:"No han respondido todavía",saved_at:"Evaluación guardada en %{t}",saving:"Guardando...",seconds_count:{one:"1 Segundo",other:"%{count} Segundos"},show_time_link:"Mostrar",titles:{answered:"Contestado",come_back_later:"Marcó esta pregunta para regresar a ella",not_answered:"Aún no ha Contestado",times_up:"¡Se acabó el tiempo!"},years_count:{one:"1 Año",other:"%{count} Años"}}}},fr:{buttons:{cancel:"Annuler",login:"Connexion"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"Vous ne pouvez pas revenir à cette question avant d’avoir cliqué sur Suivant. Voulez-vous vraiment laisser le champ vide ?",navigate_away:"Vous êtes sur le point de quitter cette page. Voulez-vous continuer ?",unanswered_questions:{one:"Vous n’avez pas répondu à 1 question (voir la barre latérale à droite pour plus d’informations). Voulez-vous envoyer quand même le questionnaire ?",other:"Vous n’avez pas répondu à %{count} questions (voir la barre latérale à droite pour plus d’informations). Voulez-vous envoyer quand même le questionnaire ?"},unfinished_quiz:"Vous êtes sur le point de quitter le questionnaire sans l’avoir terminé. Voulez-vous continuer ?",unseen_questions:{one:"Vous n’avez pas répondu à 1 question.  Voulez-vous envoyer quand même le questionnaire ?",other:"Vous n’avez pas répondu à %{count} questions. Voulez-vous envoyer quand même le questionnaire ?"}},days_count:{one:"1 jour",other:"%{count} jours"},errors:{connection_lost:"La connexion à %{host} a été perdue. Veuillez vérifier que vous êtes connecté à Internet avant de continuer.",only_numerical_values:"seules les valeurs numériques sont acceptées"},hide_time_link:"Masquer",hours_count:{one:"1 heure",other:"%{count} heures"},minutes_count:{one:"1 minute",other:"%{count} minutes"},months_count:{one:"1 mois",other:"%{count} mois"},notices:{extra_time:"Vous avez reçu du temps supplémentaire pour cette tentative",five_minutes_left:"Cinq dernières minutes",less_time:"Le temps accordé pour répondre à ce quizz a été réduit.",one_minute_left:"Dernière minute",thirty_minutes_left:"Trente dernières minutes",twelve_hours_left:"Douze dernières heures"},question_answered:"Réponse donnée",question_unanswered:"Pas encore de réponse",saved_at:"Questionnaire enregistré à %{t}",saving:"Enregistrement...",seconds_count:{one:"1 seconde",other:"%{count} secondes"},show_time_link:"Événement",titles:{answered:"Avec réponse",come_back_later:"Vous avez marqué cette question pour y revenir ultérieurement",not_answered:"Pas encore de réponse",times_up:"Terminé !"},years_count:{one:"1 an",other:"%{count} années"}}}},ja:{buttons:{cancel:"キャンセル",login:"ログイン"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"次に移動した後は、この問題に戻れません。空白のままにしてもよろしいですか?",navigate_away:"別のページに移動しようとしています。続行しますか?",unanswered_questions:{one:"解答していない問題が %{count} 個あります (詳細については右のサイドバーを参照)。提出してもよろしいですか?",other:"解答していない問題が %{count} 個あります (詳細については右のサイドバーを参照)。提出してもよろしいですか?"},unfinished_quiz:"クイズを完了せずに終了しようとしています。続行しますか?",unseen_questions:{one:"表示していない問題がまだ %{count} 個あります。提出してもよろしいですか?",other:"表示していない問題がまだ %{count} 個あります。提出してもよろしいですか?"}},days_count:{one:"%{count} 日",other:"%{count} 日"},errors:{connection_lost:"%{host} への接続が失われました。続行する前に、インターネットに接続していることを確認してください。",only_numerical_values:"数値のみで入力してください"},hide_time_link:"非表示",hours_count:{one:"%{count} 時間",other:"%{count} 時間"},minutes_count:{one:"%{count} 分",other:"%{count} 分"},months_count:{one:"%{count} か月",other:"%{count} か月"},notices:{extra_time:"この試行には、延長時間が与えられています",five_minutes_left:"残り 5 分",less_time:"このクイズの回答時間が少なくなっています。",one_minute_left:"残り 1 分",thirty_minutes_left:"残り 30 分",twelve_hours_left:"残り 12 時間"},question_answered:"解答済み",question_unanswered:"まだ解答していない",saved_at:"クイズの保存場所: %{t}",saving:"保存しています...",seconds_count:{one:"%{count} 秒",other:"%{count} 秒"},show_time_link:"表示",titles:{answered:"解答済み",come_back_later:"この問題に、後で戻ってくるためのマークを付けました",not_answered:"まだ解答していない",times_up:"制限時間になりました!"},years_count:{one:"%{count} 年",other:"%{count} 年"}}}},ko:{buttons:{cancel:"취소",login:"로그인"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"다음을 클릭하면 이 문제로 돌아올 수 없습니다. 공란으로 두시겠습니까?",navigate_away:"이 페이지에서 나가려고 합니다. 계속 진행하시겠습니까?",unanswered_questions:{one:"답변하지 않은 문제가 %{count}개 있습니다(세부 정보는 오른쪽 사이드바 참고). 제출하시겠습니까?",other:"답변하지 않은 문제가 %{count}개 있습니다(세부 정보는 오른쪽 사이드바 참고). 제출하시겠습니까?"},unfinished_quiz:"퀴즈를 마치지 않은 채로 나가려고 합니다. 계속 진행하시겠습니까?",unseen_questions:{one:"아직 문제 %{count}개를 보지 않았습니다.  제출하시겠습니까?",other:"아직 문제 %{count}개를 보지 않았습니다.  제출하시겠습니까?"}},days_count:{one:"%{count}일",other:"%{count}일"},errors:{connection_lost:"%{host}와의 연결이 끊어졌습니다. 계속 진행하기 전에 인터넷에 연결되어 있는지 확인하시기 바랍니다.",only_numerical_values:"숫자 값만 허용됨"},hide_time_link:"숨기기",hours_count:{one:"%{count}시간",other:"%{count}시간"},minutes_count:{one:"%{count}분",other:"%{count}분"},months_count:{one:"%{count}개월",other:"%{count}개월"},notices:{extra_time:"이 시도에 대해 추가 시간이 주어짐",five_minutes_left:"5분 남음",less_time:"이 퀴즈에 대한 시간이 줄어들었습니다.",one_minute_left:"1분 남음",thirty_minutes_left:"30분 남음",twelve_hours_left:"12시간 남음"},question_answered:"답변함",question_unanswered:"아직 답변하지 않음",saved_at:"%{t}에 저장됨",saving:"저장 중...",seconds_count:{one:"%{count}초",other:"%{count}초"},show_time_link:"표시",titles:{answered:"답변함",come_back_later:"나중에 돌아오기 위해 이 문제를 표시",not_answered:"아직 답변하지 않음",times_up:"시간 종료!"},years_count:{one:"%{count}년",other:"%{count}년"}}}},nl:{buttons:{cancel:"Annuleren",login:"Inloggen"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"Je kunt niet teruggaan naar deze vraag als je op volgende klikt. Weet je zeker dat je het veld wil leeglaten?",navigate_away:"Je probeert deze pagina te verlaten. Doorgaan?",unanswered_questions:{one:"Je hebt 1 vraag niet beantwoord (bekijk het rechtermenu voor details). Toch inleveren?",other:"Je hebt %{count} vragen niet beantwoord (bekijk het rechtermenu voor details). Toch inleveren?"},unfinished_quiz:"Je staat op het punt om de test onafgerond te laten. Toch doorgaan?",unseen_questions:{one:"Je hebt 1 vraag niet bekeken. Toch inleveren?",other:"Je hebt %{count} vragen niet bekeken. Toch inleveren?"}},days_count:{one:"1 dag",other:"%{count} dagen"},errors:{connection_lost:"Connectie met %{host} is verloren. Controleer of je met internet verbonden bent voordat je doorgaat.",only_numerical_values:"alleen numerieke waarden zijn toegestaan"},hide_time_link:"Verberg",hours_count:{one:"1 uur",other:"%{count} uren"},minutes_count:{one:"%{count} minuten",other:"%{count} minuten"},months_count:{one:"1 maand",other:"%{count} maanden"},notices:{extra_time:"Je hebt extra tijd gekregen voor deze poging",five_minutes_left:"Je hebt nog vijf minuten ",less_time:"De tijd die je nog voor deze test hebt is ingekort.",one_minute_left:"Je hebt nog één minuut",thirty_minutes_left:"Je hebt nog dertig minuten",twelve_hours_left:"Je hebt nog twaalf uur"},question_answered:"Beantwoord",question_unanswered:"Nog niet beantwoord",saved_at:"Test opgeslagen op %{t}",saving:"Bezig met opslaan...",seconds_count:{one:"1 seconde",other:"%{count} seconden"},show_time_link:"Bekijk",titles:{answered:"Beantwoord",come_back_later:"Je hebt deze vraag gemarkeerd om later nogmaals te bekijken",not_answered:"Nog niet beantwoord",times_up:"Tijd is afgelopen!"},years_count:{one:"1 jaar",other:"%{count} jaren"}}}},pt:{buttons:{cancel:"Cancelar",login:"Iniciar sessão"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"Não pode voltar a esta pergunta depois de clicar em Seguinte. Tem a certeza de que pretende deixá-la em branco? ",navigate_away:"Está prestes a sair desta página.  Continuar mesmo assim?",unanswered_questions:{one:"Não respondeu a 1 pergunta (veja os detalhes na barra lateral à direita).  Enviar mesmo assim?",other:"Não respondeu a %{count} perguntas (veja os detalhes na barra lateral à direita).  Enviar mesmo assim?"},unfinished_quiz:"Está prestes a deixar este teste incompleto.  Continuar mesmo assim?",unseen_questions:{one:"Há 1 pergunta que ainda não viu.  Enviar à mesma?",other:"Há %{count} perguntas que ainda não viu.  Enviar à mesma?"}},days_count:{one:"1 dia",other:"%{count} dias"},errors:{connection_lost:"A ligação a %{host} foi perdida.  Verifique se está ligado à Internet antes de prosseguir.",only_numerical_values:"são aceitos somente valores numéricos"},hide_time_link:"Ocultar",hours_count:{one:"1 hora",other:"%{count} horas"},minutes_count:{one:"1 minuto",other:"%{count} Minutos"},months_count:{one:"1 mês",other:"%{count} meses"},notices:{extra_time:"Recebeu um tempo extra nesta tentativa",five_minutes_left:"faltam cinco minutos",less_time:"O tempo disponível para este teste foi diminuído.",one_minute_left:"falta um minuto",thirty_minutes_left:"faltam trinta minutos",twelve_hours_left:"faltam doze horas"},question_answered:"Respondida",question_unanswered:"Ainda não responderam",saved_at:"Teste guardado em %{t}",saving:"A guardar...",seconds_count:{one:"1 segundo",other:"%{count} segundos"},show_time_link:"Exibir",titles:{answered:"Respondida",come_back_later:"Marcou esta pergunta para voltar mais tarde",not_answered:"Ainda não respondida",times_up:"O tempo acabou!"},years_count:{one:"1 ano",other:"%{count} anos"}}}},ru:{buttons:{cancel:"Отменить",login:"Вход в систему"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"Вы не сможете вернуться к этому вопросу, если вы нажмете ''далее''. Вы уверены, что хотите оставить его незаполненным?",navigate_away:"Вы собираетесь покинуть эту страницу.  Продолжить?",unanswered_questions:{one:"У вас есть 1 вопрос без ответа (см. правую боковую панель для подробностей). Все равно отправить?",other:"У вас есть %{count} вопроса(ов) без ответа (см. правую боковую панель для подробностей). Все равно отправить?"},unfinished_quiz:"Вы собираетесь оставить эту контрольную работу незавершенной.  Продолжить?",unseen_questions:{one:"Вы все еще не просмотрели 1 вопрос.  Все равно отправить?",other:"Вы все еще не просмотрели %{count} вопросов.  Все равно отправить?"}},days_count:{one:" 1 день",other:"%{count} дня(дней)"},errors:{connection_lost:"Подключение к %{host} было потеряно.  Перед продолжением убедитесь, что вы подключены к Интернету.",only_numerical_values:"принимаются только числовые значения"},hide_time_link:"Скрыть",hours_count:{one:"1 час ",other:"%{count} часа(ов)"},minutes_count:{one:"1 минута",other:"%{count} минут(ы)"},months_count:{one:"1 месяц",other:"%{count} месяца(ев)"},notices:{extra_time:"Вам предоставлено дополнительное время на эту попытку",five_minutes_left:"Осталось пять минут",less_time:"Ваше время на этот тест было уменьшено.",one_minute_left:"Осталась одна минута",thirty_minutes_left:"Осталось тридцать минут",twelve_hours_left:"Осталось двенадцать часов"},question_answered:"Получен ответ",question_unanswered:"Еще не отвечено",saved_at:"Контрольная работа сохранена в %{t}",saving:"Сохранение...",seconds_count:{one:"1 секунда",other:"%{count} секунд(ы)"},show_time_link:"Показать",titles:{answered:"Получен ответ",come_back_later:"Вы отметили этот вопрос, чтобы вернуться к нему позднее",not_answered:"Еще не отвечено",times_up:"Время истекло!"},years_count:{one:"1 год",other:"%{count} года(лет)"}}}},zh:{buttons:{cancel:"取消",login:"登录"},quizzes:{take_quiz:{confirms:{cant_go_back_blank:"您单击”下一个“后，就不能返回此问题。是否确定要留空?",navigate_away:"您将要导航离开此页面。是否仍要继续?",unanswered_questions:{one:"您有 %{count} 个问题未回答（参见右侧边栏了解详细信息）。是否仍要提交？",other:"您有 %{count} 个问题未回答（参见右侧边栏了解详细信息）。是否仍要提交？"},unfinished_quiz:"您将要离开未完成的测验。是否仍要继续?",unseen_questions:{one:"您还有 %{count} 个问题没有看到。是否提交？",other:"您还有 %{count} 个问题没有看到。是否提交？"}},days_count:{one:"%{count} 天",other:"%{count} 天"},errors:{connection_lost:"到 %{host} 的连接丢失。请确保已连接到 Internet，然后继续。",only_numerical_values:"只接受数值"},hide_time_link:"隐藏",hours_count:{one:"%{count} 小时",other:"%{count} 小时"},minutes_count:{one:"%{count} 分钟",other:"%{count} 分钟"},months_count:{one:"%{count} 个月",other:"%{count} 个月"},notices:{extra_time:"系统已提供有关此尝试的额外时间",five_minutes_left:"剩余五分钟时间",less_time:"您参加此测验的时间已缩短。",one_minute_left:"剩余一分钟时间",thirty_minutes_left:"剩余三十分钟时间",twelve_hours_left:"剩余十二小时"},question_answered:"已回答",question_unanswered:"尚未回答",saved_at:"在 %{t} 保存测验",saving:"正在保存...",seconds_count:{one:"%{count} 秒",other:"%{count} 秒"},show_time_link:"显示",titles:{answered:"已回答",come_back_later:"您已标记此问题以稍后返回",not_answered:"尚未回答",times_up:"时间到！"},years_count:{one:"%{count} 年",other:"%{count} 年"}}}}}})}),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a},d=[].slice;define("compiled/models/File",["jquery","underscore","Backbone","jquery.ajaxJSON"],function(b,e,f){var g,h,i;return h=f.Model,g=function(f){function g(){return this.saveFrd=a(this.saveFrd,this),i=g.__super__.constructor.apply(this,arguments),i}return c(g,f),g.prototype.initialize=function(a,b){return this.preflightUrl=b.preflightUrl,g.__super__.initialize.apply(this,arguments)},g.prototype.save=function(a,c){var d,e,f,g=this;return a==null&&(a={}),c==null&&(c={}),this.set(a),d=b.Deferred(),e=this.get("file"),f=(e.value||e.name).split(/[\/\\]/).pop(),b.ajaxJSON(this.preflightUrl,"POST",{name:f,on_duplicate:"rename"},function(a){return g.saveFrd(a,d,e,c)},function(a){return d.reject(a),typeof c.error=="function"?c.error(a):void 0}),d},g.prototype.saveFrd=function(a,b,c,d){var e=this;return this.uploadParams=a.upload_params,this.set(this.uploadParams),c.name=a.file_param,this.url=function(){return a.upload_url},h.prototype.save.call(this,null,{multipart:!0,success:function(a){return b.resolve(a),typeof d.success=="function"?d.success(a):void 0},error:function(a){return b.reject(a),typeof d.error=="function"?d.error(a):void 0}})},g.prototype.toJSON=function(){var a;return e.pick.apply(e,[this.attributes,"file"].concat(d.call(e.keys((a=this.uploadParams)!=null?a:{}))))},g.prototype.present=function(){return e.clone(this.attributes)},g}(h)})}.call(this),function(){define("compiled/jquery/serializeForm",["jquery","underscore"],function(a,b){var c,d,e,f,g,h;return h=/^(?:select|textarea)/i,f=/checkbox|radio/i,e=/\r?\n/g,g=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week|checkbox|radio|file)$/i,d=function(a){return a.name&&!a.disabled&&h.test(a.nodeName)||g.test(a.type)},c=function(c){var d,g,h;return g=function(a){return{name:c.name,el:c,value:b.isString(a)?a.replace(e,"\r\n"):a}},d=a(c),h=f.test(c.type)?c.checked:c.type==="file"?d.val()?c:void 0:d.hasClass("datetime_field_enabled")?d.val()===""?null:d.data("date")||null:d.data("rich_text")?d.editorBox("get_code",!1):d.val(),b.isArray(h)?b.map(h,g):g(h)},a.fn.serializeForm=function(){return b.chain(this[0].elements||this.find(":input")).filter(d).map(c).value()}})}.call(this),define("jquery.toJSON",["jquery","compiled/jquery/serializeForm"],function(a){var b={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/},c=function(a,b,c){return a[b]=c,a};a.fn.toJSON=function(){var d={},e={},f=function(a,b){e[a]===undefined&&(e[a]=0);if(b===undefined)return e[a]++;if(b!==undefined&&b>e[a])return e[a]=++b};return a.each(a(this).serializeForm(),function(){if(!b.validate.test(this.name))return;var e,g=this.name.match(b.key),h=this.value,i=this.name;while((e=g.pop())!==undefined)i=i.replace(new RegExp("\\["+e+"\\]$"),""),e.match(b.push)?h=c([],f(i),h):e.match(b.fixed)?(f(i,e),h=c([],e,h)):e.match(b.named)&&(h=c({},e,h));d=a.extend(!0,d,h)}),d}}),define("vendor/ui.selectmenu",["jquery","vendor/jquery.scrollTo","jqueryui/widget"],function(a){a.widget("ui.selectmenu",{getter:"value",version:"1.9",eventPrefix:"selectmenu",options:{transferClasses:!0,appendTo:"body",typeAhead:1e3,style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,escapeHtml:!1,bgImage:function(){}},_create:function(){var b=this,c=this.options,d=(this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10)).replace(":","\\:");this.ids=[d,d+"-button",d+"-menu"],this._safemouseup=!0,this.isOpen=!1,this.newelement=a("<a />",{"class":this.widgetBaseClass+" ui-widget ui-state-default ui-corner-all",id:this.ids[1],role:"button",href:"#nogo",tabindex:this.element.attr("disabled")?1:0,"aria-haspopup":!0,"aria-owns":this.ids[2]}),this.newelementWrap=a("<span />").append(this.newelement).insertAfter(this.element);var e=this.element.attr("tabindex");e&&this.newelement.attr("tabindex",e),this.newelement.data("selectelement",this.element),this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement),this.newelement.prepend('<span class="'+b.widgetBaseClass+'-status" />'),this.element.bind({"click.selectmenu":function(a){b.newelement.focus(),a.preventDefault()}}),this.newelement.bind("mousedown.selectmenu",function(a){return b._toggle(a,!0),c.style=="popup"&&(b._safemouseup=!1,setTimeout(function(){b._safemouseup=!0},300)),!1}).bind("click.selectmenu",function(){return!1}).bind("keydown.selectmenu",function(c){var d=!1;switch(c.keyCode){case a.ui.keyCode.ENTER:d=!0;break;case a.ui.keyCode.SPACE:b._toggle(c);break;case a.ui.keyCode.UP:c.altKey?b.open(c):b._moveSelection(-1);break;case a.ui.keyCode.DOWN:c.altKey?b.open(c):b._moveSelection(1);break;case a.ui.keyCode.LEFT:b._moveSelection(-1);break;case a.ui.keyCode.RIGHT:b._moveSelection(1);break;case a.ui.keyCode.TAB:d=!0;break;case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.HOME:b.index(0);break;case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.END:b.index(b._optionLis.length);break;default:d=!0}return d}).bind("keypress.selectmenu",function(a){return a.which>0&&b._typeAhead(a.which,"mouseup"),!0}).bind("mouseover.selectmenu",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseout.selectmenu",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.selectmenu",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.selectmenu",function(){c.disabled||a(this).removeClass("ui-state-focus")}),a(document).bind("mousedown.selectmenu-"+this.ids[0],function(a){b.isOpen&&b.close(a)}),this.element.bind("click.selectmenu",function(){b._refreshValue()}).bind("focus.selectmenu",function(){b.newelement&&b.newelement[0].focus()}),c.width||(c.width=this.element.outerWidth()),this.newelement.width(c.width),this.element.hide(),this.list=a("<ul />",{"class":"ui-widget ui-widget-content","aria-hidden":!0,role:"listbox","aria-labelledby":this.ids[1],id:this.ids[2]}),this.listWrap=a("<div />",{"class":b.widgetBaseClass+"-menu"}).append(this.list).appendTo(c.appendTo),this.list.bind("keydown.selectmenu",function(c){var d=!1;switch(c.keyCode){case a.ui.keyCode.UP:c.altKey?b.close(c,!0):b._moveFocus(-1);break;case a.ui.keyCode.DOWN:c.altKey?b.close(c,!0):b._moveFocus(1);break;case a.ui.keyCode.LEFT:b._moveFocus(-1);break;case a.ui.keyCode.RIGHT:b._moveFocus(1);break;case a.ui.keyCode.HOME:b._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:b._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:b._scrollPage("down");break;case a.ui.keyCode.END:b._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:b.close(c,!0),a(c.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.TAB:d=!0,b.close(c,!0),a(c.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.ESCAPE:b.close(c,!0);break;default:d=!0}return d}).bind("keypress.selectmenu",function(a){return a.which>0&&b._typeAhead(a.which,"focus"),!0}).bind("mousedown.selectmenu mouseup.selectmenu",function(){return!1}),a(window).bind("resize.selectmenu-"+this.ids[0],a.proxy(b.close,this))},_init:function(){var b=this,c=this.options,d=[];this.element.find("option").each(function(){var e=a(this);d.push({value:e.attr("value"),text:b._formatText(e.text()),selected:e.attr("selected"),disabled:e.attr("disabled"),classes:e.attr("class"),typeahead:e.attr("typeahead"),parentOptGroup:e.parent("optgroup"),bgImage:c.bgImage.call(e)})});var e=b.options.style=="popup"?" ui-state-active":"";this.list.html("");if(d.length)for(var f=0;f<d.length;f++){var g={role:"presentation"};d[f].disabled&&(g["class"]=this.namespace+"-state-disabled");var h={html:d[f].text||"&nbsp;",href:"#nogo",tabindex:-1,role:"option","aria-selected":!1};d[f].disabled&&(h["aria-disabled"]=d[f].disabled),d[f].typeahead&&(h.typeahead=d[f].typeahead);var i=a("<a/>",h),j=a("<li/>",g).append(i).data("index",f).addClass(d[f].classes).data("optionClasses",d[f].classes||"").bind("mouseup.selectmenu",function(c){if(b._safemouseup&&!b._disabled(c.currentTarget)&&!b._disabled(a(c.currentTarget).parents("ul>li."+b.widgetBaseClass+"-group "))){var d=a(this).data("index")!=b._selectedIndex();b.index(a(this).data("index")),b.select(c),d&&b.change(c),b.close(c,!0)}return!1}).bind("click.selectmenu",function(){return!1}).bind("mouseover.selectmenu focus.selectmenu",function(c){!a(c.currentTarget).hasClass(b.namespace+"-state-disabled")&&!a(c.currentTarget).parent("ul").parent("li").hasClass(b.namespace+"-state-disabled")&&(b._selectedOptionLi().addClass(e),b._focusedOptionLi().removeClass(b.widgetBaseClass+"-item-focus ui-state-hover"),a(this).removeClass("ui-state-active").addClass(b.widgetBaseClass+"-item-focus ui-state-hover"))}).bind("mouseout.selectmenu blur.selectmenu",function(){a(this).is(b._selectedOptionLi().selector)&&a(this).addClass(e),a(this).removeClass(b.widgetBaseClass+"-item-focus ui-state-hover")});if(d[f].parentOptGroup.length){var k=b.widgetBaseClass+"-group-"+this.element.find("optgroup").index(d[f].parentOptGroup);this.list.find("li."+k).length?this.list.find("li."+k+":last ul").append(j):a(' <li role="presentation" class="'+b.widgetBaseClass+"-group "+k+(d[f].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+b.widgetBaseClass+'-group-label">'+d[f].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(j)}else j.appendTo(this.list);if(c.icons)for(var l in c.icons)if(j.is(c.icons[l].find)){j.data("optionClasses",d[f].classes+" "+b.widgetBaseClass+"-hasIcon").addClass(b.widgetBaseClass+"-hasIcon");var m=c.icons[l].icon||"";j.find("a:eq(0)").prepend('<span class="'+b.widgetBaseClass+"-item-icon ui-icon "+m+'"></span>'),d[f].bgImage&&j.find("span").css("background-image",d[f].bgImage)}}else a('<li role="presentation"><a href="#nogo" tabindex="-1" role="option"></a></li>').appendTo(this.list);var n=c.style=="dropdown";this.newelement.toggleClass(b.widgetBaseClass+"-dropdown",n).toggleClass(b.widgetBaseClass+"-popup",!n),this.list.toggleClass(b.widgetBaseClass+"-menu-dropdown ui-corner-bottom",n).toggleClass(b.widgetBaseClass+"-menu-popup ui-corner-all",!n).find("li:first").toggleClass("ui-corner-top",!n).end().find("li:last").addClass("ui-corner-bottom"),this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",n).toggleClass("ui-icon-triangle-2-n-s",!n);if(c.transferClasses){var o=this.element.attr("class")||"";this.newelement.add(this.list).addClass(o)}c.style=="dropdown"?this.list.width(c.menuWidth?c.menuWidth:c.width):this.list.width(c.menuWidth?c.menuWidth:c.width-c.handleWidth),this.list.css("height","auto");var p=this.listWrap.height(),q=a(window).height(),r=c.maxHeight?Math.min(c.maxHeight,q):q/3;p>r&&this.list.height(r),this._optionLis=this.list.find("li:not(."+b.widgetBaseClass+"-group)"),this.element.attr("disabled")?this.disable():this.enable(),this.index(this._selectedIndex()),this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-focus"),clearTimeout(this.refreshTimeout),this.refreshTimeout=window.setTimeout(function(){b._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled"+" "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu"),a(window).unbind(".selectmenu-"+this.ids[0]),a(document).unbind(".selectmenu-"+this.ids[0]),this.newelementWrap.remove(),this.listWrap.remove(),this.element.unbind(".selectmenu").show(),a.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(a,b){var c=this,d=String.fromCharCode(a).toLowerCase(),e=null,f=null;c._typeAhead_timer&&(window.clearTimeout(c._typeAhead_timer),c._typeAhead_timer=undefined),c._typeAhead_chars=(c._typeAhead_chars===undefined?"":c._typeAhead_chars).concat(d),c._typeAhead_chars.length<2||c._typeAhead_chars.substr(-2,1)===d&&c._typeAhead_cycling?(c._typeAhead_cycling=!0,e=d):(c._typeAhead_cycling=!1,e=c._typeAhead_chars);var g=(b!=="focus"?this._selectedOptionLi().data("index"):this._focusedOptionLi().data("index"))||0;for(var h=0;h<this._optionLis.length;h++){var i=this._optionLis.eq(h).text().substr(0,e.length).toLowerCase();if(i===e)if(c._typeAhead_cycling){f===null&&(f=h);if(h>g){f=h;break}}else f=h}f!==null&&this._optionLis.eq(f).find("a").trigger(b),c._typeAhead_timer=window.setTimeout(function(){c._typeAhead_timer=undefined,c._typeAhead_chars=undefined,c._typeAhead_cycling=undefined},c.options.typeAhead)},_uiHash:function(){var b=this.index();return{index:b,option:a("option",this.element).get(b),value:this.element[0].value}},open:function(a){var b=this,c=this.options;if(b.newelement.attr("aria-disabled")!="true"){b._closeOthers(a),b.newelement.addClass("ui-state-active"),b.listWrap.appendTo(c.appendTo),b.list.attr("aria-hidden",!1),b.listWrap.addClass(b.widgetBaseClass+"-open");var d=this._selectedOptionLi();c.style=="dropdown"?b.newelement.removeClass("ui-corner-all").addClass("ui-corner-top"):this.list.css("left",-5e3).scrollTop(this.list.scrollTop()+d.position().top-this.list.outerHeight()/2+d.outerHeight()/2).css("left","auto"),b._refreshPosition();var e=d.find("a");e.length&&e[0].focus(),b.isOpen=!0,b._trigger("open",a,b._uiHash())}},close:function(a,b){this.newelement.is(".ui-state-active")&&(this.newelement.removeClass("ui-state-active"),this.listWrap.removeClass(this.widgetBaseClass+"-open"),this.list.attr("aria-hidden",!0),this.options.style=="dropdown"&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all"),b&&this.newelement.focus(),this.isOpen=!1,this._trigger("close",a,this._uiHash()))},change:function(a){this.element.trigger("change"),this._trigger("change",a,this._uiHash())},select:function(a){if(this._disabled(a.currentTarget))return!1;this._trigger("select",a,this._uiHash())},widget:function(){return this.listWrap.add(this.newelementWrap)},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)}),a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(a,b){this.isOpen?this.close(a,b):this.open(a)},_formatText:function(b){return this.options.format?b=this.options.format(b):this.options.escapeHtml&&(b=a("<div />").text(b).html()),b},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(a,b){if(!this.options.disabled){var c=parseInt(this._selectedOptionLi().data("index")||0,10),d=c+a;d<0&&(d=0),d>this._optionLis.size()-1&&(d=this._optionLis.size()-1);if(d===b)return!1;this._optionLis.eq(d).hasClass(this.namespace+"-state-disabled")?(a>0?++a:--a,this._moveSelection(a,d)):this._optionLis.eq(d).trigger("mouseover").trigger("mouseup")}},_moveFocus:function(a,b){if(!isNaN(a))var c=parseInt(this._focusedOptionLi().data("index")||0,10),d=c+a;else var d=parseInt(this._optionLis.filter(a).data("index"),10);d<0&&(d=0),d>this._optionLis.size()-1&&(d=this._optionLis.size()-1);if(d===b)return!1;var e=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1e3);this._focusedOptionLi().find("a:eq(0)").attr("id",""),this._optionLis.eq(d).hasClass(this.namespace+"-state-disabled")?(a>0?++a:--a,this._moveFocus(a,d)):this._optionLis.eq(d).find("a:eq(0)").attr("id",e).focus(),this.list.attr("aria-activedescendant",e)},_scrollPage:function(a){var b=Math.floor(this.list.outerHeight()/this._optionLis.first().outerHeight());b=a=="up"?-b:b,this._moveFocus(b)},_setOption:function(a,b){this.options[a]=b,a=="disabled"&&(b&&this.close(),this.element.add(this.newelement).add(this.list)[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+this.namespace+"-state-disabled").attr("aria-disabled",b))},disable:function(a,b){typeof a=="undefined"?this._setOption("disabled",!0):b=="optgroup"?this._disableOptgroup(a):this._disableOption(a)},enable:function(a,b){typeof a=="undefined"?this._setOption("disabled",!1):b=="optgroup"?this._enableOptgroup(a):this._enableOption(a)},_disabled:function(b){return a(b).hasClass(this.namespace+"-state-disabled")},_disableOption:function(a){var b=this._optionLis.eq(a);b&&(b.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!0),this.element.find("option").eq(a).attr("disabled","disabled"))},_enableOption:function(a){var b=this._optionLis.eq(a);b&&(b.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!1),this.element.find("option").eq(a).removeAttr("disabled"))},_disableOptgroup:function(a){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+a);b&&(b.addClass(this.namespace+"-state-disabled").attr("aria-disabled",!0),this.element.find("optgroup").eq(a).attr("disabled","disabled"))},_enableOptgroup:function(a){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+a);b&&(b.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",!1),this.element.find("optgroup").eq(a).removeAttr("disabled"))},index:function(b){if(!arguments.length)return this._selectedIndex();if(!!this._disabled(a(this._optionLis[b])))return!1;this.element[0].selectedIndex=b,this._refreshValue()},value:function(a){if(!arguments.length)return this.element[0].value;this.element[0].value=a,this._refreshValue()},_refreshValue:function(){var a=this.options.style=="popup"?" ui-state-active":"",b=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1e3);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+a).find("a").attr("aria-selected","false").attr("id",""),this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+a).find("a").attr("aria-selected","true").attr("id",b);var c=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"",d=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(c).data("optionClasses",d).addClass(d).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html()),this.list.attr("aria-activedescendant",b)},_refreshPosition:function(){var a=this.options;if(a.style=="popup"&&!a.positionOptions.offset)var b=this._selectedOptionLi(),c="0 "+(this.list.offset().top-b.offset().top-(this.newelement.outerHeight()+b.outerHeight())/2);this.listWrap.zIndex(this.element.zIndex()+1).position({of:a.positionOptions.of||this.newelement,my:a.positionOptions.my,at:a.positionOptions.at,offset:a.positionOptions.offset||c,collision:a.positionOptions.collision||a.style=="popup"?"fit":"flip"})}})}),function(){define("compiled/behaviors/quiz_selectmenu",["jquery","vendor/ui.selectmenu"],function(a){return a(function(){return a(".question select").css({"-webkit-appearance":"none","font-size":"100%","padding-right":"60px"}).selectmenu({escapeHtml:!0})})})}.call(this),define("jst/quizzes/fileUploadQuestionState",["compiled/handlebars_helpers","i18n!quizzes.file_upload_question_state"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["quizzes/fileUploadQuestionState"]=b(function(a,b,c,d,e){function p(a,b){var d="",e;return d+="\n  ",i=c.display_name,e=i||a.display_name,typeof e===l?e=e.call(a,{hash:{}}):e===n&&(e=m.call(a,"display_name",{hash:{}})),d+=o(e)+'<a href="#" class="pull-right icon-end delete-attachment"></a>\n',d}function q(a,b){var d="",e,f;d+="\n  ",i=c.isIE,e=i||a.isIE,f=c["if"],j=k.program(4,r,b),j.hash={},j.fn=j,j.inverse=k.program(6,s,b),e=f.call(a,e,j);if(e||e===0)d+=e;return d+="\n",d}function r(a,b){return'\n    <input name=file class="file-upload" type=file />\n  '}function s(a,b){var d="",e,f,g,h;d+='\n    <button class="btn file-upload-btn">\n      ',e="Choose a File",f="#buttons.choose_a_file",g={},h="quizzes.file_upload_question_state",g.scope=h,i=c.t,h=i||a.t,j={},j.hash=g,typeof h===l?e=h.call(a,f,e,j):h===n?e=m.call(a,"t",f,e,j):e=h;if(e||e===0)d+=e;return d+="\n    </button>\n  ",d}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0,o=this.escapeExpression;i=c.display_name,g=i||b.display_name,h=c["if"],j=k.program(1,p,e),j.hash={},j.fn=j,j.inverse=k.program(3,q,e),g=h.call(b,g,j);if(g||g===0)f+=g;return f+="\n",f}),c["quizzes/fileUploadQuestionState"]}),define("jst/quizzes/fileUploadedOrRemoved",["compiled/handlebars_helpers","i18n!quizzes.file_uploaded_or_removed"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["quizzes/fileUploadedOrRemoved"]=b(function(a,b,c,d,e){function o(a,b){var d="",e,f,g,h;d+='\n\n  <div class="file-status file-uploaded">\n    <em>\n    ',e="Your file has been successfully uploaded.",f="quizzes.file_successfully_uploaded",g={},h="quizzes.file_uploaded_or_removed",g.scope=h,i=c.t,h=i||a.t,j={},j.hash=g,typeof h===l?e=h.call(a,f,e,j):h===n?e=m.call(a,"t",f,e,j):e=h;if(e||e===0)d+=e;return d+="\n    </em>\n  </div>\n",d}function p(a,b){var d="",e,f,g,h;d+='\n  <div class="file-status file-removed">\n    <em>\n      ',e="%{display_name} has been removed.",f="quizzes.files_removed",g={},h="quizzes.file_uploaded_or_removed",g.scope=h,i=c.t,h=i||a.t,j={},j.hash=g,typeof h===l?e=h.call(a,f,e,j):h===n?e=m.call(a,"t",f,e,j):e=h;if(e||e===0)d+=e;return d+="\n    </em>\n  </div>\n",d}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0;i=c.fileUploaded,g=i||b.fileUploaded,h=c["if"],j=k.program(1,o,e),j.hash={},j.fn=j,j.inverse=k.program(3,p,e),g=h.call(b,g,j);if(g||g===0)f+=g;return f+="\n",f}),c["quizzes/fileUploadedOrRemoved"]}),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define("compiled/views/quizzes/FileUploadQuestionView",["Backbone","jquery","jst/quizzes/fileUploadQuestionState","jst/quizzes/fileUploadedOrRemoved","underscore","jquery.instructure_forms","jquery.disableWhileLoading"],function(b,d,e,f,g){var h,i,j;return i=b.View,h=function(b){function h(){return this.deleteAttachment=a(this.deleteAttachment,this),this.processAttachment=a(this.processAttachment,this),this.removeFileStatusMessage=a(this.removeFileStatusMessage,this),this.render=a(this.render,this),this.openFileBrowser=a(this.openFileBrowser,this),this.checkForFileChange=a(this.checkForFileChange,this),j=h.__super__.constructor.apply(this,arguments),j}return c(h,b),h.prototype.els={".file-upload":"$fileUpload",".file-upload-btn":"$fileDialogButton",".attachment-id":"$attachmentID",".file-upload-box":"$fileUploadBox"},h.prototype.events={"change input[type=file]":"checkForFileChange","click .file-upload-btn":"openFileBrowser","click .delete-attachment":"deleteAttachment"},h.prototype.checkForFileChange=function(a){var b,c;a.preventDefault(),a.stopPropagation();if(c=this.$fileUpload.val())return this.removeFileStatusMessage(),this.model.set("file",this.$fileUpload[0]),b=this.model.save(null,{success:this.processAttachment}),this.$fileUploadBox.disableWhileLoading(b)},h.prototype.openFileBrowser=function(a){return a.preventDefault(),this.$fileUpload.click()},h.prototype.render=function(){var a;return h.__super__.render.apply(this,arguments),a=!!d.browser.msie,a&&this.$fileUpload.remove(),this.$fileUploadBox.html(e(g.extend({},this.model.present(),{isIE:a}))),this},h.prototype.removeFileStatusMessage=function(){return this.$fileUploadBox.siblings(".file-status").remove()},h.prototype.processAttachment=function(a){return this.$attachmentID.val(this.model.id).trigger("change"),this.$fileUploadBox.addClass("file-upload-box-with-file"),this.render(),this.$fileUploadBox.parent().append(f(g.extend({},this.model.present(),{fileUploaded:!0})))},h.prototype.deleteAttachment=function(a){var b;return a.preventDefault(),this.$attachmentID.val("").trigger("change"),this.$fileUploadBox.removeClass("file-upload-box-with-file"),b=this.model.present(),this.model.clear(),this.removeFileStatusMessage(),this.render(),this.$fileUploadBox.parent().append(f(b))},h}(i)})}.call(this),define("take_quiz",["compiled/views/quizzes/FileUploadQuestionView","compiled/models/File","i18n!quizzes.take_quiz","jquery","quiz_timing","compiled/behaviors/autoBlurActiveInput","underscore","jquery.ajaxJSON","jquery.toJSON","jquery.instructure_date_and_time","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_helpers","compiled/jquery.rails_flash_notifications","compiled/tinymce","tinymce.editor_box","vendor/jquery.scrollTo","compiled/behaviors/quiz_selectmenu"],function(a,b,c,d,e,f,g){var h=null,i=null,j=function(){var a=0,b=d(".started_at"),f=d(".end_at"),h=b.text(),k=f.text(),l=k&&new Date(k),m=d(".countdown_seconds"),n=d(".time_running,.time_remaining"),o=d("#last_saved_indicator");return{referenceDate:null,countDown:null,isDeadline:!0,fiveMinuteDeadline:!1,oneMinuteDeadline:!1,submitting:!1,dialogged:!1,contentBoxCounter:0,lastSubmissionUpdate:new Date,currentlyBackingUp:!1,started_at:b,end_at:f,time_limit:parseInt(d(".time_limit").text(),10)||null,oneAtATime:d("#submit_quiz_form").hasClass("one_question_at_a_time"),cantGoBack:d("#submit_quiz_form").hasClass("cant_go_back"),finalSubmitButtonClicked:!1,updateSubmission:function(a,b){if(j.submitting&&!a)return;var e=new Date;if(e-j.lastSubmissionUpdate<1e3)return;if(j.currentlyBackingUp)return;j.currentlyBackingUp=!0,j.lastSubmissionUpdate=new Date;var f=d("#submit_quiz_form").getFormData();d(".question_holder .question").each(function(){value=d(this).hasClass("marked")?"1":"",f[d(this).attr("id")+"_marked"]=value}),o.text(c.t("saving","Saving..."));var h=d(".backup_quiz_submission_url").attr("href");b?(d.flashMessage(c.t("saving","Saving...")),d.ajax({url:h,data:f,type:"PUT",dataType:"json",async:!1})):function(b){var e=g.clone(b);if(a&&g.isEqual(b,i)){j.currentlyBackingUp=!1,setTimeout(function(){j.updateSubmission(!0)},3e4);return}d.ajaxJSON(h,"PUT",b,function(b){i=e,o.text(c.t("saved_at","Quiz saved at %{t}",{t:d.friendlyDatetime(new Date)})),j.currentlyBackingUp=!1,a&&setTimeout(function(){j.updateSubmission(!0)},3e4);if(b&&b.end_at){var f=Date.parse(b.end_at),g=Date.parse(j.end_at.text()),h=f.getTime(),m=g.getTime();j.referenceDate=null,h!==m&&(h>m?d.flashMessage(c.t("notices.extra_time","You have been given extra time on this attempt")):d.flashMessage(c.t("notices.less_time","Your time for this quiz has been reduced.")),j.end_at.text(b.end_at),k=b.end_at,l=new Date(b.end_at))}},function(b,e){var f=d("#identity .user_id").text()||"none";j.currentlyBackingUp=!1;if(!!ENV.LOCKDOWN_BROWSER||e.status!=401&&b["status"]!="unauthorized")d.ajaxJSON(location.protocol+"//"+location.host+"/simple_response.json?user_id="+f+"&rnd="+Math.round(Math.random()*9999999),"GET",{},function(){},function(){d.flashError(c.t("errors.connection_lost","Connection to %{host} was lost.  Please make sure you're connected to the Internet before continuing.",{host:location.host}))});else{var g=d("#deauthorized_dialog");g.is(":data(dialog)")?g.dialog("isOpen")||g.dialog("open"):g.dialog({modal:!0,buttons:[{text:c.t("#buttons.cancel","Cancel"),"class":"dialog_closer",click:function(){d(this).dialog("close")}},{text:c.t("#buttons.login","Login"),"class":"btn-primary relogin_button button_type_submit",click:function(){j.navigatingToRelogin=!0,d("#deauthorized_dialog").submit()}}]})}a&&setTimeout(function(){j.updateSubmission(!0)},3e4)},{timeout:5e3})}(f)},updateTime:function(){var b=new Date,f=j.time_limit?k:null;a=(a+1)%120;if(a==0&&!f&&!j.twelveHourDeadline){j.referenceDate=null;var g=l;!j.time_limit&&g-b<432e5&&(f=k)}j.referenceDate||d.extend(j,e.setReferenceDate(h,f,b));if(j.countDown){var i=j.countDown.getTime()-b.getTime()-j.clientServerDiff;i<=0&&(i=0);var n=new Date(i);m.text(n.getUTCSeconds()),i<=0&&!j.submitting&&(j.submitting=!0,j.submitQuiz())}var i=j.referenceDate.getTime()-b.getTime()-j.clientServerDiff;j.isDeadline&&(i<1e3&&(i=0),i<1e3&&!j.dialogged?(j.dialogged=!0,j.countDown=new Date(b.getTime()+1e4),d("#times_up_dialog").show().dialog({title:c.t("titles.times_up","Time's Up!"),width:"auto",height:"auto",modal:!0,overlay:{backgroundColor:"#000",opacity:.7},close:function(){j.submitting||(j.submitting=!0,j.submitQuiz())}})):i>3e4&&i<6e4&&!j.oneMinuteDeadline?(j.oneMinuteDeadline=!0,d.flashMessage(c.t("notices.one_minute_left","One Minute Left"))):i>25e4&&i<3e5&&!j.fiveMinuteDeadline?(j.fiveMinuteDeadline=!0,d.flashMessage(c.t("notices.five_minutes_left","Five Minutes Left"))):i>18e5&&i<177e4&&!j.thirtyMinuteDeadline?(j.thirtyMinuteDeadline=!0,d.flashMessage(c.t("notices.thirty_minutes_left","Thirty Minutes Left"))):i>432e5&&i<4317e4&&!j.twelveHourDeadline&&(j.twelveHourDeadline=!0,d.flashMessage(c.t("notices.twelve_hours_left","Twelve Hours Left")))),j.updateTimeString(i)},updateTimeString:function(a){var b=new Date(Math.abs(a)),d=b.getUTCFullYear()-1970,e=b.getUTCMonth(),f=b.getUTCDate()-1,g=b.getUTCHours(),h=b.getUTCMinutes(),i=b.getUTCSeconds(),j=[];d&&j.push(c.t("years_count","Year",{count:d})),e&&j.push(c.t("months_count","Month",{count:e})),f&&j.push(c.t("days_count","Day",{count:f})),g&&j.push(c.t("hours_count","Hour",{count:g})),j.push(c.t("minutes_count","Minute",{count:h})),j.push(c.t("seconds_count","Second",{count:i})),n.text(j.join(", "))},updateFinalSubmitButtonState:function(){var a=d("#question_list li:not(.answered)").length==0,b=d("#submit_quiz_form").hasClass("last_page"),c=d("div.question.answered").length>0,e=j.oneAtATime,f=e&&b&&c||a;j.toggleActiveButtonState("#submit_quiz_button",f)},updateQuestionIndicators:function(a,b){var e="#list_"+b,f="#"+b,g=e+", "+f,h=d(e+"> i.placeholder");a?(d(g).addClass("answered"),h.addClass("icon-check").removeClass("icon-question"),h.siblings("div.icon-text").text(c.t("question_answered","Answered"))):(d(g).removeClass("answered"),h.addClass("icon-question").removeClass("icon-check"),h.siblings("div.icon-text").text(c.t("question_unanswered","Haven't Answered Yet")))},updateNextButtonState:function(a){var b=d("#"+a);j.toggleActiveButtonState("button.next-question",b.hasClass("answered"))},toggleActiveButtonState:function(a,b){var c=b?"btn-primary":"btn-secondary",e=b?"btn-secondary":"btn-primary";d(a).addClass(c).removeClass(e)},submitQuiz:function(){var a=d("#submit_quiz_button").data("action");d("#submit_quiz_form").attr("action",a).submit()}}}();d(document).mousedown(function(a){h=d(a.target).parents(".answer")[0]}).keydown(function(){h=null}),d(function(){d.scrollSidebar(),f(),d("#preview_mode_link").length==0&&(window.onbeforeunload=function(){if(!j.navigatingToRelogin){j.updateSubmission(!1,!0);if(!j.submitting&&!j.alreadyAcceptedNavigatingAway)return c.t("confirms.unfinished_quiz","You're about to leave the quiz unfinished.  Continue anyway?")}},d(document).delegate("a","click",function(a){if(d(this).closest(".ui-dialog,.mceToolbar,.ui-selectmenu").length>0)return;if(d(this).hasClass("no-warning")){j.alreadyAcceptedNavigatingAway=!0;return}if(!a.isDefaultPrevented()){var b=d(this).attr("href")||"",e=location.href;e.indexOf("#")&&(e=e.substring(0,e.indexOf("#")));if(b.indexOf("#")==0||b.indexOf(e+"#")==0)return;var f=confirm(c.t("confirms.navigate_away","You're about to navigate away from this page.  Continue anyway?"));f?j.alreadyAcceptedNavigatingAway=!0:a.preventDefault()}}));var a=d("#questions");d("#question_list").delegate(".jump_to_question_link","click",function(a){a.preventDefault();var b=d(d(this).attr("href")),c=ENV.MOBILE_UI?"#content":"html,body";d(c).scrollTo(b.parent()),b.find(":input:first").focus().select()}).find(".list_question").bind({mouseenter:function(a){var b=d(this),e=b.data(),f=c.t("titles.not_answered","Haven't Answered yet");b.hasClass("marked")?f=c.t("titles.come_back_later","You marked this question to come back to later"):b.hasClass("answered")&&(f=c.t("titles.answered","Answered")),b.attr("title",f),j.oneAtATime||(e.relatedQuestion||(e.relatedQuestion=d("#"+b.attr("id").substring(5))),e.relatedQuestion.addClass("related"))},mouseleave:function(a){if(!j.oneAtATime){var b=d(this).data("relatedQuestion");b&&b.removeClass("related")}}}),a.find(".group_top,.answer_select").bind({mouseenter:function(a){d(this).addClass("hover")},mouseleave:function(a){d(this).removeClass("hover")}}),a.delegate(":checkbox,:radio,label","change mouseup",function(a){var b=d(this).parents(".answer");h==b[0]&&(b.find(":checkbox,:radio").blur(),j.updateSubmission())}).delegate(":text,textarea,select","change",function(a,b){var c=d(this);if(c.hasClass("numerical_question_input")){var e=parseFloat(c.val());c.val(isNaN(e)?"":e.toFixed(4))}b!==!1&&j.updateSubmission()}).delegate(".numerical_question_input",{keyup:function(a){var b=d(this).val();b===""||!isNaN(parseFloat(b))?d(this).triggerHandler("focus"):d(this).errorBox(c.t("errors.only_numerical_values","only numerical values are accepted"))}}).delegate(".flag_question","click",function(){var a=d(this).parents(".question");a.toggleClass("marked"),d("#list_"+a.attr("id")).toggleClass("marked"),j.updateSubmission()}).delegate(".question_input","change",function(a,b,c){var e=d(this),f=this.tagName.toUpperCase(),g=e.parents(".question").attr("id"),h="";if(f=="A")return;if(c){if(c[g])return;c[g]=!0}if(f=="TEXTAREA")h=e.editorBox("get_code");else if(e.attr("type")=="text"||e.attr("type")=="hidden")h=e.val();else if(f=="SELECT"){var i=e.parents(".question").find("select.question_input");h=!i.filter(function(){return!d(this).val()}).length}else e.parents(".question").find(".question_input").each(function(){if(d(this).attr("checked")||d(this).attr("selected"))h=!0});j.updateQuestionIndicators(h,g),j.updateFinalSubmitButtonState(),j.updateNextButtonState(g)}),a.find(".question_input").trigger("change",[!1,{}]),setInterval(function(){d("textarea.question_input").each(function(){d(this).triggerHandler("change",!1)})},2500),d(".hide_time_link").click(function(a){a.preventDefault(),d(".time_running").css("visibility")!="hidden"?(d(".time_running").css("visibility","hidden"),d(this).text(c.t("show_time_link","Show"))):(d(".time_running").css("visibility","visible"),d(this).text(c.t("hide_time_link","Hide")))}),setTimeout(function(){d("#question_list .list_question").each(function(){var a=d(this);a.find(".jump_to_question_link").text()=="Spacer"&&a.remove()})},1e3),d("#submit_quiz_form input[type=text]").keypress(function(a){if(a.keyCode==13)return!1}),d(".quiz_submit").click(function(a){j.finalSubmitButtonClicked=!0}),d("#submit_quiz_form").submit(function(a){d(".question_holder textarea.question_input").each(function(){d(this).change()});var b,e;j.cantGoBack&&(d(".question").hasClass("answered")||(e=c.t("confirms.cant_go_back_blank","You can't come back to this question once you hit next. Are you sure you want to leave it blank?"))),j.finalSubmitButtonClicked&&(j.finalSubmitButtonClicked=!1,j.cantGoBack?(unseen=d("#question_list .list_question:not(.seen)").length,unseen>0&&(e=c.t("confirms.unseen_questions",{one:"There is still 1 question you haven't seen yet.  Submit anyway?",other:"There are still %{count} questions you haven't seen yet.  Submit anyway?"},{count:unseen}))):(b=d("#question_list .list_question:not(.answered)").length,b>0&&(e=c.t("confirms.unanswered_questions",{one:"You have 1 unanswered question (see the right sidebar for details).  Submit anyway?",other:"You have %{count} unanswered questions (see the right sidebar for details).  Submit anyway?"},{count:b}))));if(e!=undefined&&!j.submitting){var f=confirm(e);if(!f)return a.preventDefault(),a.stopPropagation(),!1}j.submitting=!0}),d(".submit_quiz_button").click(function(a){a.preventDefault(),d("#times_up_dialog").dialog("close")}),setTimeout(function(){d(".question_holder textarea.question_input").each(function(){d(this).attr("id","question_input_"+j.contentBoxCounter++),d(this).editorBox()})},2e3),setInterval(j.updateTime,400),setTimeout(function(){j.updateSubmission(!0)},15e3);var b=d("#submit_quiz_form button[type=submit]");b.click(function(a){j.updateSubmission(!1,!0);var b=d(this).data("action");b!=undefined&&d("#submit_quiz_form").attr("action",b)}),b.removeAttr("disabled")}),d(".file-upload-question-holder").each(function(c,e){var f=d(e),g=parseInt(f.find("input.attachment-id").val(),10);g&&g!==0&&f.find(".file-upload-box").addClass("file-upload-box-with-file");var h=new b(ENV.ATTACHMENTS[g],{preflightUrl:ENV.UPLOAD_URL});(new a({el:e,model:h})).render()})}),function(){require(["quiz_timing","take_quiz"])}.call(this),define("compiled/bundles/take_quiz",function(){})