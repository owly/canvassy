(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("compiled/util/BackoffPoller",["jquery","jquery.ajaxJSON"],function(b){var c;return c=function(){function c(b,c,d){var e,f,g,h,i;this.url=b,this.handler=c,d==null&&(d={}),this.handle=a(this.handle,this),this.poll=a(this.poll,this),this.baseInterval=(e=d.baseInterval)!=null?e:1e3,this.backoffFactor=(f=d.backoffFactor)!=null?f:1.5,this.maxAttempts=(g=d.maxAttempts)!=null?g:8,this.handleErrors=(h=d.handleErrors)!=null?h:!1,this.initialDelay=(i=d.initialDelay)!=null?i:!0}return c.prototype.start=function(){return this.running?this.reset():this.nextPoll(!0),this},c.prototype.then=function(a){var b;return(b=this.callbacks)==null&&(this.callbacks=[]),this.callbacks.push(a)},c.prototype.reset=function(){return this.nextInterval=this.baseInterval,this.attempts=0},c.prototype.stop=function(a){var b,c,d,e;a==null&&(a=!1),this.running&&clearTimeout(this.running),delete this.running;if(a&&this.callbacks){e=this.callbacks;for(c=0,d=e.length;c<d;c++)b=e[c],b()}return delete this.callbacks},c.prototype.poll=function(){var a=this;return this.running=!0,this.attempts++,b.ajaxJSON(this.url,"GET",{},this.handle,function(b,c){return a.handleErrors?a.handle(b,c):a.stop()})},c.prototype.handle=function(a,b){switch(this.handler(a,b)){case"continue":return this.nextPoll();case"reset":return this.nextPoll(!0);case"stop":return this.stop(!0);default:return this.stop()}},c.prototype.nextPoll=function(a){a==null&&(a=!1);if(a){this.reset();if(!this.initialDelay)return this.poll()}else this.nextInterval=parseInt(this.nextInterval*this.backoffFactor);return this.attempts>=this.maxAttempts?this.stop():this.running=setTimeout(this.poll,this.nextInterval)},c}()})}).call(this),define("translations/profile",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{buttons:{cancel:"إلغاء"},profile:{buttons:{add_file:"إضافة ملف",adding_file:"جارٍ إضافة الملف...",generate_token:"إنشاء الرمز المميز",generating_token:"جارٍ إنشاء الرمز المميز...",regenerate_token:"إعادة إنشاء الرمز المميز",regenerating_token:"جارٍ إعادة إنشاء الرمز المميز...",select_image:"تحديد صورة",selecting_image:"جارٍ تحديد الصورة..."},confirming_contact:"جارٍ التأكيد...",confirms:{delete_access_key:"هل ترغب بالتأكيد في حذف مفتاح الوصول هذا؟",delete_login:"هل ترغب بالتأكيد في حذف تسجيل الدخول هذا؟",regenerate_token:"هل ترغب بالتأكيد في إعادة إنشاء هذا الرمز المميز؟  أي شيء يستخدم هذا الرمز المميز سيتم تحديثه.",unregister_service:"هل ترغب بالتأكيد في إلغاء تسجيل هذه الخدمة؟"},done_resending:"تم! قد يستغرق تسليم الرسالة بضع دقائق.",errors:{adding_file_failed:"فشلت إضافة الملف",confirmation_failed:"فشل التأكيد.  الرجاء إعادة المحاولة.",generating_token_failed:"فشل إنشاء الرمز المميز",regenerating_token_failed:"فشل إعادة إنشاء الرمز المميز",registration_failed:"فشل التسجيل. تحقق من اسم المستخدم وكلمة المرور، وحاول مرة أخرى."},failed_resending:"فشل الطلب. حاول مرة أخرى.",links:{resend_confirmation:"تأكيد إعادة الإرسال",resend_confirmation_failed:"فشل الطلب. حاول مرة أخرى.",resending_confirmation:"تجري إعادة الإرسال...",resent_confirmation:"تم! قد تستغرق الرسالة بضع دقائق."},notices:{contact_confirmed:"تم تأكيد جهة الاتصال بنجاح!",mfa_disabled:"تم تعطيل المصادقة متعددة العوامل"},please_select_an_option:"الرجاء تحديد خيار",resending:"تجري إعادة الإرسال...",titles:{confirm_email_address:"تأكيد عنوان البريد الإلكتروني",confirm_sms_number:"تأكيد رقم SMS",contact_not_confirmed:"لم يتم تأكيد جهة الاتصال هذه.  انقر فوق العنوان لمزيد من التفاصيل",email_not_confirmed:"لم يتم تأكيد هذا البريد الإلكتروني.  انقر فوق العنوان لمزيد من التفاصيل",register_communication:"اتصال التسجيل",select_profile_pic:"تحديد صورة ملف التعريف",unconfirmed_click_to_confirm:"لم يتم التأكيد.  انقر للتأكيد"},token_never_expires:"أبدًا"}},es:{buttons:{cancel:"Cancelar"},profile:{buttons:{add_file:"Agregar Archivo",adding_file:"Agregando Archivo...",generate_token:"Generar un Componente Léxico",generating_token:"Generando Componente Léxico...",regenerate_token:"Regenerar Componente Léxico",regenerating_token:"Regenerando Componenete Léxico...",select_image:"Seleccionar Imagen",selecting_image:"Seleccionando Imagen..."},confirming_contact:"Confirmando...",confirms:{delete_access_key:"¿Seguro que quiere borrar esta clave de acceso?",delete_login:"¿Seguro que quiere borrar este inicio de sesión?",regenerate_token:"¿Seguro que quiere regenerar este componente léxico? Cualquier cosa usando este componente léxico tendrá que actualizarse.",unregister_service:"¿Seguro que quiere cancelar el registro de este servicio?"},done_resending:"¡Listo! Enviar el mensaje puede tardar unos minutos.",errors:{adding_file_failed:"Falló la adición del archivo",confirmation_failed:"Ha fallado la confirmación.  Inténtelo de nuevo.",generating_token_failed:"Falló la generación del Componente léxico",regenerating_token_failed:"Falló la Regeneración del Componente léxico",registration_failed:"Falló la inscripción. Revise el nombre de usuario y la contraseña, e intente de nuevo."},failed_resending:"Solicitud falló. Intente de nuevo.",links:{resend_confirmation:"Renviar la confirmación",resend_confirmation_failed:"Solicitud falló. Intente de nuevo.",resending_confirmation:"Renviando",resent_confirmation:"¡Listo! El mensaje puede tomar unos cuantos mensajes."},notices:{contact_confirmed:"Contacto confirmado correctamente.",mfa_disabled:"Autenticación de factores múltiples desactivada"},please_select_an_option:"Por favor seleccione una opción",resending:"renviando...",titles:{confirm_email_address:"Confirmar el correo electrónico",confirm_sms_number:"Confirmar el número de SMS",contact_not_confirmed:"Este contacto no ha sido confirmado. Haga clic en la dirección para obtener más información",email_not_confirmed:"Este correo electrónico no ha sido confirmado. Haga clic en la dirección para obtener más información.",register_communication:"Registrar la comunicación",select_profile_pic:"Seleccionar una Foto de Perfil",unconfirmed_click_to_confirm:"No confirmado. Haga clic aquí para confirmar"},token_never_expires:"nunca"}},fr:{buttons:{cancel:"Annuler"},profile:{buttons:{add_file:"Ajouter un fichier",adding_file:"Ajout d’un fichier",generate_token:"Générer un jeton",generating_token:"Génération d’un jeton...",regenerate_token:"Regénérer un jeton",regenerating_token:"Regénération d’un jeton...",select_image:"Sélectionner une image",selecting_image:"Sélection d’une image..."},confirming_contact:"Confirmation en cours...",confirms:{delete_access_key:"Voulez-vous vraiment supprimer ce code d’accès ?",delete_login:"Voulez-vous vraiment supprimer ces informations de connexion ?",regenerate_token:"Voulez-vous vraiment regénérer ce jeton ? Tout ce qui utilise ce jeton devra être mis à jour.",unregister_service:"Voulez-vous vraiment annuler l’enregistrement de ce service ?"},done_resending:"C’est fait ! La remise du message peut prendre quelques minutes.",errors:{adding_file_failed:"Échec de l’ajout du fichier",confirmation_failed:"Échec de la confirmation. Veuillez réessayer.",generating_token_failed:"Échec de la génération du jeton",regenerating_token_failed:"Échec de la regénération du jeton.",registration_failed:"Échec de l’enregistrement. Vérifier le nom et le mot de passe utilisateur, puis réessayez."},failed_resending:"Échec de la demande. Veuillez réessayer.",links:{resend_confirmation:"Renvoyer la confirmation",resend_confirmation_failed:"Échec de la demande. Veuillez réessayer.",resending_confirmation:"Renvoi en cours...",resent_confirmation:"Terminé. L’envoi du message peut prendre quelques minutes."},notices:{contact_confirmed:"Contact confirmé !",mfa_disabled:"Authentification multifacteur désactivée"},please_select_an_option:"Sélectionnez une option",resending:"renvoi en cours...",titles:{confirm_email_address:"Confirmer l’adresse de messagerie",confirm_sms_number:"Confirmer le numéro SMS",contact_not_confirmed:"Ce contact n’a pas été confirmé. Cliquez sur l’adresse pour obtenir plus d’informations.",email_not_confirmed:"Cet e-mail n’a pas été confirmé. Cliquez sur l’adresse pour obtenir plus d’informations.",register_communication:"Enregistrer la communication",select_profile_pic:"Sélectionner une image de profil",unconfirmed_click_to_confirm:"Non confirmé. Cliquez pour confirmer."},token_never_expires:"jamais"}},ja:{buttons:{cancel:"キャンセル"},profile:{buttons:{add_file:"ファイルの追加",adding_file:"ファイルを追加しています...",generate_token:"トークンの生成",generating_token:"トークンを生成しています...",regenerate_token:"トークンの再生成",regenerating_token:"トークンを再生成しています...",select_image:"画像の選択",selecting_image:"画像を選択しています..."},confirming_contact:"確認しています...",confirms:{delete_access_key:"このアクセス キーを削除してもよろしいですか?",delete_login:"このログイン情報を削除してもよろしいですか?",regenerate_token:"このトークンを再生成してもよろしいですか?このトークンを使用するものはすべて、更新が必要になります。",unregister_service:"このサービスへの登録を解除してもよろしいですか?"},done_resending:"完了です! メッセージが送信されるまで数分かかる場合があります。",errors:{adding_file_failed:"ファイルの追加に失敗しました",confirmation_failed:"確認に失敗しました。もう一度、試してください。",generating_token_failed:"トークンの生成に失敗しました",regenerating_token_failed:"トークンの再生成に失敗しました",registration_failed:"登録に失敗しました。ユーザ名とパスワードを確認して、もう一度試してください。"},failed_resending:"要求が失敗しました。もう一度、試してください。",links:{resend_confirmation:"確認の再送信",resend_confirmation_failed:"要求が失敗しました。もう一度、試してください。",resending_confirmation:"再送信しています...",resent_confirmation:"完了です!メッセージが送信されるまで数分かかる場合があります。"},notices:{contact_confirmed:"連絡先は正常に確認されました!",mfa_disabled:"マルチファクタ認証は無効になっています"},please_select_an_option:"オプションを選択してください",resending:"再送信中...",titles:{confirm_email_address:"電子メール アドレスを確認",confirm_sms_number:"SMS 番号の確認",contact_not_confirmed:"この連絡先は確認されていません。詳細についてはアドレスをクリックしてください",email_not_confirmed:"この電子メールは確認されていません。詳細についてはアドレスをクリックしてください",register_communication:"コミュニケーションの登録",select_profile_pic:"プロフィール画像の選択",unconfirmed_click_to_confirm:"確認されていません。クリックして確認してください"},token_never_expires:"一切なし"}},ko:{buttons:{cancel:"취소"},profile:{buttons:{add_file:"파일 추가",adding_file:"파일 추가 중...",generate_token:"토큰 생성",generating_token:"토큰 생성 중...",regenerate_token:"토큰 다시 생성",regenerating_token:"토큰 다시 생성 중...",select_image:"이미지 선택",selecting_image:"이미지 선택 중..."},confirming_contact:"확인 중...",confirms:{delete_access_key:"이 액세스 키를 삭제하시겠습니까?",delete_login:"이 로그인을 삭제하시겠습니까?",regenerate_token:"이 토큰을 다시 생성하시겠습니까? 이 토큰을 사용하는 것도 업데이트해야 합니다.",unregister_service:"이 서비스를 등록 해제하시겠습니까?"},done_resending:"마쳤습니다. 메시지 전송은 수 분이 걸릴 수 있습니다.",errors:{adding_file_failed:"파일 추가 실패",confirmation_failed:"확인에 실패했습니다. 다시 시도하시기 바랍니다.",generating_token_failed:"토큰 생성 실패",regenerating_token_failed:"토큰 다시 생성 실패",registration_failed:"등록에 실패했습니다. 사용자 이름과 암호를 확인하고 다시 시도하시기 바랍니다."},failed_resending:"요청이 실패했습니다. 다시 시도하시기 바랍니다.",links:{resend_confirmation:"확인 다시 전송",resend_confirmation_failed:"요청이 실패했습니다. 다시 시도하시기 바랍니다.",resending_confirmation:"다시 전송 중...",resent_confirmation:"마쳤습니다. 메시지는 수 분이 걸릴 수 있습니다."},notices:{contact_confirmed:"연락처를 성공적으로 확인했습니다!",mfa_disabled:"다단계 인증 사용 안 함"},please_select_an_option:"옵션 선택",resending:"다시 전송 중...",titles:{confirm_email_address:"이메일 주소 확인",confirm_sms_number:"SMS 번호 확인",contact_not_confirmed:"이 연락처는 확인되지 않았습니다. 세부 정보를 보려면 주소를 클릭하십시오.",email_not_confirmed:"이 이메일은 확인되지 않았습니다. 세부 정보를 보려면 주소를 클릭하십시오.",register_communication:"통신 등록",select_profile_pic:"프로필 그림 선택",unconfirmed_click_to_confirm:"확인되지 않았습니다. 확인하러면 클릭하십시오."},token_never_expires:"만료 안 됨"}},nl:{buttons:{cancel:"Annuleren"},profile:{buttons:{add_file:"Bestand toevoegen",adding_file:"Bestand wordt toegevoegd...",generate_token:"Genereer toke",generating_token:"Token wordt gegenereerd...",regenerate_token:"Genereer token opnieuw",regenerating_token:"Token wordt opnieuw gegenereerd...",select_image:"Selecteer afbeelding",selecting_image:"Afbeelding wordt geselecteerd..."},confirming_contact:"Bevestigen...",confirms:{delete_access_key:"Weet je zeker dat je deze access key wil verwijderen?",delete_login:"Weet je zeker dat je deze login wil verwijderen?",regenerate_token:"Weet je zeker dat je deze token opnieuw wil genereren? Alles wat deze token gebruikt moet opnieuw ingesteld worden.",unregister_service:"Weet je zeker dat je deze dienst wil deactiveren?"},done_resending:"Klaar! Het afleveren kan een paar minuten duren.",errors:{adding_file_failed:"Toevoegen van bestand mislukt",confirmation_failed:"Bevestigen mislukt. Probeer het opnieuw.",generating_token_failed:"Genereren van token mislukt",regenerating_token_failed:"Opnieuw genereren van token mislukt",registration_failed:"Registratie mislukt. Controleer het gebruikersnaam en wachtwoord en probeer het opnieuw."},failed_resending:"Verzoek mislukt. Probeer opnieuw.",links:{resend_confirmation:"Verstuur bevestiging opnieuw",resend_confirmation_failed:"Verzoek mislukt. Probeer opnieuw.",resending_confirmation:"Opnieuw versturen...",resent_confirmation:"Klaar! Het bericht kan een een aantal minuten duren."},notices:{contact_confirmed:"Contact bevestigd!",mfa_disabled:"Multi-Factor Authenticatie mislukt"},please_select_an_option:"Selecteer een optie",resending:"opnieuw versturen...",titles:{confirm_email_address:"Bevestig e-mailadres",confirm_sms_number:"Bevestig SMS nummer",contact_not_confirmed:"Deze contactgegevens zijn niet bevestigd. Klik op het adres voor meer informatie",email_not_confirmed:"Dit e-mailadres is niet bevestigd. Klik op het adres voor meer informatie",register_communication:"Registreer communicatie",select_profile_pic:"Selecteer profielafbeelding",unconfirmed_click_to_confirm:"Niet bevestigd. Klik hier om te bevestigen"},token_never_expires:"nooit"}},pt:{buttons:{cancel:"Cancelar"},profile:{buttons:{add_file:"Adicionar arquivo",adding_file:"Adicionando arquivo...",generate_token:"Gerar token",generating_token:"Gerando token...",regenerate_token:"Regenerar token",regenerating_token:"Regenerando token...",select_image:"Selecionar imagem",selecting_image:"Selecionando imagem..."},confirming_contact:"Confirmando...",confirms:{delete_access_key:"Tem certeza de que deseja excluir esta chave de acesso?",delete_login:"Tem certeza de que deseja excluir este login?",regenerate_token:"Tem certeza de que deseja regenerar este token?  Tudo que estiver usando este token deverá ser atualizado.",unregister_service:"Tem certeza de que deseja cancelar o registro deste serviço?"},done_resending:"Concluído! A entrega da mensagem poderá demorar alguns minutos.",errors:{adding_file_failed:"Falha ao adicionar arquivo",confirmation_failed:"Falha na confirmação.  Tente novamente.",generating_token_failed:"Falha na geração de token",regenerating_token_failed:"Falha na regeneração de token",registration_failed:"Falha no registo. Verifique o nome de utilizador e a palavra-passe, e tente novamente."},failed_resending:"Falha na solicitação. Tente de novo.",links:{resend_confirmation:"Reenviar confirmação",resend_confirmation_failed:"Falha na solicitação. Tente de novo.",resending_confirmation:"A reenviar...",resent_confirmation:"Concluído! A mensagem pode levar alguns minutos."},notices:{contact_confirmed:"Contacto confirmado com sucesso!",mfa_disabled:"Autenticação multifatorial desativada"},please_select_an_option:"Selecione uma opção",resending:"a reenviar...",titles:{confirm_email_address:"Confirmar endereço de e-mail",confirm_sms_number:"Confirmar número de SMS",contact_not_confirmed:"Este contacto não foi confirmado. Clique no endereço para mais detalhes",email_not_confirmed:"Este e-mail não foi confirmado. Clique no endereço para mais detalhes",register_communication:"Registar comunicação",select_profile_pic:"Selecionar imagem do perfil",unconfirmed_click_to_confirm:"Não confirmado.  Clique para confirmar"},token_never_expires:"nunca"}},ru:{buttons:{cancel:"Отменить"},profile:{buttons:{add_file:"Добавить файл",adding_file:"Добавление файла...",generate_token:"Создать маркер",generating_token:"Создание маркера...",regenerate_token:"Повторно создать маркер",regenerating_token:"Повторное создание маркера...",select_image:"Выбрать изображение",selecting_image:"Выбор изображения..."},confirming_contact:"Подтверждение...",confirms:{delete_access_key:"Действительно хотите удалить этот ключ доступа?",delete_login:"Действительно хотите удалить эти данные входа?",regenerate_token:"Действительно хотите повторно создать этот маркер?  Потребуется обновить все, что использует маркер.",unregister_service:"Вы действительно хотите отменить регистрацию этого сервиса?"},done_resending:"Сделано! Доставка сообщения может занять несколько минут.",errors:{adding_file_failed:"Ошибка добавления файла",confirmation_failed:"Ошибка подтверждения. Попробуйте еще раз.",generating_token_failed:"Ошибка создания маркера",regenerating_token_failed:"Ошибка повторного создания маркера",registration_failed:"Ошибка регистрации. Щелкните имя пользователя и пароль и повторите попытку."},failed_resending:"Ошибка запроса. Повторите попытку.",links:{resend_confirmation:"Отправить подтверждение заново",resend_confirmation_failed:"Ошибка запроса. Повторите попытку.",resending_confirmation:"Повторная отправка...",resent_confirmation:"Готово. Сообщение может занять несколько минут."},notices:{contact_confirmed:"Контакт успешно подтвержден!",mfa_disabled:"Многофакторная аутентификация отключена"},please_select_an_option:"Выберите опцию",resending:"повторная отправка...",titles:{confirm_email_address:"Подтвердите адрес эл. почты",confirm_sms_number:"Подтвердите номер для рассылки SMS",contact_not_confirmed:"Этот контакт не был подтвержден. Щелкните адрес для получения дополнительной информации",email_not_confirmed:"Этот электронный адрес не был подтвержден. Щелкните адрес для получения дополнительной информации",register_communication:"Зарегистрировать коммуникации",select_profile_pic:"Выберите изображение профиля",unconfirmed_click_to_confirm:"Не подтверждено. Щелкните, чтобы подтвердить"},token_never_expires:"никогда"}},zh:{buttons:{cancel:"取消"},profile:{buttons:{add_file:"添加文件",adding_file:"正在添加文件...",generate_token:"生成令牌",generating_token:"正在生成令牌...",regenerate_token:"重新生成令牌",regenerating_token:"正在重新生成令牌...",select_image:"选择图像",selecting_image:"正在选择图像..."},confirming_contact:"正在确认...",confirms:{delete_access_key:"是否确定要删除此访问键?",delete_login:"是否确定要删除此登录信息?",regenerate_token:"是否确定要重新生成此令牌?必须更新使用此令牌的所有内容。",unregister_service:"是否确定要取消注册此服务?"},done_resending:"完成! 消息传送可能需要几分钟。",errors:{adding_file_failed:"添加文件失败",confirmation_failed:"确认失败。请重试。",generating_token_failed:"生成令牌失败",regenerating_token_failed:"重新生成令牌失败",registration_failed:"注册失败。检查用户名和密码，然后重试。"},failed_resending:"请求失败。请重试。",links:{resend_confirmation:"重新发送确认",resend_confirmation_failed:"请求失败。请重试。",resending_confirmation:"正在重新发送...",resent_confirmation:"完成！收到消息可能需要几分钟。"},notices:{contact_confirmed:"联系人已成功确认!",mfa_disabled:"多重身份验证已禁用"},please_select_an_option:"请选择选项",resending:"正在重新发送...",titles:{confirm_email_address:"确认电子邮件地址",confirm_sms_number:"确认 SMS 号码",contact_not_confirmed:"此联系人尚未确认。请单击该地址了解详细信息",email_not_confirmed:"此电子邮件尚未确认。请单击该地址了解详细信息",register_communication:"注册通信",select_profile_pic:"选择头像",unconfirmed_click_to_confirm:"未确认。单击以确认"},token_never_expires:"从不"}}}})}),define("translations/pseudonym",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{pseudonym:{errors:{bad_credentials:"اسم مستخدم غير صالح أو كلمة مرور غير صالحة",common:'لا يمكن استخدام كلمات المرور الشائعة (مثل "password")',invalid:"قد يشمل فقط الحروف الأبجدية أو الأرقام أو ما يلي: %{characters}",mismatch:"لا يطابق",not_email:"عنوان بريد إلكتروني غير صالح",repeated:"لا يمكن استخدام نفس الحرف أكثر من %{max} مرة في الصف الواحد",required:"مطلوب",sequence:"لا يمكن تضمين سلسلة من أكثر من %{max} حرفًا (مثل abcdef)",taken:"البريد الإلكتروني قيد الاستخدام بالفعل",too_long:"لا يمكن أن يتجاوز %{max} حرفًا",too_short:"يجب أن يكون %{min} حرفًا على الأقل"}}},es:{pseudonym:{errors:{bad_credentials:"Nombre de usuario o contraseña inválido",common:'No se pueden usar contraseñas habituales (p. ej. "contraseña")',invalid:"Solo puede contener letras, números, o los siguientes caracteres: %{characters}",mismatch:"No coincide",not_email:"No es una dirección de correo electrónico válida",repeated:"No puede tener el mismo carácter más de %{max} veces consecutivas",required:"Obligatorio",sequence:"No puede incluir una serie ordenada de más de %{max} caracteres (p. ej. abcdef)",taken:"El correo electrónico ya está en uso",too_long:"No puede superar los %{max} caracteres",too_short:"Debe contener al menos %{min} caracteres"}}},fr:{pseudonym:{errors:{bad_credentials:"Nom d’utilisateur ou mot de passe erroné",common:"Vous ne pouvez pas utiliser de mots de passe communs (par exemple « password »)",invalid:"Il peut uniquement contenir des lettres, chiffres ou les caractères suivants : %{characters}",mismatch:"Ne correspond pas",not_email:"Cette adresse de messagerie n’est pas valide.",repeated:"Vous ne pouvez pas utiliser plus de %{max} fois un même caractère dans une ligne",required:"Requis",sequence:"Vous ne pouvez pas utiliser de chaîne de plus de %{max} caractères (par exemple abcdef)",taken:"E-mail déjà utilisé",too_long:"Ne doit pas dépasser %{max} caractères",too_short:"Doit contenir au moins %{min} caractères"}}},ja:{pseudonym:{errors:{bad_credentials:"無効なユーザ名またはパスワード",common:'よくあるパスワードは使用できません (例: "password")',invalid:"文字、数字、次の文字だけを使用できます: %{characters}",mismatch:"一致しません",not_email:"有効な電子メール アドレスではありません",repeated:"同じ文字を連続して指定できるのは %{max} 回までです",required:"必須",sequence:"連続する文字を指定できるのは %{max} 文字までです (例: abcdef)",taken:"電子メールは既に使用されています",too_long:"%{max} 文字以内にしてください",too_short:"%{min} 文字以上にしてください"}}},ko:{pseudonym:{errors:{bad_credentials:"유효하지 않은 사용자 이름이나 암호",common:'일반적인 암호를 사용할 수 없음 (예: "password")',invalid:"문자, 숫자 및 다음 글자만 포함할 수 있음: %{characters}",mismatch:"일치하지 않음",not_email:"유효한 이메일 주소가 아님",repeated:"한 행에 같은 글자가 %{max}회 이상 나올 수 없음",required:"필수",sequence:"연속된 %{max} 글자 이상을 포함할 수 없음 (예: abcdef)",taken:"이미 사용 중인 이메일",too_long:"%{max}글자를 초과할 수 없음",too_short:"%{min}글자 이상 되어야 함"}}},nl:{pseudonym:{errors:{bad_credentials:"Ongeldige gebruikersnaam en wachtwoord",common:'Kan geen algemene wachtwoorden gebruiken (bijv. "wachtwoord")',invalid:"Mag alleen letters, cijfers of deze symbolen (%{characters}) bevatten.",mismatch:"Komt niet overeen",not_email:"Geen geldig e-mailadres",repeated:"Kan hetzelfde teken niet vaker dan %{max} keer achter elkaar gebruiken",required:"Vereist",sequence:"Kan niet meer dan %{max} opeenvolgende karakters gebruiken (bijv. abcdef)",taken:"E-mail is al in gebruik",too_long:"Kan maximum van %{max} tekens niet overschrijden.",too_short:"Moet minstens %{min} tekens bevatten"}}},pt:{pseudonym:{errors:{bad_credentials:"Nome de utilizador ou palavra-passe inválidos",common:'Não pode utilizar palavras-passe comuns (ex.: "palavra-passe")',invalid:"Só pode conter letras, números ou os seguintes caracteres: %{characters}",mismatch:"Não corresponde",not_email:"Não é um endereço de e-mail válido",repeated:"Não pode ter o mesmo caráter mais de %{max} vezes por linha",required:"Necessário",sequence:"Não pode incluir uma sequência com mais de %{max} carateres (ex.: abcdef)",taken:"O e-mail já está a ser utilizado",too_long:"Não pode exceder %{max} caracteres",too_short:"Tem de ter pelo menos %{min} caracteres"}}},ru:{pseudonym:{errors:{bad_credentials:"Неверное имя пользователя или пароль",common:"Нельзя использовать распространенные пароли (например «пароль»)",invalid:"Может содержать только буквы, цифры или следующее: %{characters}",mismatch:"Не соответствует",not_email:"Электронный адрес недействителен",repeated:"Число одинаковых символов не должно превышать %{max} подряд",required:"Требуется",sequence:"Нельзя включать последовательности символов больше %{max} букв (например abcdef)",taken:"Электронный адрес уже используется",too_long:"Не может превышать %{max}символов",too_short:"Должно быть не менее %{min} символов"}}},zh:{pseudonym:{errors:{bad_credentials:"用户名或密码无效",common:"不能使用常见密码（例如“password”）",invalid:"只能包含字母、数字或以下字符: %{characters}",mismatch:"不匹配",not_email:"不是有效的电子邮件地址",repeated:"一行中使用同一字符的次数不能超过 %{max} 次",required:"需要",sequence:"不能包括超过 %{max} 个字符的一连串字符（例如 abcdef）",taken:"这个电子邮件已被使用",too_long:"不能超过 %{max} 个字符",too_short:"必须至少包含 %{min} 个字符"}}}}})}),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define("compiled/models/Pseudonym",["i18n!pseudonym","Backbone"],function(a,c){var d,e;return d=function(c){function d(){return e=d.__super__.constructor.apply(this,arguments),e}return b(d,c),d.prototype.errorMap=function(b){return{unique_id:{too_short:a.t("errors.required","Required"),too_long:a.t("errors.too_long","Can't exceed %{max} characters",{max:100}),invalid:a.t("errors.invalid","May only contain letters, numbers, or the following: %{characters}",{characters:". + - _ @ ="}),taken:a.t("errors.taken","Email already in use"),bad_credentials:a.t("errors.bad_credentials","Invalid username or password"),not_email:a.t("errors.not_email","Not a valid email address")},sis_user_id:{too_long:a.t("errors.too_long","Can't exceed %{max} characters",{max:255})},password:{too_short:a.t("errors.too_short","Must be at least %{min} characters",{min:b.min_length}),sequence:a.t("errors.sequence","Can't incude a run of more than %{max} characters (e.g. abcdef)",{max:b.max_sequence}),common:a.t("errors.common",'Can\'t use common passwords (e.g. "password")'),repeated:a.t("errors.repeated","Can't have the same character more than %{max} times in a row",{max:b.max_repeats}),confirmation:a.t("errors.mismatch","Doesn't match")}}},d.prototype.normalizeErrors=function(a,b){var c,e,f,g,h,i,j,k,l,m;if(a){k=["unique_id","password"];for(g=0,i=k.length;g<i;g++){f=k[g];if(!(((l=a[f])!=null?l.length:void 0)>1))continue;e=null,m=a[f];for(h=0,j=m.length;h<j;h++)c=m[h],c.type==="too_short"&&(e=c);e&&(a[f]=[e])}}return d.__super__.normalizeErrors.call(this,a,b)},d}(c.Model)})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("compiled/util/ProximityLoader",["jquery","underscore"],function(b,c){var d;return d=function(){function d(d,e){e==null&&(e={}),this._loadScript=a(this._loadScript,this),this._onMove=a(this._onMove,this),this.options=c.extend({},this.defaultOptions,e),this._cacheElements(d),this.deferred=b.Deferred().then(this._loadScript);if(!this.$el.length)return;this._attachEvents()}return d.prototype.defaultOptions={callback:b.noop,delay:200,dependencies:[],threshold:150},d.prototype._cacheElements=function(a){return this.$el=b(a),this.$body=b("body")},d.prototype._attachEvents=function(){return this.$body.on(this._eventName(),c.throttle(this._onMove,this.options.delay))},d.prototype._eventName=function(){return"mousemove.proximity."+this.$el.guid},d.prototype._dimensions=function(){return this.__dimensions||(this.__dimensions={bottom:this.$el.offset().top+this.$el.height()+this.options.threshold,left:this.$el.offset().left-this.options.threshold,right:this.$el.offset().left+this.$el.width()+this.options.threshold,top:this.$el.offset().top-this.options.threshold,centerX:this.$el.offset().left+this.$el.width()/2,centerY:this.$el.offset().top+this.$el.height()/2})},d.prototype._onMove=function(a){return this._isBounded(a.pageX,a.pageY)&&this._hasVelocity(a.pageX,a.pageY)&&this.deferred.resolve(),this.pageX=a.pageX,this.pageY=a.pageY,a},d.prototype._loadScript=function(){return this.$body.off(this._eventName()),require(this.options.dependencies,this.options.callback)},d.prototype._isBounded=function(a,b){return this._dimensions().left<a&&this._dimensions().right>a&&this._dimensions().top<b&&this._dimensions().bottom>b},d.prototype._hasVelocity=function(a,b){return Math.abs(this.pageX-this._dimensions().centerX)>Math.abs(a-this._dimensions().centerX)&&Math.abs(this.pageY-this._dimensions().centerY)>Math.abs(b-this._dimensions().centerY)},d}()})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("compiled/util/AvatarWidget",["compiled/util/ProximityLoader"],function(b){var c;return c=function(){function c(b){this._openAvatarDialog=a(this._openAvatarDialog,this),this._initializeDialog=a(this._initializeDialog,this),this.$el=$(b),this._initializeLoader(),this._attachEvents()}return c.prototype._attemptedLoads=0,c.prototype._attachEvents=function(){return this.$el.on("click",this._openAvatarDialog)},c.prototype._initializeLoader=function(){return this.loader=new b(this.$el,{callback:this._initializeDialog,dependencies:["compiled/views/profiles/AvatarDialogView"]})},c.prototype._initializeDialog=function(a){return this.avatarDialog=new a},c.prototype._openAvatarDialog=function(a){return a!=null&&a.preventDefault(),typeof this.avatarDialog!="undefined"?this.avatarDialog.show():this._pollScriptLoad()},c.prototype._pollScriptLoad=function(){this.loader.deferred.resolve();if(this._attemptedLoads<20)return this._attemptedLoads++,setTimeout(this._openAvatarDialog,100);throw new Error("Failed to load AvatarDialogView")},c}()})}.call(this),define("user_utils",["jquery"],function(a){return{nameParts:function(b,c){var d=/^(Sn?r\.?|Senior|Jn?r\.?|Junior|II|III|IV|V|VI|Esq\.?|Esquire)$/i,e,f,g,h,i,j;return!b||a.trim(b)===""?[null,null,null]:(j=a.map(b.split(","),function(b){return a.trim(b)}),e=j[0],f=j[1],g=j.slice(2).join(", "),g===""&&(g=null),g&&!d.test(g)&&(f=f+" "+g,g=null),typeof f=="string"?!g&&d.test(f)&&(g=f,f=e,e=null):(f=a.trim(b),e=null),h=f.split(/\s+/),h.length===1&&h[0]===""&&(h=[]),!g&&h.length>1&&d.test(h[h.length-1])&&(g=h.pop()),!e&&c&&!/^\s*$/.test(c)&&(i=c.split(/\s+/))&&h.length>=i.length&&h.slice(h.length-i.length).join(" ")===i.join(" ")&&(e=h.splice(h.length-i.length,i.length).join(" ")),!e&&h.length>1&&(e=h.pop()),[h.length===0?null:h.join(" "),e,g])},lastNameFirst:function(b){var c=a.trim([b[0],b[2]].join(" "));return a.trim(b[1]?b[1]+", "+c:c)},firstNameFirst:function(b){return a.trim(b.join(" ").replace(/\s+/," "))}}}),define("user_sortable_name",["jquery","user_utils"],function(a,b){a(function(){var c=a('input[name="user[short_name]"]'),d=c.parents("form").find('input[name="user[name]"]'),e=a('input[name="user[sortable_name]"]'),f=d.attr("value");d.keyup(function(){var g=d.attr("value"),h=e.attr("value"),i=b.nameParts(h);if(jQuery.trim(h)===""||b.firstNameFirst(i)===jQuery.trim(f)){var j=b.nameParts(g,i[1]);e.attr("value",b.lastNameFirst(j))}var k=c.attr("value");(jQuery.trim(k)===""||k===f)&&c.attr("value",g),f=a(this).attr("value")})})}),function(){define("compiled/profile/confirmEmail",["jquery","i18n!profile","compiled/fn/preventDefault","jquery.ajaxJSON","compiled/jquery.rails_flash_notifications"],function(a,b,c){return a(function(){var d;return d=!1,a(".re_send_confirmation_link").click(c(function(){var c,e;c=a(this),e=c.text();if(d)return;return d=!0,c.text(b.t("resending","resending...")),a.ajaxJSON(c.attr("href"),"POST",{},function(f){return d=!1,c.text(e),a.flashMessage(b.t("done_resending","Done! Message delivery may take a few minutes."))},function(f){return d=!1,c.text(e),a.flashError(b.t("failed_resending","Request failed. Try again."))})}))})})}.call(this),define("profile",["INST","i18n!profile","jquery","compiled/models/Pseudonym","compiled/util/AvatarWidget","jquery.ajaxJSON","jquery.instructure_date_and_time","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_plugins","jquery.loadingImg","jquery.templateData","jqueryui/sortable","compiled/jquery.rails_flash_notifications"],function(a,b,c,d,e){var f=c(".edit_settings_link"),g=c(".profile_table"),h=c("#update_profile_form"),i=c("#default_email_id"),j="/api/v1/users/self/avatars";f.click(function(a){return c(this).hide(),g.addClass("editing").find(".edit_data_row").show().end().find(":text:first").focus().select(),!1}),g.find(".cancel_button").click(function(a){return f.show(),g.removeClass("editing").find(".change_password_row,.edit_data_row,.more_options_row").hide().end().find("#change_password_checkbox").attr("checked",!1),!1}),g.find("#change_password_checkbox").change(function(a){c(this).attr("checked")?(c(this).addClass("showing"),g.find(".change_password_row").show().find("#old_password").focus().select()):g.find(".change_password_row").hide().find(":password").val("")}).attr("checked",!1).change(),h.attr("method","PUT").formSubmit({formErrors:!1,required:h.find("#user_name").length?["name"]:[],object_name:"user",property_validations:{"=default_email_id":function(a,d){if(c("#default_email_id").length&&(!a||a=="new"))return b.t("please_select_an_option","Please select an option")}},beforeSubmit:function(a){h.loadingImage()},success:function(a){var b=a.user,d={short_name:b.short_name,full_name:b.name,sortable_name:b.sortable_name,time_zone:b.time_zone,locale:c("#user_locale option[value='"+b.locale+"']").text()};if(d.locale!=h.find(".locale").text()){location.reload();return}h.loadingImage("remove");if(i.length>0){var e=i.find("option:selected").text();c(".default_email.display_data").text(e)}c(".channel").removeClass("default"),c("#channel_"+b.communication_channel.id).addClass("default"),h.fillTemplateData({data:d}).find(".cancel_button").click()},error:function(a){if(a.password){var b=c(this).find("#profile_pseudonym_id").val();a=d.prototype.normalizeErrors(a,ENV.PASSWORD_POLICIES[b]||ENV.PASSWORD_POLICY)}h.loadingImage("remove").formErrors(a),f.click()}}).find(".more_options_link").click(function(){return h.find(".more_options_link_row").hide(),h.find(".more_options_row").show(),!1}),c("#default_email_id").change(function(){c(this).val()=="new"&&c(".add_email_link:first").click()}),c("#unregistered_services li.service").click(function(a){a.preventDefault(),c("#"+c(this).attr("id")+"_dialog").dialog({width:350})}),c(".create_user_service_form").formSubmit({object_name:"user_service",beforeSubmit:function(a){c(this).loadingImage()},success:function(a){c(this).loadingImage("remove").parents(".content").dialog("close"),document.location.reload()},error:function(a){c(this).loadingImage("remove").errorBox(b.t("errors.registration_failed","Registration failed. Check the user name and password, and try again."))}}),c("#unregistered_services li.service .content form .cancel_button").click(function(a){c(this).parents(".content").dialog("close")}),c("#registered_services li.service .delete_service_link").click(function(a){a.preventDefault(),c(this).parents("li.service").confirmDelete({message:b.t("confirms.unregister_service","Are you sure you want to unregister this service?"),url:c(this).attr("href"),success:function(a){c(this).slideUp(function(){c("#unregistered_services").find("#unregistered_"+c(this).attr("id")).slideDown()})}})}),c(".service").hover(function(){c(this).addClass("service-hover")},function(){c(this).removeClass("service-hover")}),c("#show_user_services").change(function(){c.ajaxJSON(c("#update_profile_form").attr("action"),"PUT",{"user[show_user_services]":c(this).prop("checked")},function(a){},function(a){})}),c(".delete_pseudonym_link").click(function(a){a.preventDefault(),c(this).parents(".pseudonym").confirmDelete({url:c(this).attr("href"),message:b.t("confirms.delete_login","Are you sure you want to delete this login?")})}),c(".datetime_field").datetime_field(),c(".expires_field").bind("change keyup",function(){c(this).closest("td").find(".hint").showIf(!c(this).val())}),c(".delete_key_link").click(function(a){a.preventDefault(),c(this).closest(".access_token").confirmDelete({url:c(this).attr("rel"),message:b.t("confirms.delete_access_key","Are you sure you want to delete this access key?"),success:function(){c(this).remove(),c(".access_token:visible").length||c("#no_approved_integrations,#access_tokens_holder").toggle()}})}),c("#add_access_token_dialog .cancel_button").click(function(){c("#add_access_token_dialog").dialog("close")}),c("#access_token_form").formSubmit({object_name:"access_token",required:["purpose"],beforeSubmit:function(){c(this).find("button").attr("disabled",!0).filter(".submit_button").text(b.t("buttons.generating_token","Generating Token..."))},success:function(a){c(this).find("button").attr("disabled",!1).filter(".submit_button").text(b.t("buttons.generate_token","Generate Token")),c("#add_access_token_dialog").dialog("close"),c("#no_approved_integrations").hide(),c("#access_tokens_holder").show();var d=c(".access_token.blank:first").clone(!0).removeClass("blank");a.created=c.parseFromISO(a.created_at).datetime_formatted||"--",a.expires=c.parseFromISO(a.expires_at).datetime_formatted||b.t("token_never_expires","never"),a.used="--",d.fillTemplateData({data:a,hrefValues:["id"]}),d.data("token",a),c("#access_tokens > tbody").append(d.show()),d.find(".show_token_link").click()},error:function(){c(this).find("button").attr("disabled",!1).filter(".submit_button").text(b.t("errors.generating_token_failed","Generating Token Failed"))}}),c("#token_details_dialog .regenerate_token").click(function(){var a=confirm(b.t("confirms.regenerate_token","Are you sure you want to regenerate this token?  Anything using this token will have to be updated."));if(!a)return;var d=c("#token_details_dialog"),e=d.data("token"),f=d.data("token_url"),g=c(this);g.text(b.t("buttons.regenerating_token","Regenerating token...")).attr("disabled",!0),c.ajaxJSON(f,"PUT",{"access_token[regenerate]":"1"},function(a){a.created=c.parseFromISO(a.created_at).datetime_formatted||"--",a.expires=c.parseFromISO(a.expires_at).datetime_formatted||b.t("token_never_expires","never"),a.used=c.parseFromISO(a.last_used_at).datetime_formatted||"--",a.visible_token=a.visible_token||"protected",d.fillTemplateData({data:a}).find(".full_token_warning").showIf(a.visible_token.length>10),e.data("token",a),g.text(b.t("buttons.regenerate_token","Regenerate Token")).attr("disabled",!1)},function(){g.text(b.t("errors.regenerating_token_failed","Regenerating Token Failed")).attr("disabled",!1)})}),c(".show_token_link").click(function(a){function g(a){d.fillTemplateData({data:a}),d.data("token_url",e),d.find(".refresh_token").showIf(a.visible_token&&a.visible_token!=="protected").find(".regenerate_token").text(b.t("buttons.regenerate_token","Regenerate Token")).attr("disabled",!1),d.find(".loading_message,.error_loading_message").hide().end().find(".results").show().end().find(".full_token_warning").showIf(a.visible_token.length>10)}a.preventDefault();var d=c("#token_details_dialog"),e=c(this).attr("rel");d.dialog({width:600});var f=c(this).parents(".access_token");d.data("token",f),d.find(".loading_message").show().end().find(".results,.error_loading_message").hide();var h=f.data("token");h?g(h):c.ajaxJSON(e,"GET",{},function(a){a.created=c.parseFromISO(a.created_at).datetime_formatted||"--",a.expires=c.parseFromISO(a.expires_at).datetime_formatted||b.t("token_never_expires","never"),a.used=c.parseFromISO(a.last_used_at).datetime_formatted||"--",a.visible_token=a.visible_token||"protected",f.data("token",a),g(a)},function(){d.find(".error_loading_message").show().end().find(".results,.loading_message").hide()})}),c(".add_access_token_link").click(function(a){a.preventDefault(),c("#access_token_form").find("button").attr("disabled",!1).filter(".submit_button").text(b.t("buttons.generate_token","Generate Token")),c("#add_access_token_dialog").find(":input").val("").end().dialog({width:500}).fixDialogButtons()}),c(document).fragmentChange(function(a,b){var d=b.substring(1);d.match(/^register/)&&(d=d.substring(9)),c("#unregistered_service_"+d+":visible").length>0&&c("#unregistered_service_"+d+":visible").click()}).fragmentChange(),new e(".profile_pic_link"),c("#disable_mfa_link").click(function(a){var d=c(this);c.ajaxJSON(d.attr("href"),"DELETE",null,function(){c.flashMessage(b.t("notices.mfa_disabled","Multi-factor authentication disabled")),d.remove()}),a.preventDefault()})}),require(["i18n!profile","jquery","jquery.ajaxJSON","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","jquery.loadingImg","compiled/jquery.rails_flash_notifications","jquery.templateData","jqueryui/tabs"],function(a,b){b(document).ready(function(){b("#communication_channels").tabs(),b("#communication_channels").bind("tabsshow",function(a){if(b(this).css("display")!="none"){var c=b(this).data("selected.tabs");c==0?b("#register_email_address").find(":text:first").focus().select():b("#register_sms_number").find(":text:first").focus().select()}}),b(".channel_list tr").hover(function(){if(b(this).hasClass("unconfirmed")){var c=a.t("titles.contact_not_confirmed","This contact has not been confirmed.  Click the address for more details");b(this).closest(".email_channels").length>0&&(c=a.t("titles.email_not_confirmed","This email has not been confirmed.  Click the address for more details")),b(this).attr("title",c),b(this).find("a.path").parent().attr("title",c)}},function(){b(this).attr("title",""),b(this).find("a.path").parent().attr("title",b(this).find("a.path").text())}),b(".add_email_link,.add_contact_link").click(function(c){c.preventDefault();var d="email";b("#communication_channels").show().dialog({title:a.t("titles.register_communication","Register Communication"),width:430,resizable:!1,modal:!0,open:function(){b("#communication_channels").triggerHandler("tabsshow")}}),b(this).hasClass("add_contact_link")?(b("#communication_channels").tabs("select","#register_sms_number"),d="sms"):b("#communication_channels").tabs("select","#register_email_address")}),b("#register_sms_number .user_selected").bind("change blur keyup focus",function(){var a=b(this).parents("#register_sms_number"),c=a.find(".sms_number").val().replace(/[^\d]/g,"");a.find(".should_be_10_digits").showIf(c&&c.length!=10);var d=a.find(".carrier").val();a.find(".sms_email").attr("disabled",d!="other");if(d=="other")return;d=d.replace("#",c),a.find(".sms_email").val(d)}),b("#register_sms_number,#register_email_address").formSubmit({beforeSubmit:function(c){var d=b(".email_channels"),c=b(this).getFormData({object_name:"communication_channel"});b(this).attr("id")=="register_sms_number"&&(d=b(".other_channels"));var e=b(this).getFormData({object_name:"communication_channel"}).address;b(this).data("email",e),d.find(".channel .path").each(function(){b(this).text()==e&&(e="")}),d.removeClass("single");var f=null;return e&&(f=d.find(".channel.blank").clone(!0).removeClass("blank"),f.find(".path").attr("title",a.t("titles.unconfirmed_click_to_confirm","Unconfirmed.  Click to confirm")),f.fillTemplateData({data:{path:e}}),d.find(".channel.blank").before(f.show())),e?(b("#communication_channels").dialog("close"),f.loadingImage({image_size:"small"}),f):!1},success:function(a,c){b("#communication_channels").dialog("close"),c.loadingImage("remove"),a.channel_id=a.id;var d="email_select";b(this).attr("id")=="register_sms_number"&&(d="sms_select");var e=b("#select_templates ."+d),f=b(document.createElement("option"));f.val(a.id).text(a.address),e.find("option:last").before(f),e.find("option.blank_option").remove(),b("."+d).each(function(){var c=b(this).val();c=="new"&&(c=a.id),b(this).after(e.clone(!0).val(c)).remove()}),c.fillTemplateData({data:a,id:"channel_"+a.id,hrefValues:["user_id","pseudonym_id","channel_id"]}),c.find(".path").triggerHandler("click")},error:function(a,b){b.loadingImage("remove"),b.remove()}}),b("a.email_address_taken_learn_more").live("click",function(a){a.preventDefault()}),b(".channel_list .channel .delete_channel_link").click(function(a){a.preventDefault(),b(this).parents(".channel").confirmDelete({url:b(this).attr("href"),success:function(a){var c=b(this).parents(".channel_list");b(this).remove(),c.toggleClass("single",c.find(".channel:visible").length<=1)}})}),b("#confirm_communication_channel .cancel_button").click(function(a){b("#confirm_communication_channel").dialog("close")}),b(".email_channels .channel .path,.other_channels .channel .path").click(function(c){c.preventDefault();var d=b(this).parents(".channel");if(d.hasClass("unconfirmed")){var e="email address",f=a.t("titles.confirm_email_address","Confirm Email Address");b(this).parents(".channel_list").hasClass("other_channels")&&(e="sms number",f=a.t("titles.confirm_sms_number","Confirm SMS Number"));var g=b("#confirm_communication_channel");d.parents(".email_channels").length>0&&(g=b("#confirm_email_channel"));var h=d.getTemplateData({textValues:["user_id","pseudonym_id","channel_id"]}),i=b(this).text();e=="sms number"&&(i=i.split("@")[0]),h.code="",g.fillTemplateData({data:{path:i,path_type:e,user_id:h.user_id,channel_id:h.channel_id}}),g.find(".status_message").css("visibility","hidden");var j=b(".re_send_confirmation_url").attr("href");j=b.replaceTags(j,"id",h.channel_id),j=b.replaceTags(j,"pseudonym_id",h.pseudonym_id),j=b.replaceTags(j,"user_id",h.user_id),g.find(".re_send_confirmation_link").attr("href",j).text(a.t("links.resend_confirmation","Re-Send Confirmation")),g.fillFormData(h),g.show().dialog({title:f,width:350,open:function(){b(this).find(":text:first").focus().select()}})}}),b("#confirm_communication_channel").formSubmit({formErrors:!1,processData:function(a){var c=b(this).find(".register_channel_link").attr("href");c=b.replaceTags(c,"id",a.channel_id),c=b.replaceTags(c,"code",a.code),b(this).attr("action",c)},beforeSubmit:function(c){b(this).find(".status_message").text(a.t("confirming_contact","Confirming...")).css("visibility","visible")},success:function(c){b(this).find(".status_message").css("visibility","hidden");var d=c.communication_channel.pseudonym_id;b("#channel_"+c.communication_channel.id).removeClass("unconfirmed"),b(".channel.pseudonym_"+d).removeClass("unconfirmed"),b("#confirm_communication_channel").dialog("close"),b.flashMessage(a.t("notices.contact_confirmed","Contact successfully confirmed!"))},error:function(c){b(this).find(".status_message").text(a.t("errors.confirmation_failed","Confirmation failed.  Please try again."))}}),b(".channel_list .channel .default_link").click(function(a){a.preventDefault();var c=b(this).parents(".channel").getTemplateData({textValues:["channel_id"]}).channel_id,d={default_email_id:c};b.ajaxJSON(b(this).attr("href"),"PUT",d,function(a){var c=a.user.communication_channel.id;b(".channel.default").removeClass("default"),b(".channel#channel_"+c).addClass("default"),b(".default_email.display_data").text(a.user.pseudonym.unique_id)})}),b(".dialog .re_send_confirmation_link").click(function(c){c.preventDefault();var d=b(this);d.text(a.t("links.resending_confirmation","Re-Sending...")),b.ajaxJSON(d.attr("href"),"POST",{},function(b){d.text(a.t("links.resent_confirmation","Done! Message may take a few minutes."))},function(b){d.text(a.t("links.resend_confirmation_failed","Request failed. Try again."))})}),b("#communication_channels .cancel_button").click(function(a){b("#communication_channels").dialog("close")}),b("#confirm_email_channel .cancel_button").click(function(){b("#confirm_email_channel").dialog("close")})})}),define("communication_channels",function(){}),function(){require(["compiled/util/BackoffPoller","profile","user_sortable_name","communication_channels","compiled/profile/confirmEmail"])}.call(this),define("compiled/bundles/profile",function(){})