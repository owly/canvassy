define("translations/messages",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{messages:{dialog:{title:"إرسال رسالة رد"},messages:{failure:"حدث خطأ في إرسال بريدك الإلكتروني، يرجى إعادة تحميل الصفحة والمحاولة مرة أخرى.",success:"يجري تسليم بريدك الإلكتروني."}}},es:{messages:{dialog:{title:"Envíe un mensaje de respuesta"},messages:{failure:"Se ha producido un error al enviar el mensaje de correo electrónico. Recargue la página e inténtelo de nuevo.",success:"Se va a entregar su mensaje de correo electrónico."}}},fr:{messages:{dialog:{title:"Envoyer une réponse"},messages:{failure:"Une erreur s’est produite pendant l’envoi de votre e-mail. Rechargez la page et réessayez.",success:"Envoi de votre e-mail"}}},ja:{messages:{dialog:{title:"返信メッセージを送信する"},messages:{failure:"電子メールを送信する際にエラーが発生しました。ページを再読み込みしてから、もう一度試してください。",success:"電子メールは配信されています。"}}},ko:{messages:{dialog:{title:"회신 메시지 보내기"},messages:{failure:"이메일을 보내는 데 오류가 발생했습니다. 페이지를 다시 로드하고 다시 시도하시기 바랍니다.",success:"이메일을 배달 중입니다."}}},nl:{messages:{dialog:{title:"Verstuur een antwoord"},messages:{failure:"Er is een fout opgetreden bij het versturen van je mail. Ververs de pagina en probeer het opnieuw.",success:"Je e-mail wordt afgeleverd."}}},pt:{messages:{dialog:{title:"Enviar uma mensagem de resposta"},messages:{failure:"Ocorreu um erro durante o envio do seu e-mail. Atualize a página a tente novamente.",success:"O seu e-mail está a ser enviado."}}},ru:{messages:{dialog:{title:"Отправить сообщение с ответом"},messages:{failure:"Произошла ошибка при отправке вашего электронного сообщения. Перезагрузите страницу и попробуйте еще раз.",success:"Идет доставка вашего электронного сообщения."}}},zh:{messages:{dialog:{title:"发送回复邮件"},messages:{failure:"发送电子邮件时出错。请重新加载此页，然后重试。",success:"正在传送您的电子邮件。"}}}}})}),define("translations/messages.send_form",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{messages:{send_form:{labels:{message_body:"الرسالة",send_button:"إرسال"}}}},es:{messages:{send_form:{labels:{message_body:"Mensaje",send_button:"Enviar"}}}},fr:{messages:{send_form:{labels:{message_body:"Message",send_button:"Envoyer"}}}},ja:{messages:{send_form:{labels:{message_body:"メッセージ",send_button:"送信"}}}},ko:{messages:{send_form:{labels:{message_body:"메시지",send_button:"보내기"}}}},nl:{messages:{send_form:{labels:{message_body:"Bericht",send_button:"Versturen"}}}},pt:{messages:{send_form:{labels:{message_body:"Mensagem",send_button:"Enviar"}}}},ru:{messages:{send_form:{labels:{message_body:"Сообщение",send_button:"Отправить"}}}},zh:{messages:{send_form:{labels:{message_body:"消息",send_button:"发送"}}}}}})}),define("jst/messages/sendForm",["compiled/handlebars_helpers","i18n!messages.send_form"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["messages/sendForm"]=b(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i,j,k,l,m=this,n="function",o=c.helperMissing,p=void 0,q=this.escapeExpression;f+='<form action="',k=c.location,g=k||b.location,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"location",{hash:{}})),f+=q(g)+'" method="post" class="bootstrap-form message-send-form">\n  <div class="fields">\n    <label for="message-send-body">',g="Message",h="labels.message_body",i={},j="messages.send_form",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='</label>\n    <textarea name="message" class="input-xlarge" id="message-send-body"></textarea>\n\n    <input type="hidden" name="from" value="',k=c.from,g=k||b.from,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"from",{hash:{}})),f+=q(g)+'" />\n    <input type="hidden" name="subject" value="',k=c.subject,g=k||b.subject,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"subject",{hash:{}})),f+=q(g)+'" />\n    <input type="hidden" name="secure_id" value="',k=c.secureId,g=k||b.secureId,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"secureId",{hash:{}})),f+=q(g)+'" />\n    <input type="hidden" name="message_id" value="',k=c.messageId,g=k||b.messageId,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"messageId",{hash:{}})),f+=q(g)+'" />\n  </div>\n\n  <div class="actions">\n    <button type="submit" class="btn btn-primary">',g="Send",h="labels.send_button",i={},j="messages.send_form",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;return f+="</button>\n  </div>\n</form>\n\n",f}),c["messages/sendForm"]}),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};require(["i18n!messages","jquery","jst/messages/sendForm","compiled/jquery/fixDialogButtons","jqueryui/dialog","jqueryui/tabs"],function(b,c,d){var e,f;return c(".tabs").tabs(),f=function(a){var b,d;return a.preventDefault(),b=c(a.target).parents("li.message:first"),d=new e(b,b.data()),d.open()},c(document).ready(function(){return c(".reply-button").on("click",f)}),e=function(){function e(b,e){var f,g;g=e.secureId,f=e.messageId,this.sendMessage=a(this.sendMessage,this),this.tpl=d({location:window.location.href,secureId:g,messageId:f,subject:"re: "+b.find(".h6:first").text(),from:b.find(".message-to").text()}),this.$el=c(this.tpl).dialog(this.dialogOptions),this.attachEvents()}return e.prototype.dialogOptions={autoOpen:!1,modal:!0,title:b.t("dialog.title","Send a reply message")},e.prototype.attachEvents=function(){return this.$el.on("submit",this.sendMessage)},e.prototype.open=function(){return this.$el.dialog("open").fixDialogButtons()},e.prototype.close=function(){return this.$el.dialog("close")},e.prototype.sendMessage=function(a){return a.preventDefault(),this.close(),c.post(this.$el.attr("action"),this.$el.serialize()).fail(function(){return c.flashError(b.t("messages.failure","There was an error sending your email. Please reload the page and try again."))}),c.flashMessage(b.t("messages.success","Your email is being delivered."))},e}()})}.call(this),define("compiled/bundles/messages",function(){})