(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define("compiled/calendar/CalendarEvent",["jquery","underscore","Backbone","compiled/str/splitAssetString"],function(a,c,d,e){var f,g;return f=function(f){function h(){return g=h.__super__.constructor.apply(this,arguments),g}return b(h,f),h.prototype.urlRoot="/api/v1/calendar_events/",h.prototype.dateAttributes=["created_at","end_at","start_at","updated_at"],h.prototype._filterAttributes=function(a){var b;return b=c(a).pick("start_at","end_at","title","description","context_code","remove_child_events"),a.use_section_dates&&a.child_event_data&&(b.child_event_data=c.chain(a.child_event_data).compact().filter(this._hasValidInputs).map(this._filterAttributes).value()),b},h.prototype._hasValidInputs=function(a){return a.start_date&&!!a.start_time==!!a.end_time},h.prototype.toJSON=function(a){var b;return b=h.__super__.toJSON.apply(this,arguments),a?b:{calendar_event:this._filterAttributes(b)}},h.prototype.fetch=function(b){var e,f,g,i,j,k;return b==null&&(b={}),b=c.clone(b),g=this,j=b.success,delete b.success,f=d.wrapError(b.error,g,b),delete b.error,this.get("id")&&(k=(this.sync||d.sync).call(this,"read",this,b)),this.get("sections_url")&&(i=a.getJSON(this.get("sections_url"))),e=function(a,d){var e,f,i,k,l;return a==null&&(a=[]),d==null&&(d=[]),i=a[0],k=a[1],l=a[2],f=d[0],e=h.mergeSectionsIntoCalendarEvent(i,c.sortBy(f,"id")),g.set(g.parse(e,l),b)?typeof j=="function"?j(g,e):void 0:!1},a.when(k,i).fail(f).done(e)},h.mergeSectionsIntoCalendarEvent=function(a,b){var d;return a==null&&(a={}),a.course_sections=b,a.use_section_dates=(d=a.child_events)!=null?!!d.length:!!void 0,c(a.child_events).each(function(d,f){var g,i;return d=a.child_events[f]=h.prototype.parse(d),i=e(d.context_code)[1],g=c(b).find(function(a){return a.id===i}),g.event=d}),a},h}(d.Model)})}).call(this),define("translations/calendar.edit",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{calendar:{edit:{confirm_delete_calendar_event:"هل تريد بالتأكيد حذف حدث التقويم هذا؟",event_deleted:"تم حذف %{event_title} بنجاح",event_saved:"تم حفظ الحدث بنجاح",missingDueDate:{one:"لم يتم تعيين تاريخ استحقاق لقسم واحد.",other:"لم يتم تعيين تاريخ استحقاق لـ %{sections} أقسام."},titles:{warning:"تحذير"}}}},es:{calendar:{edit:{confirm_delete_calendar_event:"¿Está seguro de que quiere borrar este evento del calendario?",event_deleted:"%{event_title} borrado correctamente",event_saved:"Evento guardado correctamente",missingDueDate:{one:"%{sections} no tiene una fecha de vencimiento asignada.",other:"%{sections} no tienen una fecha de vencimiento asignada."},titles:{warning:"Aviso"}}}},fr:{calendar:{edit:{confirm_delete_calendar_event:"Voulez-vous vraiment supprimer cet événement de calendrier ?",event_deleted:"%{event_title} a été correctement supprimé.",event_saved:"L’événement a bien été enregistré.",missingDueDate:{one:"%{sections} n’a pas de date d’échéance.",other:"%{sections} n’ont pas de date d’échéance"},titles:{warning:"Avertissement"}}}},ja:{calendar:{edit:{confirm_delete_calendar_event:"このカレンダー イベントを削除してもよろしいですか?",event_deleted:"%{event_title} は正常に削除されました",event_saved:"イベントは正常に保存されました",missingDueDate:{one:"%{sections} には期日が割り当てられていません。",other:"%{sections} には期日が割り当てられていません。"},titles:{warning:"警告"}}}},ko:{calendar:{edit:{confirm_delete_calendar_event:"이 행사를 삭제하시겠습니까?",event_deleted:"%{event_title}을(를) 성공적으로 삭제함",event_saved:"행사를 성공적으로 저장함",missingDueDate:{one:"%{sections}에 할당된 기한이 없습니다.",other:"%{sections}에 할당된 기한이 없습니다."},titles:{warning:"주의"}}}},nl:{calendar:{edit:{confirm_delete_calendar_event:"Weet u zeker dat u deze gebeurtenis wilt verwijderen?",event_deleted:"%{event_title} is verwijderd",event_saved:"Gebeurtenis is opgeslagen",missingDueDate:{one:"%{sections} heeft geen vervaldatum.",other:"%{sections} hebben geen vervaldatum."},titles:{warning:"Waarschuwing"}}}},pt:{calendar:{edit:{confirm_delete_calendar_event:"Tem a certeza de que pretende eliminar este evento do calendário?",event_deleted:"%{event_title} eliminado com sucesso",event_saved:"Evento guardado com sucesso",missingDueDate:{one:"%{sections} não tem uma data de entrega atribuída.",other:"%{sections} não têm uma data de entrega atribuída."},titles:{warning:"Aviso"}}}},ru:{calendar:{edit:{confirm_delete_calendar_event:"Вы уверены, что хотите удалить это событие календаря?",event_deleted:"%{event_title} удалено успешно",event_saved:"Событие успешно сохранено",missingDueDate:{one:"Для раздела %{sections} не назначена дата выполнения.",other:"Для разделов %{sections} не назначена дата выполнения."},titles:{warning:"Предупреждение"}}}},zh:{calendar:{edit:{confirm_delete_calendar_event:"是否确定要删除此日历事件?",event_deleted:"%{event_title} 已成功删除",event_saved:"事件已成功保存",missingDueDate:{one:"%{sections} 没有指定的到期日期。",other:"%{sections} 没有指定的到期日期。"},titles:{warning:"警告"}}}}}})}),define("translations/calendar.edit_calendar_event_full",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{buttons:{cancel:"إلغاء"},calendar:{edit_calendar_event_full:{buttons:{create:"إنشاء حدث",update:"تحديث حدث"},date:"التاريخ","delete":"حذف",different_date_for_each_section:"استخدم تاريخًا مختلفًا لكل قسم",end_time:"وقت النهاية",event_description:"وصف الحدث",event_title:"عنوان الحدث",start_time:"وقت البداية"}}},es:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Crear Evento",update:"Actualizar Evento"},date:"Fecha","delete":"Borrar",different_date_for_each_section:"Usar una fecha diferente para cada sección",end_time:"Tiempo de finalización",event_description:"Descripción del evento",event_title:"Título del evento",start_time:"Hora de inicio"}}},fr:{buttons:{cancel:"Annuler"},calendar:{edit_calendar_event_full:{buttons:{create:"Créer un événement",update:"Mettre à jour l’événement"},date:"Date","delete":"Supprimer",different_date_for_each_section:"Utiliser une date différente pour chaque section",end_time:"Heure de fin",event_description:"Description de l’événement",event_title:"Titre de l’événement",start_time:"Heure de début"}}},ja:{buttons:{cancel:"キャンセル"},calendar:{edit_calendar_event_full:{buttons:{create:"イベントの作成",update:"イベントの更新"},date:"日付","delete":"削除",different_date_for_each_section:"各セクションに異なる日付を使用する",end_time:"終了時刻",event_description:"イベントの説明",event_title:"イベント タイトル",start_time:"開始時刻"}}},ko:{buttons:{cancel:"취소"},calendar:{edit_calendar_event_full:{buttons:{create:"행사 만들기",update:"행사 업데이트"},date:"날짜","delete":"삭제",different_date_for_each_section:"각 섹션에 다른 날짜를 사용",end_time:"끝 시각",event_description:"행사 설명",event_title:"행사 제목",start_time:"시작 시각"}}},nl:{buttons:{cancel:"Annuleren"},calendar:{edit_calendar_event_full:{buttons:{create:"Maak gebeurtenis",update:"Wijzig gebeurtenis"},date:"Datum","delete":"Verwijder",different_date_for_each_section:"Gebruik een andere datum voor iedere sectie",end_time:"Eindtijd",event_description:"Gebeurtenis beschrijving",event_title:"Naam gebeurtenis",start_time:"Starttijd"}}},pt:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Criar um evento",update:"Atualizar evento"},date:"Data","delete":"Excluir",different_date_for_each_section:"Utilizar uma data diferente para cada secção",end_time:"Hora de fim",event_description:"Descrição do evento",event_title:"Título do evento",start_time:"Hora de início"}}},ru:{buttons:{cancel:"Отменить"},calendar:{edit_calendar_event_full:{buttons:{create:"Создать событие",update:"Обновить событие"},date:"Дата","delete":"Удалить",different_date_for_each_section:"Используйте разные даты для каждой секции",end_time:"Время окончания",event_description:"Описание события",event_title:"Название события",start_time:"Время начала"}}},zh:{buttons:{cancel:"取消"},calendar:{edit_calendar_event_full:{buttons:{create:"创建事件",update:"更新事件"},date:"日期","delete":"删除",different_date_for_each_section:"对每节应用不同的日期",end_time:"结束时间",event_description:"事件说明",event_title:"事件标题",start_time:"开始时间"}}}}})}),define("translations/calendar.missing_due_date_dialog",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{calendar:{missing_due_date_dialog:{buttons:{goBack:"عودة",noDueDate:"لا يوجد تاريخ استحقاق"},modal:{chooseDueDate:"هل تريد العودة للسابق وتحديد تاريخ استحقاق؟"}}}},es:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Volver",noDueDate:"Sin fecha de vencimiento"},modal:{chooseDueDate:"¿Desea volver atrás y seleccionar una fecha de vencimiento?"}}}},fr:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Retour",noDueDate:"Pas de date d’échéance"},modal:{chooseDueDate:"Voulez-vous revenir en arrière et sélectionner une date d’échéance ?"}}}},ja:{calendar:{missing_due_date_dialog:{buttons:{goBack:"戻る",noDueDate:"期日なし"},modal:{chooseDueDate:"戻って期日を選択しますか?"}}}},ko:{calendar:{missing_due_date_dialog:{buttons:{goBack:"뒤로 가기",noDueDate:"기한 없음"},modal:{chooseDueDate:"뒤로 가서 기한을 선택하시겠습니까?"}}}},nl:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Ga terug",noDueDate:"Geen inleverdatu"},modal:{chooseDueDate:"Wil je teruggaan en een vervaldatum selecteren?"}}}},pt:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Retroceder",noDueDate:"Sem data de entrega"},modal:{chooseDueDate:"Deseja retroceder e selecionar uma data de entrega?"}}}},ru:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Вернуться назад",noDueDate:"Нет даты выполнения"},modal:{chooseDueDate:"Вы хотите вернуться назад и выбрать дату выполнения?"}}}},zh:{calendar:{missing_due_date_dialog:{buttons:{goBack:"返回",noDueDate:"无到期日"},modal:{chooseDueDate:"是否要返回并选择到期日期?"}}}}}})}),function(){define("compiled/object/unflatten",["underscore"],function(a){var b;return b=function(b){return a(b).reduce(function(b,c,d){var e,f,g,h;g=d.split("]["),h=g.length-1,/\[/.test(g[0])&&/\]$/.test(g[h])?(g[h]=g[h].replace(/\]$/,""),g=g.shift().split("[").concat(g),h=g.length-1):h=0;if(h){f=0,e=b;while(f<=h)d=g[f]===""?e.length:g[f],e=e[d]=f<h?e[d]||(g[f+1]&&isNaN(g[f+1])?{}:[]):c,f++}else a.isArray(b[d])?b[d].push(c):b[d]!=null?b[d]=[b[d],c]:b[d]=c;return b},{})}})}.call(this),define("jst/calendar/editCalendarEventFull",["compiled/handlebars_helpers","i18n!calendar.edit_calendar_event_full"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["calendar/editCalendarEventFull"]=b(function(a,b,c,d,e){function r(a,b){return"use_section_dates"}function s(a,b){var d="",e,f,g,h;d+='\n    <label class="label_with_checkbox">\n      <input type="checkbox"\n             name="use_section_dates"\n             value="1"\n             ',k=c.use_section_dates,e=k||a.use_section_dates,f=c["if"],l=m.program(4,t,b),l.hash={},l.fn=l,l.inverse=m.noop,e=f.call(a,e,l);if(e||e===0)d+=e;d+=" />\n      ",e="Use a different date for each section",f="different_date_for_each_section",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='\n    </label>\n\n    <input type="hidden"\n           name="remove_child_events"\n           value="',k=c.use_section_dates,e=k||a.use_section_dates,f=c.unless,l=m.program(6,u,b),l.hash={},l.fn=l,l.inverse=m.noop,e=f.call(a,e,l);if(e||e===0)d+=e;return d+='" />\n  ',d}function t(a,b){return"checked"}function u(a,b){return"1"}function v(a,b){var d="",e,f,g;return d+=' value="',e="tiny",k=c.start_at,f=k||a.start_at,k=c.tTimeToString,g=k||a.tTimeToString,typeof g===n?e=g.call(a,f,e,{hash:{}}):g===p?e=o.call(a,"tTimeToString",f,e,{hash:{}}):e=g,d+=q(e)+'" ',d}function w(a,b){var d="",e,f,g;return d+=' value="',e="tiny",k=c.end_at,f=k||a.end_at,k=c.tTimeToString,g=k||a.tTimeToString,typeof g===n?e=g.call(a,f,e,{hash:{}}):g===p?e=o.call(a,"tTimeToString",f,e,{hash:{}}):e=g,d+=q(e)+'" ',d}function x(a,b){var d="",e,f;d+='\n    <table class="formtable show_if_using_sections">\n      ',k=c.course_sections,e=k||a.course_sections,f=c.each,l=m.program(13,y,b),l.hash={},l.fn=l,l.inverse=m.noop,e=f.call(a,e,l);if(e||e===0)d+=e;return d+="\n    </table>\n  ",d}function y(a,b){var d="",e,f,g,h;d+='\n      <tr class="date_start_end_row">\n        <td colspan="4"><label class="row_header" for="section_',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'_start_date">',k=c.name,e=k||a.name,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"name",{hash:{}})),d+=q(e)+'</label></td>\n      </tr>\n      <tr class="date_start_end_row">\n        <td>\n          <input type="text"\n                 id="section_',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'_start_date"\n                 name="child_event_data[',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'][start_date]"\n                 class="date_field"\n                 value="',e="medium",k=c.event,f=k||a.event,f=f===null||f===undefined||f===!1?f:f.start_at,k=c.tDateToString,g=k||a.tDateToString,typeof g===n?e=g.call(a,f,e,{hash:{}}):g===p?e=o.call(a,"tDateToString",f,e,{hash:{}}):e=g,d+=q(e)+'"\n                 aria-label="',e="Date",f="date",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='"\n                 placeholder="',e="Date",f="date",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='" />\n        </td>\n        <td>\n          <input type="text"\n                 name="child_event_data[',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'][start_time]"\n                 class="time_field"\n                 ',k=c.all_day,e=k||a.all_day,f=c.unless,l=m.program(14,z,b),l.hash={},l.fn=l,l.inverse=m.noop,e=f.call(a,e,l);if(e||e===0)d+=e;d+='\n                 aria-label="',e="Start Time",f="start_time",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='"\n                 placeholder="',e="Start Time",f="start_time",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='" />\n        </td>\n\n        <td><span class="time_separator">-</span></td>\n\n        <td>\n          <input type="text"\n                 name="child_event_data[',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'][end_time]"\n                 class="time_field"\n                 ',k=c.all_day,e=k||a.all_day,f=c.unless,l=m.program(16,A,b),l.hash={},l.fn=l,l.inverse=m.noop,e=f.call(a,e,l);if(e||e===0)d+=e;d+='\n                 aria-label="',e="End Time",f="end_time",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;d+='"\n                 placeholder="',e="End Time",f="end_time",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;return d+='" />\n          <input type="hidden"\n                 name="child_event_data[',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'][context_code]"\n                 value="course_section_',k=c.id,e=k||a.id,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"id",{hash:{}})),d+=q(e)+'" />\n        </td>\n      </tr>\n      ',d}function z(a,b){var d="",e,f,g;return d+=' value="',e="tiny",k=c.event,f=k||a.event,f=f===null||f===undefined||f===!1?f:f.start_at,k=c.tTimeToString,g=k||a.tTimeToString,typeof g===n?e=g.call(a,f,e,{hash:{}}):g===p?e=o.call(a,"tTimeToString",f,e,{hash:{}}):e=g,d+=q(e)+'" ',d}function A(a,b){var d="",e,f,g;return d+=' value="',e="tiny",k=c.event,f=k||a.event,f=f===null||f===undefined||f===!1?f:f.end_at,k=c.tTimeToString,g=k||a.tTimeToString,typeof g===n?e=g.call(a,f,e,{hash:{}}):g===p?e=o.call(a,"tTimeToString",f,e,{hash:{}}):e=g,d+=q(e)+'" ',d}function B(a,b){var d="",e,f,g,h;d+='\n      <button type="button" class="btn delete_link">',e="Delete",f="delete",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;return d+="</button>\n    ",d}function C(a,b){var d="",e,f,g,h;d+='\n      <a href="',k=c.return_to_url,e=k||a.return_to_url,typeof e===n?e=e.call(a,{hash:{}}):e===p&&(e=o.call(a,"return_to_url",{hash:{}})),d+=q(e)+'" class="btn">',e="Cancel",f="#buttons.cancel",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;return d+="</a>\n    ",d}function D(a,b){var d="",e,f,g,h;d+="\n        ",e="Create Event",f="buttons.create",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;return d+="\n      ",d}function E(a,b){var d="",e,f,g,h;d+="\n        ",e="Update Event",f="buttons.update",g={},h="calendar.edit_calendar_event_full",g.scope=h,k=c.t,h=k||a.t,l={},l.hash=g,typeof h===n?e=h.call(a,f,e,l):h===p?e=o.call(a,"t",f,e,l):e=h;if(e||e===0)d+=e;return d+="\n      ",d}c=c||a.helpers;var f="",g,h,i,j,k,l,m=this,n="function",o=c.helperMissing,p=void 0,q=this.escapeExpression;f+='<form id="editCalendarEventFull" class="',k=c.use_section_dates,g=k||b.use_section_dates,h=c["if"],l=m.program(1,r,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='">\n  <input type="text"\n         class="title input-block-level"\n         aria-label="',g="Event Title",h="event_title",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n         placeholder="',g="Event Title",h="event_title",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n         value="',k=c.title,g=k||b.title,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"title",{hash:{}})),f+=q(g)+'"\n         maxlength="255" />\n\n  <textarea class="input-block-level"\n            name="description"\n            aria-label="',g="Event Description",h="event_description",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n            style="width: 100%">',k=c.description,g=k||b.description,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"description",{hash:{}})),f+=q(g)+"</textarea>\n\n  ",k=c.course_sections,g=k||b.course_sections,h=c["if"],l=m.program(3,s,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='\n\n  <div class="hide_if_using_sections date_start_end_row">\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <input type="text"\n                   name="start_date"\n                   class="date_field"\n                   value="',g="medium",k=c.start_at,h=k||b.start_at,k=c.tDateToString,i=k||b.tDateToString,typeof i===n?g=i.call(b,h,g,{hash:{}}):i===p?g=o.call(b,"tDateToString",h,g,{hash:{}}):g=i,f+=q(g)+'"\n                   aria-label="',g="Date",h="date",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n                   placeholder="',g="Date",h="date",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='" />\n          </td>\n          <td>\n            <input type="text"\n                   name="start_time"\n                   class="time_field"\n                   ',k=c.all_day,g=k||b.all_day,h=c.unless,l=m.program(8,v,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='\n                   aria-label="',g="Start Time",h="start_time",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n                   placeholder="',g="Start Time",h="start_time",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='" />\n          </td>\n          <td><span class="time_separator">-</span></td>\n          <td>\n            <input type="text"\n                   name="end_time"\n                   class="time_field"\n                   ',k=c.all_day,g=k||b.all_day,h=c.unless,l=m.program(10,w,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='\n                   aria-label="',g="End Time",h="end_time",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='"\n                   placeholder="',g="End Time",h="end_time",i={},j="calendar.edit_calendar_event_full",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  ',k=c.course_sections,g=k||b.course_sections,h=c["if"],l=m.program(12,x,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='\n\n  <div class="form-actions">\n    ',k=c.url,g=k||b.url,h=c["if"],l=m.program(18,B,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+="\n    ",k=c.return_to_url,g=k||b.return_to_url,h=c["if"],l=m.program(20,C,e),l.hash={},l.fn=l,l.inverse=m.noop,g=h.call(b,g,l);if(g||g===0)f+=g;f+='\n    <button type="submit" class="btn btn-primary">\n      ',k=c.newRecord,g=k||b.newRecord,h=c["if"],l=m.program(22,D,e),l.hash={},l.fn=l,l.inverse=m.program(24,E,e),g=h.call(b,g,l);if(g||g===0)f+=g;return f+="\n    </button>\n  </div>\n\n</form>\n",f}),c["calendar/editCalendarEventFull"]}),define("jst/calendar/missingDueDateDialog",["compiled/handlebars_helpers","i18n!calendar.missing_due_date_dialog"],function(a){var b=a.template,c=a.templates=a.templates||{};return c["calendar/missingDueDateDialog"]=b(function(a,b,c,d,e){function s(a,b){var c="",d;return c+="<b>",d=a,typeof d===n?d=d.call(a,{hash:{}}):d===p&&(d=o.call(a,"this",{hash:{}})),c+=q(d)+"</b>",c}c=c||a.helpers;var f="",g,h,i,j,k,l,m=this,n="function",o=c.helperMissing,p=void 0,q=this.escapeExpression,r=c.blockHelperMissing;f+="<div>\n  <p>\n    ",k=c.sections,g=k||b.sections,k=c.toSentence,h=k||b.toSentence,l=m.program(1,s,e),l.hash={},l.fn=l,l.inverse=m.noop,k&&typeof h===n?g=h.call(b,g,l):g=r.call(b,h,g,l);if(g||g===0)f+=g;f+="\n    ",k=c.description,g=k||b.description,typeof g===n?g=g.call(b,{hash:{}}):g===p&&(g=o.call(b,"description",{hash:{}})),f+=q(g)+"\n  <p>\n  ",g="Do you want to go back and select a due date?",h="modal.chooseDueDate",i={},j="calendar.missing_due_date_dialog",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='\n  </p>\n\n  <div class="button-container form-actions">\n    <button type="button" class="btn">',g="No Due Date",h="buttons.noDueDate",i={},j="calendar.missing_due_date_dialog",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;f+='</button>\n    <button type="button" class="btn btn-primary">',g="Go Back",h="buttons.goBack",i={},j="calendar.missing_due_date_dialog",i.scope=j,k=c.t,j=k||b.t,l={},l.hash=i,typeof j===n?g=j.call(b,h,g,l):j===p?g=o.call(b,"t",h,g,l):g=j;if(g||g===0)f+=g;return f+="</button>\n  </div>\n</div>\n",f}),c["calendar/missingDueDateDialog"]}),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define("compiled/views/calendar/MissingDateDialogView",["jquery","underscore","Backbone","i18n!calendar.edit","jst/calendar/missingDueDateDialog","jqueryui/dialog","compiled/jquery/fixDialogButtons"],function(b,d,e,f,g){var h,i,j;return i=e.View,h=function(e){function h(){return this.cancel=a(this.cancel,this),this.onAction=a(this.onAction,this),j=h.__super__.constructor.apply(this,arguments),j}return c(h,e),h.prototype.dialogTitle='<span>\n  <i class="icon-warning"></i>\n  '+f.t("titles.warning","Warning")+"\n</span>",h.prototype.initialize=function(a){return this.validationFn=a.validationFn,this.labelFn=a.labelFn||this.defaultLabelFn,this.success=a.success},h.prototype.defaultLabelFn=function(a){return b("label[for="+b(a).attr("id")+"]").text()},h.prototype.render=function(){return this.invalidFields=this.validationFn(),this.invalidFields===!0?!1:(this.invalidSectionNames=d.map(this.invalidFields,this.labelFn),this.showDialog(),this)},h.prototype.getInvalidFields=function(){var a,c;return a=d.select(this.$dateFields,function(a){return b(a).val()===""}),c=d.map(a,this.labelFn),c.length>0?[a,c]:!1},h.prototype.showDialog=function(){var a,c;return a=f.t("missingDueDate",{one:"%{sections} does not have a due date assigned.",other:"%{sections} do not have a due date assigned."},{sections:"",count:this.invalidSectionNames.length}),c=g({description:a,sections:this.invalidSectionNames}),this.$dialog=b(c).dialog({dialogClass:"dialog-warning",draggable:!1,modal:!0,resizable:!1,title:b(this.dialogTitle)}).fixDialogButtons().on("click",".btn",this.onAction),this.$dialog.parents(".ui-dialog:first").focus()},h.prototype.onAction=function(a){return b(a.currentTarget).hasClass("btn-primary")?this.cancel(this.invalidFields,this.sectionNames):this.success(this.$dialog)},h.prototype.cancel=function(a){return this.$dialog.dialog("close").remove(),this.invalidFields[0].focus()},h}(i)})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define("compiled/calendar/EditEventView",["jquery","underscore","i18n!calendar.edit","Backbone","jst/calendar/editCalendarEventFull","compiled/views/calendar/MissingDateDialogView","wikiSidebar","compiled/object/unflatten","tinymce.editor_box","compiled/tinymce"],function(b,d,e,f,g,h,i,j){var k,l;return k=function(f){function k(){return this.toggleUseSectionDates=a(this.toggleUseSectionDates,this),this.toggleUsingSectionClass=a(this.toggleUsingSectionClass,this),this.destroyModel=a(this.destroyModel,this),this.render=a(this.render,this),l=k.__super__.constructor.apply(this,arguments),l}return c(k,f),k.prototype.el=b("#content"),k.prototype.template=g,k.prototype.events={"submit form":"submit",'change [name="use_section_dates"]':"toggleUseSectionDates","click .delete_link":"destroyModel","click .switch_event_description_view":"toggleHtmlView"},k.prototype.initialize=function(){var a=this;return this.model.fetch().done(function(){var b,c;return ENV.NEW_CALENDAR_EVENT_ATTRIBUTES&&(b=a.model.parse(ENV.NEW_CALENDAR_EVENT_ATTRIBUTES),b.all_day=((c=b.start_at)!=null?!!c.equals(b.end_at):!!void 0)&&b.start_at.equals(b.start_at.clearTime()),a.model.set(b)),a.render()}),this.model.on("change:use_section_dates",this.toggleUsingSectionClass)},k.prototype.render=function(){var a;return this.$el.html(this.template(this.model.toJSON("forView"))),this.$(".date_field").date_field(),this.$(".time_field").time_field(),a=this.$("textarea").editorBox(),i.inited||i.init(),i.attachToEditor(a).show(),this},k.prototype.destroyModel=function(){var a,b=this;a=e.t("confirm_delete_calendar_event","Are you sure you want to delete this calendar event?");if(confirm(a))return this.$el.disableWhileLoading(this.model.destroy({success:function(){return b.redirectWithMessage(e.t("event_deleted","%{event_title} deleted successfully",{event_title:b.model.get("title")}))}}))},k.prototype.toggleUsingSectionClass=function(){return this.$("#editCalendarEventFull").toggleClass("use_section_dates",this.model.get("use_section_dates")),b(".show_if_using_sections input").prop("disabled",!this.model.get("use_section_dates"))},k.prototype.toggleUseSectionDates=function(a){return this.model.set("use_section_dates",!this.model.get("use_section_dates")),this.updateRemoveChildEvents(a)},k.prototype.toggleHtmlView=function(a){return a!=null&&a.preventDefault(),b("textarea[name=description]").editorBox("toggle")},k.prototype.updateRemoveChildEvents=function(a){var c;return c=b(a.target).prop("checked")?"":"1",b("input[name=remove_child_events]").val(c)},k.prototype.redirectWithMessage=function(a){b.flashMessage(a);if(this.model.get("return_to_url"))return window.location=this.model.get("return_to_url")},k.prototype.submit=function(a){var c,f,g=this;a!=null&&a.preventDefault(),f=j(this.$el.getFormData()),f.use_section_dates=!!f.use_section_dates,d.each([f].concat(f.child_event_data),this.setStartEnd),f.remove_child_events==="1"&&delete f.child_event_data;if(b("[name=use_section_dates]").prop("checked")){c=new h({validationFn:function(){var a;return a=b("[name*=start_date]:visible").filter(function(){return b(this).val()===""}),a.length>0?a:!0},labelFn:function(a){return b(a).parents("tr").prev().find("label").text()},success:function(a){return a.dialog("close"),g.$el.disableWhileLoading(g.model.save(f,{success:function(){return g.redirectWithMessage(e.t("event_saved","Event Saved Successfully"))}})),a.remove()}});if(c.render())return}return this.saveEvent(f)},k.prototype.saveEvent=function(a){var b=this;return this.$el.disableWhileLoading(this.model.save(a,{success:function(){return b.redirectWithMessage(e.t("event_saved","Event Saved Successfully"))}}))},k.prototype.setStartEnd=function(a){if(!a)return;return a.start_at=b.unfudgeDateForProfileTimezone(Date.parse(a.start_date+" "+a.start_time)),a.end_at=b.unfudgeDateForProfileTimezone(Date.parse(a.start_date+" "+a.end_time))},k.type="event",k.title=function(){return k.__super__.constructor.title.call(this,"event","Event")},k}(f.View)})}.call(this),function(){require(["jquery","compiled/calendar/CalendarEvent","compiled/calendar/EditEventView"],function(a,b,c){return a(function(){var a;return a=new b(ENV.CALENDAR_EVENT),new c({model:a})})})}.call(this),define("compiled/bundles/edit_calendar_event",function(){})