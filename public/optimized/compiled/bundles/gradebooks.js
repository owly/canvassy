define("translations/gradebook",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{gradebook:{alerts:{no_active_students:"عذرًا، لا يوجد طلاب نشطون في المساق أو لا يوجد شخص قابل للتقييم من قِبلك.",no_students_in_section:"تعذر العثور على أي طالب في هذا القسم، يتم التراجع وإظهار كل الأقسام.",none_to_update:"لا يوجد شيء لتحديثه",scores_updated:{one:"تم تحديث نتيجة طالب واحد",other:"تم تحديث نتيجة %{count} من الطلاب"},students_updated:{one:"تم تحديث طالب واحد",other:"تم تحديث %{count} من الطلاب"}},assignment_details:"تفاصيل المهمة",buttons:{change_section:"تغيير قسم",saving_settings:"جارٍ حفظ الإعدادات...",submit_comment:"إرسال تعليق",submitting:"جارٍ الإرسال...",upload_data:"تحميل البيانات"},cancel_button:"إلغاء",click_to_change:"انقر لاختبار درجة مختلفة",click_to_expand:"انقر للتوسيع",computing_grades:"جارٍ حساب الدرجات...",confirms:{delete_comment:"هل ترغب بالتأكيد في حذف هذا التعليق؟",unsaved_changes:"قام الطلاب التالون بإلغاء حفظ التغييرات على إرسالات الاختبار الخاص بهم: \n\n %{users}\nContinue anyway?"},curve_grade_for_course:"منحنى الدرجات الخاص بـ %{assignment}",curve_grades:"منحنى الدرجات",default_grade_for_course:"الدرجة الافتراضية الخاصة بـ %{assignment}",download_scores:"تنزيل الدرجات (%{format})",download_submissions:"تنزيل الإرسالات",edit_view_rubric:"عرض العنوان",errors:{failed_to_load:"فشل تحميل دفتر الدرجات، الرجاء محاولة تحديث الصفحة",none_to_update:"لا يوجد شيء لتحديثه",select_an_option:"الرجاء تحديد خيار",upload_as_zip:"الرجاء تحميل الملفات كملف zip. مضغوط"},grade:"درجة: %{grade}",graded_by_me:"%{graded_time} بواسطتي",graded_then_resubmitted:"تم تقييم الدرجات، ثم تمت إعادة الإرسال (%{when})",hide_all_things:"إخفاء الكل %{things}",hide_column:"إخفاء الأعمدة",hide_student_name:"إخفاء أسماء الطلاب",ignore_ungraded:"تجاهل المهام التي لم يتم تقييم درجاتها",include_ungraded:"تضمين المهام التي لم يتم تقييم درجاتها",labels:{details:"التفاصيل"},links:{download_attachment:"تنزيل %{attachment}",finish_scoring:"إنهاء حساب درجات هذا الاختبار",go_to_submission:"الانتقال إلى عنوان URL للإرسال",submission_details:"تفاصيل الإرسال",view_quiz:"عرض هذا الاختبار",view_submission:"عرض الإرسال"},loud_late:"متأخر",message_students_who:"رسائل الطلاب الذين...",mute_assignment:"إخفاء المهمة",new_assessment:"[المهمة الجديدة]",no_submission_time:"لا يوجد وقت للإرسال",nth_student:"طالب %{n}",publish_to_sis:"نشر الدرجات على SIS",reupload_submission_files:"إعادة تحميل ملفات الإرسال",reupload_submissions:"إعادة تحميل الإرسالات",set_default_grade:"ضبط الدرجة الافتراضية",set_group_weights:"ضبط تقييمات المجموعة",show_student_name:"إظهار أسماء الطلاب",showing_all_sections:"إظهار كل الأقسام",showing_section:"إظهار قسم: %{section}",sort_columns_by:"فرز الأعمدة حسب...",sort_rows_by:"فرز الصفوف حسب...",speed_grader:"SpeedGrader",student:"الطالب",student_mute_notification:"يعمل المعلم في الدرجات",student_name:"اسم الطالب",students_who:{havent_been_graded:"لم يتم تصحيحها",havent_submitted_yet:"لم يتم الإرسال بعد",not_submitted_yet:"لم يتم الإرسال بعد",scored_less_than:"تم إحراز نقاط أقل من",scored_more_than:"تم إحراز نقاط أكثر من"},submission_information:"معلومات الإرسال",teacher_muted_title:"تم حجب المهمة",titles:{assignment_groups:"مجموعات المهام",click_to_record:"انقر فوق الميكروفون لتسجيل التعليقات",dropped_assignment_no_total:"لن يتم اعتبار هذه المهمة ضمن الحساب الإجمالي",hypothetical_score:"هذا مجموع نقاط ماذا لو",loading:"جارٍ التحميل...",turnitin_score:"رصد التشابه حسب Turnitin - مزيد من المعلومات"},tooltips:{submission_dropped:"يتم إسقاط هذا الإرسال لأغراض التقييم",submitted_late:"تم إرسال هذا الإرسال متأخرًا"},turnitin:{error_message:"حدث خطأ أثناء الإرسال إلى turnitin. الرجاء محاولة إعادة إرسال الملف قبل الاتصال بالدعم",info_message:"لا يزال هذا الملف تجري معالجته بواسطة Turnitin. الرجاء معاودة الفحص لاحقًا لترى النتيجة",resubmitting:"تجري إعادة الإرسال...",tooltip:{error:"رصد التشابه حسب Turnitin - انظر تفاصيل خطأ الإرسال",pending:"رصد التشابه حسب Turnitin - الإرسال معلق",score:"رصد التشابه حسب Turnitin - انظر التقرير المفصل"}},unmute_assignment:"إلغاء حجب المهمة",unmute_button:"إلغاء حجب المهمة",upload_scores:"تحميل الدرجات (من %{format})",view_grading_history:"عرض محفوظات التقييم"},not_applicable:"لا يوجد"},es:{gradebook:{alerts:{no_active_students:"Perdón, no hay estudiantes activos en este curso o no pueden ser calificados por usted.",no_students_in_section:"No se pudieron encontrar estudiantes en esa sección, regresando para mostrar todas las secciones.",none_to_update:"Nada que Actualizar",scores_updated:{one:"1 calificación de estudiante actualizada",other:"%{count} calificaciones de estudiantes actualizados"},students_updated:{one:"1 Estudiante Actualizado",other:"%{count} estudiantes actualizados"}},assignment_details:"Detalles de la Tarea",buttons:{change_section:"Cambiar Sección",saving_settings:"Guardar Configuraciones...",submit_comment:"Enviar Comentario",submitting:"Enviando...",upload_data:"Cargar Información"},cancel_button:"Cancelar",click_to_change:"Haga click para probar una calificación diferente",click_to_expand:"Haga click para expandir",computing_grades:"Computando Calificaciones...",confirms:{delete_comment:"¿Seguro que quiere borrar este comentario?",unsaved_changes:"Los siguientes estudiantes tienen cambios no guardados en los envíos de sus evaluaciones: \n%{users}\n¿Continuar?"},curve_grade_for_course:"Aplicar Curva a %{assignment}",curve_grades:"Aplicar Curva a los Grados",default_grade_for_course:"Calificación Predeterminada para %{assignment}",download_scores:"Descargar Calificaciones (%{format})",download_submissions:"Descargar los Envíos",edit_view_rubric:"Ver Rúbrica",errors:{failed_to_load:"El libro de calificaciones no se pudo cargar, intente recargar la página",none_to_update:"Nada que Actualizar",select_an_option:"Por favor seleccione una opción",upload_as_zip:"Por favor cargue los archivos como un .zip"},grade:"grado: %{grade}",graded_by_me:"%{graded_time} por mí",graded_then_resubmitted:"calificado, luego reenviado (%{when})",hide_all_things:"Esconder %{things}",hide_column:"Esconder Columna",hide_student_name:"Esconder los Nombres de los Estudiantes",ignore_ungraded:"Ignorar Tareas No Calificadas",include_ungraded:"Incluír Tareas Actualizadas",labels:{details:"Detalles"},links:{download_attachment:"Descargando %{attachment}",finish_scoring:"Terminar la Calificación de esta Evaluación",go_to_submission:"Ir al URL de Envío",submission_details:"Detalles de Envío",view_quiz:"Ver esta Evaluación",view_submission:"Ver Envío"},loud_late:"TARDE",message_students_who:"Enviar Mensaje a Estudiante Que...",mute_assignment:"Obviar Tarea",new_assessment:"[Tarea Nueva]",no_submission_time:"ningun tiempo de envío",nth_student:"Estudiante %{n}",publish_to_sis:"Publicar calificaciones a SIS",reupload_submission_files:"Recargar los Archivos de Envío",reupload_submissions:"Recargar los Envíos",set_default_grade:"Establecer Calificación Predeterminada",set_group_weights:"Establecer Peso por Grupo",show_student_name:"Mostrar los Nombres de Estudiantes",showing_all_sections:"Mostrando Todas las Secciones",showing_section:"Mostrando la Sección: %{section}",sort_columns_by:"Ordenar Columnas Por...",sort_rows_by:"Ordenar Filas Por...",speed_grader:"Calificador Rápido",student:"Estudiante",student_mute_notification:"El instructor está trabajando en las calificaciones",student_name:"Nombre del Estudiante",students_who:{havent_been_graded:"No ha sido calificado",havent_submitted_yet:"Aún no ha enviado",not_submitted_yet:"No ha sido enviado",scored_less_than:"Obtuvo menos de",scored_more_than:"Obtuvo más de"},submission_information:"Información del Envío",teacher_muted_title:"Tarea ha sido obviada",titles:{assignment_groups:"Grupos de Trabajo",click_to_record:"Haga click en el micrófono para grabar sus comentarios",dropped_assignment_no_total:"Esta tarea no será considerada en el cálculo total",hypothetical_score:'Esta es una calificación "que pasa si"',loading:"Cargando...",turnitin_score:"Calificación de Similaridad de Turnitin -- más información"},tooltips:{submission_dropped:"Este envío se eliminó para la calificación",submitted_late:"Este envío se envió tarde"},turnitin:{error_message:"Ocurrió un error al enviar a turnitin. Intente enviar el archivo de nuevo antes de contactar a el servicio de asistencia técnica",info_message:"Este archivo todavía está siendo procesado por turnitin. Vuelva más tarde para comprobar la calificación.",resubmitting:"Renviando...",tooltip:{error:"Calificación de similitud en Turnitin - Ver detalles de envío",pending:"Calificación de similitud en Turnitin - Envío pendiente",score:"Calificación de similitud en Turnitin - Ver informe detallado"}},unmute_assignment:"Activar Tarea",unmute_button:"Activar la Tarea",upload_scores:"Cargar Calificaciones (desde %{format})",view_grading_history:"Ver el Historial de Calificación"},not_applicable:"N/A"},fr:{gradebook:{alerts:{no_active_students:"Il n’y a aucun étudiant actif dans ce cours ou aucun d’entre eux ne peut être noté par vous.",no_students_in_section:"Impossible de trouver des étudiants dans cette section ; retour à l’affichage de toutes les sections.",none_to_update:"Aucune mise à jour nécessaire",scores_updated:{one:"1 note d’étudiant mise à jour",other:"%{count} notes d’étudiant mises à jour"},students_updated:{one:"1 étudiant mis à jour",other:"%{count} étudiants mis à jour"}},assignment_details:"Informations sur la tâche",buttons:{change_section:"Modifier la section",saving_settings:"Enregistrement des paramètres...",submit_comment:"Envoyer un commentaire",submitting:"Envoi en cours…",upload_data:"Télécharger les données"},cancel_button:"Annuler",click_to_change:"Cliquer pour tester une note différente",click_to_expand:"Cliquer pour développer",computing_grades:"Calcul des notes...",confirms:{delete_comment:"Voulez-vous vraiment supprimer ce commentaire ?",unsaved_changes:"Les étudiants suivants ont des modifications non enregistrées pour leurs envois de questionnaire : \n\n %{users}\nContinue anyway?"},curve_grade_for_course:"Courbe des notes pour %{assignment}",curve_grades:"Courbe des notes",default_grade_for_course:"Note par défaut pour %{assignment}",download_scores:"Télécharger les notes (%{format})",download_submissions:"Télécharger les tâches",edit_view_rubric:"Afficher un barème",errors:{failed_to_load:"Échec du téléchargement du relevé de notes. Essayez d’actualiser la page.",none_to_update:"Aucune mise à jour nécessaire",select_an_option:"Sélectionnez une option",upload_as_zip:"Veuillez télécharger les fichiers sous forme de fichier zip."},grade:"note : %{grade}",graded_by_me:"%{graded_time} par moi",graded_then_resubmitted:"noté, puis renvoyé (%{when})",hide_all_things:"Tout masquer %{things}",hide_column:"Masquer une colonne",hide_student_name:"Masquer les noms des étudiants",ignore_ungraded:"Ignorer les tâches non notées",include_ungraded:"Inclure les tâches non notées",labels:{details:"Informations"},links:{download_attachment:"Télécharger %{attachment}",finish_scoring:"Terminer de noter ce questionnaire",go_to_submission:"Atteindre l’URL de l’envoi",submission_details:"Informations de l’envoi",view_quiz:"Afficher ce questionnaire",view_submission:"Afficher l’envoi"},loud_late:"EN RETARD",message_students_who:"Envoyer un message aux étudiants qui...",mute_assignment:"Tâche silencieuse",new_assessment:"[Nouvelle évaluation]",no_submission_time:"aucune heure d’envoi",nth_student:"Étudiant %{n}",publish_to_sis:"Publier les notes sur SIS",reupload_submission_files:"Retélécharger les fichiers d’envoi",reupload_submissions:"Retélécharger les envois",set_default_grade:"Définir la note par défaut",set_group_weights:"Définir les pondérations de groupe",show_student_name:"Afficher les noms des étudiants",showing_all_sections:"Affichage de toutes les sections",showing_section:"Affichage de la section : %{section}",sort_columns_by:"Trier les colonnes par...",sort_rows_by:"Trier les lignes par...",speed_grader:"SpeedGrader™",student:"Étudiant",student_mute_notification:"Le formateur travaille sur les notes",student_name:"Nom de l’étudiant",students_who:{havent_been_graded:"N’a pas été noté",havent_submitted_yet:"Pas encore envoyé",not_submitted_yet:"Pas encore envoyé",scored_less_than:"Note inférieure à",scored_more_than:"Note supérieure à"},submission_information:"Informations de l’envoi",teacher_muted_title:"La tâche est silencieuse",titles:{assignment_groups:"Groupes de tâches",click_to_record:"Cliquez sur le micro pour enregistrer vos commentaires",dropped_assignment_no_total:"Cette tâche ne sera pas prise en compte dans le calcul du total",hypothetical_score:"Ceci est une note hypothétique",loading:"Chargement en cours...",turnitin_score:"Note de similitude Turnitin -- informations complémentaires"},tooltips:{submission_dropped:"Cet envoi est abandonné pour des raisons de notation",submitted_late:"Cet envoi a été envoyé en retard"},turnitin:{error_message:"Erreur lors de l’envoi à turnitin. Essayez de renvoyer le fichier avant de contacter l’assistance technique.",info_message:"Ce fichier est toujours en cours de traitement par turnitin. Réessayez ultérieurement pour connaître la note.",resubmitting:"Renvoi en cours...",tooltip:{error:"Cote de similitude de Turnitin - Voir le détail des erreurs d’envoi",pending:"Cote de similitude de Turnitin - Envoi en attente",score:"Cote de similitude de Turnitin - Voir le rapport détaillé"}},unmute_assignment:"Annuler une tâche silencieuse",unmute_button:"Annuler une tâche silencieuse",upload_scores:"Télécharger les notes (de %{format})",view_grading_history:"Afficher l’historique de notation"},not_applicable:"NA"},ja:{gradebook:{alerts:{no_active_students:"申し訳ありません。このコースには、アクティブな受講生がいないか、採点済みの受講生がいません。",no_students_in_section:"そのセクションには受講生が見つかりませんでした。全セクション表示に戻ります。",none_to_update:"更新するものがありません",scores_updated:{one:"%{count} 人の受講生のスコアを更新しました",other:"%{count} 人の受講生のスコアを更新しました"},students_updated:{one:"%{count} 人の受講生を更新しました",other:"%{count} 人の受講生を更新しました"}},assignment_details:"課題の詳細",buttons:{change_section:"セクションの変更",saving_settings:"設定を変更しています...",submit_comment:"コメントの提出",submitting:"提出しています...",upload_data:"データのアップロード"},cancel_button:"キャンセル",click_to_change:"クリックして、別のスコアをテスト",click_to_expand:"クリックして展開",computing_grades:"成績を計算しています...",confirms:{delete_comment:"このコメントを削除してもよろしいですか?",unsaved_changes:"次の受講生は、クイズへの提出物に対する変更内容が未保存となっています: \n%{users}\n続行しますか?"},curve_grade_for_course:"%{assignment} についての分布曲線評価",curve_grades:"分布曲線に基づいた評価",default_grade_for_course:"%{assignment} の既定の成績",download_scores:"スコアのダウンロード (%{format})",download_submissions:"提出物のダウンロード",edit_view_rubric:"注釈の表示",errors:{failed_to_load:"成績表の読み込みに失敗しました。ページを最新の状態に更新してみてください",none_to_update:"更新するものがありません",select_an_option:"オプションを選択してください",upload_as_zip:"ファイルは .zip 形式でアップロードしてください"},grade:"成績: %{grade}",graded_by_me:"%{graded_time} 私が採点",graded_then_resubmitted:"採点後、(%{when}) に再提出",hide_all_things:"すべての %{things} を非表示",hide_column:"列を非表示",hide_student_name:"受講生の名前を非表示",ignore_ungraded:"未採点の課題を無視",include_ungraded:"未採点の課題を含める",labels:{details:"詳細"},links:{download_attachment:"%{attachment} のダウンロード",finish_scoring:"このクイズの採点を完了",go_to_submission:"提出用 URL に進む",submission_details:"提出物の詳細",view_quiz:"このクイズの表示",view_submission:"提出物の表示"},loud_late:"遅延",message_students_who:"次の状態の受講生にメッセージを送る...",mute_assignment:"課題をミュートにする",new_assessment:"[新しいアセスメント]",no_submission_time:"提出の時間がない",nth_student:"受講生 %{n}",publish_to_sis:"成績表を SIS に公開",reupload_submission_files:"提出ファイルの再アップロード",reupload_submissions:"提出物の再アップロード",set_default_grade:"既定の成績の設定",set_group_weights:"グループの重み付けの設定",show_student_name:"受講生の名前を表示",showing_all_sections:"すべてのセクションを表示しています",showing_section:"次のセクションを表示しています: %{section}",sort_columns_by:"列の並べ替え...",sort_rows_by:"行の並べ替え...",speed_grader:"SpeedGrader",student:"受講生",student_mute_notification:"インストラクタが採点中です",student_name:"受講生名",students_who:{havent_been_graded:"採点されていません",havent_submitted_yet:"まだ提出していない",not_submitted_yet:"まだ提出していない",scored_less_than:"次のスコアに満たない: ",scored_more_than:"次のスコアを上回る: "},submission_information:"提出情報",teacher_muted_title:"課題はミュートになっています",titles:{assignment_groups:"課題グループ",click_to_record:"マイクをクリックしてコメントを記録",dropped_assignment_no_total:"この課題は、合計の計算で考慮されません",hypothetical_score:"これは what-if (仮の事態を想定した) スコアです",loading:"読み込んでいます...",turnitin_score:"Turnitin の類似性スコア -- 詳細情報"},tooltips:{submission_dropped:"この提出物は採点のためドロップされています",submitted_late:"この提出物は提出が遅れました"},turnitin:{error_message:"turnitin への提出の際にエラーが発生しました。サポートに問い合わせる前に、ファイルの再提出を試してください",info_message:"このファイルはまだ turnitin による処理中です。しばらくしてからスコアを確認してください",resubmitting:"再提出しています...",tooltip:{error:"turnitin 類似性スコア - 提出エラーの詳細を参照してください",pending:"turnitin 類似性スコア - 提出保留中",score:"turnitin 類似性スコア - 詳細レポートを参照してください"}},unmute_assignment:"課題のミュート解除",unmute_button:"課題のミュート解除",upload_scores:"スコアのアップロード (%{format} から)",view_grading_history:"採点履歴の表示"},not_applicable:"N/A"},ko:{gradebook:{alerts:{no_active_students:"죄송합니다. 과목에 활동 중인 학생이 없거나 평가할 수 있는 학생이 없습니다.",no_students_in_section:"해당 섹션에 학생이 없어서 모든 섹션 보기로 돌아갑니다.",none_to_update:"업데이트할 내용 없음",scores_updated:{one:"학생 %{count}명의 점수가 업데이트됨",other:"학생 %{count}명의 점수가 업데이트됨"},students_updated:{one:"학생 %{count}명 업데이트됨",other:"학생 %{count}명 업데이트됨"}},assignment_details:"과제 세부 정보",buttons:{change_section:"섹션 바꾸기",saving_settings:"설정 저장 중...",submit_comment:"의견 제출",submitting:"제출 중...",upload_data:"데이터 업로드"},cancel_button:"취소",click_to_change:"다른 점수를 테스트하려면 클릭",click_to_expand:"확장하려면 클릭",computing_grades:"평점 계산 중...",confirms:{delete_comment:"이 의견을 삭제하시겠습니까?",unsaved_changes:"다음 학생의 퀴즈 제출물에 저장되지 않은 변경 내용이 있습니다: \n\n %{users}\n계속 진행하시겠습니까?"},curve_grade_for_course:"%{assignment}에 대한 상대 평가",curve_grades:"상대 평가",default_grade_for_course:"%{assignment}의 기본 평점",download_scores:"점수 다운로드 (%{format})",download_submissions:"제출물 다운로드",edit_view_rubric:"루브릭 보기",errors:{failed_to_load:"평가 기록부를 로드하지 못했습니다. 페이지를 새로 고쳐 보시기 바랍니다.",none_to_update:"업데이트할 내용 없음",select_an_option:"옵션을 선택하시기 바랍니다.",upload_as_zip:"zip 파일로 올려주시기 바랍니다."},grade:"평점: %{grade}",graded_by_me:"%{graded_time}에 내가 평가",graded_then_resubmitted:"평가된 후 다시 제출됨 (%{when})",hide_all_things:"%{things} 모두 숨기기",hide_column:"열 숨기기",hide_student_name:"학생 이름 숨기기",ignore_ungraded:"평가되지 않은 과제를 무시",include_ungraded:"평가되지 않은 과제를 포함",labels:{details:"세부 정보"},links:{download_attachment:"%{attachment} 다운로드",finish_scoring:"이 퀴즈 점수 매기기 마침",go_to_submission:"제출물 URL로 가기",submission_details:"제출물 세부 정보",view_quiz:"이 퀴즈 보기",view_submission:"제출물 보기"},loud_late:"늦음",message_students_who:"다음 학생에게 메시지 보내기",mute_assignment:"과제 평점 비공개",new_assessment:"[새 과제]",no_submission_time:"제출 시간 없음",nth_student:"%{n}번째 학생",publish_to_sis:"SIS에 평점 게시",reupload_submission_files:"제출물 파일 다시 업로드",reupload_submissions:"제출물 다시 업로드",set_default_grade:"기본 평점 설정",set_group_weights:"그룹 가중치 설정",show_student_name:"학생 이름 표시",showing_all_sections:"모든 섹션 표시하기",showing_section:"다음 섹션 표시하기: %{section}",sort_columns_by:"열 정렬 기준...",sort_rows_by:"행 정렬 기준...",speed_grader:"SpeedGrader",student:"학생",student_mute_notification:"교사가 평가 작업 중",student_name:"학생 이름",students_who:{havent_been_graded:"평가되지 않음",havent_submitted_yet:"제출되지 않음",not_submitted_yet:"제출되지 않음",scored_less_than:"다음 이하 점수",scored_more_than:"다음 이상 점수"},submission_information:"제출물 정보",teacher_muted_title:"과제 평가 비공개 처리됨",titles:{assignment_groups:"과제 그룹",click_to_record:"의견을 녹음하려면 마이크를 클릭",dropped_assignment_no_total:"이 과제는 합계 계산에 고려하지 않음",hypothetical_score:"이는 What-If 점수임",loading:"로드 중...",turnitin_score:"Turnitin 유사성 점수 -- 자세한 정보"},tooltips:{submission_dropped:"이 제출물은 평가 목적에서 탈락함",submitted_late:"이 제출물은 늦게 제출됨"},turnitin:{error_message:"Turnitin에 제출하는 중에 오류가 발생했습니다. 지원팀에 문의하기 전에 다시 제출해 보시기 바랍니다.",info_message:"이 파일은 아직 Turnitin에서 처리 중입니다. 점수를 보려면 나중에 다시 확인하시기 바랍니다.",resubmitting:"다시 제출 중...",tooltip:{error:"Turnitin 유사성 점수 - 제출물 오류 세부 정보 보기",pending:"Turnitin 유사성 점수 - 제출물 대기",score:"Turnitin 유사성 점수 - 자세한 보고서 보기"}},unmute_assignment:"과제 평점 공개",unmute_button:"과제 평점 공개",upload_scores:"점수 업로드 (%{format})",view_grading_history:"평가 기록 보기"},not_applicable:"해당 사항 없음"},nl:{gradebook:{alerts:{no_active_students:"Op dit moment kan er geen leerling beoordeeld worden. Wellicht zijn er geen leerlingen actief of is er geen leerling aan je toegewezen.",no_students_in_section:"Kon geen leerlingen vinden in deze sectie. Een weergave van alle secties wordt getoond.",none_to_update:"Niets te wijzigen",scores_updated:{one:"1 score gewijzigd",other:"%{count} scores gewijzigd"},students_updated:{one:"1 leerling gewijzigd",other:"%{count} leerlingen gewijzigd"}},assignment_details:"Opdrachtdetails",buttons:{change_section:"Wijzig sectie",saving_settings:"Instellingen worden opgeslagen...",submit_comment:"Verstuur reactie",submitting:"Versturen...",upload_data:"Upload gegevens"},cancel_button:"Annuleren",click_to_change:"Klik om een andere score te testen",click_to_expand:"Klik om uit te vouwen",computing_grades:"Cijfers worden berekend...",confirms:{delete_comment:"Weet je zeker dat je deze reactie wil verwijderen?",unsaved_changes:"De volgende leerlingen hebben niet-opgeslagen veranderingen in hun inzendingen:\n\n%{users}\nToch doorgaan?"},curve_grade_for_course:"Cijfer aanpassen voor %{assignment}",curve_grades:"Pas norm aan",default_grade_for_course:"Standaard cijfer voor %{assignment}",download_scores:"Download scores (%{format})",download_submissions:"Download inzendingen",edit_view_rubric:"Bekijk criteria",errors:{failed_to_load:"Kon cijfers niet laden, probeer de pagina opnieuw te laden",none_to_update:"Niets om te wijzigen",select_an_option:"Selecteer een optie",upload_as_zip:"Upload bestanden als een .zip bestaand"},grade:"cijfer: %{grade}",graded_by_me:"%{graded_time} door mezelf",graded_then_resubmitted:"beoordeeld, daarna opnieuw ingeleverd (%{when})",hide_all_things:"Verberg alles %{things}",hide_column:"Verberg kolom",hide_student_name:"Verberg leerlingnamen",ignore_ungraded:"Negeer niet-beoordeelde opdrachten",include_ungraded:"Inclusief niet-beoordeelde opdrachten",labels:{details:"Details"},links:{download_attachment:"Download %{attachment}",finish_scoring:"Beoordeling van deze test afsluiten",go_to_submission:"Ga naar de link om in te leveren",submission_details:"Inzending details",view_quiz:"Bekijk deze test",view_submission:"Bekijk inzending"},loud_late:"TE LAAT",message_students_who:"Verstuur een bericht naar leerlingen die...",mute_assignment:"Verberg opdracht",new_assessment:"[Nieuwe opdracht]",no_submission_time:"geen inlevertijd",nth_student:"Leerling %{n}",publish_to_sis:"Publiceer cijfers naar administratiesysteem",reupload_submission_files:"Ingestuurde bestanden opnieuw uploaden",reupload_submissions:"Opnieuw inleveren",set_default_grade:"Standaardcijfer instelle",set_group_weights:"Groepsgewichten instellen",show_student_name:"Toon leerlingnamen",showing_all_sections:"Alle secties worden getoond",showing_section:"Sectie: %{section}",sort_columns_by:"Sorteer kolommen op...",sort_rows_by:"Sorteer rijen op...",speed_grader:"Snel beoordelen",student:"Leerling",student_mute_notification:"Docent is bezig met nakijken",student_name:"Leerling",students_who:{havent_been_graded:"Is nog niet beoordeeld",havent_submitted_yet:"Nog niet ingeleverd",not_submitted_yet:"Nog niet ingeleverd",scored_less_than:"Heeft minder gehaald dan",scored_more_than:"Heeft meer gehaald dan"},submission_information:"Informatie bij inzending",teacher_muted_title:"Opdracht is onzichtbaar",titles:{assignment_groups:"Opdrachtgroepen",click_to_record:"Klik op de microfoon om opmerkingen op te nemen",dropped_assignment_no_total:"Deze opdracht telt niet mee voor het totale cijfer",hypothetical_score:"Dit is een wat-als score",loading:"Laden...",turnitin_score:"Turnitin gelijkheidsscore -- meer informatie"},tooltips:{submission_dropped:"Deze inzending wordt niet beoordeeld",submitted_late:"Deze inzending is te laat ingezonden"},turnitin:{error_message:"Er is een fout opgetreden tijdens het inzenden. Probeer het bestand opnieuw in te leveren.",info_message:"Het bestand wordt nog steeds verwerkt. Kom later terug om het cijfer te bekijken.",resubmitting:"Opnieuw inleveren...",tooltip:{error:"Turnitin gelijkheidsscore - Bekijk de gedetailleerde foutmelding",pending:"Turnitin gelijkheidscore - Wordt gecontroleerd",score:"Turnitin gelijkheidsscore - Bekijk gedetailleerd rapport"}},unmute_assignment:"Opheffen verbergen opdracht",unmute_button:"Opheffen verbergen opdracht",upload_scores:"Upload cijfers (van %{format})",view_grading_history:"Bekijk cijfergeschiedenis"},not_applicable:"Niet beschikbaar"},pt:{gradebook:{alerts:{no_active_students:"Não há alunos ativos na disciplina ou nenhum deles pode ser avaliado por si.",no_students_in_section:"Não foi possível encontrar alunos nesta seção, retornando para a exibição de todas as seções.",none_to_update:"Nada a atualizar",scores_updated:{one:"1 pontuação de aluno atualizada",other:"%{count} pontuações de aluno atualizadas"},students_updated:{one:"1 aluno atualizado",other:"%{count} alunos atualizados"}},assignment_details:"Detalhes da tarefa",buttons:{change_section:"Alterar seção",saving_settings:"A guardar as definições...",submit_comment:"Enviar comentário",submitting:"Enviando...",upload_data:"Atualizar dados"},cancel_button:"Cancelar",click_to_change:"Clique para testar uma pontuação diferente",click_to_expand:"Clique para expandir",computing_grades:"Calculando as notas...",confirms:{delete_comment:"Tem certeza de que deseja excluir este comentário?",unsaved_changes:"Os seguintes alunos têm alterações não guardadas nos testes enviados: \n\n %{users}\nContinuar à mesma?"},curve_grade_for_course:"Relativizar as notas de acordo com a curva para %{assignment}",curve_grades:"Relativizar as notas de acordo com a curva",default_grade_for_course:"Nota padrão para %{assignment}",download_scores:"Baixar pontuação (%{format})",download_submissions:"Baixar envios",edit_view_rubric:"Exibir protocolo",errors:{failed_to_load:"Falha ao carregar o livro de notas, tente atualizar a página",none_to_update:"Nada a atualizar",select_an_option:"Selecione uma opção",upload_as_zip:"Faça upload dos arquivos como um .zip"},grade:"nota: %{grade}",graded_by_me:"%{graded_time} por mim",graded_then_resubmitted:"avaliado, depois reenviado (%{when})",hide_all_things:"Ocultar tudo %{things}",hide_column:"Ocultar coluna",hide_student_name:"Ocultar nomes dos alunos",ignore_ungraded:"Ignorar tarefas sem nota",include_ungraded:"Incluir tarefas sem nota",labels:{details:"Detalhes"},links:{download_attachment:"Download %{attachment}",finish_scoring:"Concluir a pontuação deste teste",go_to_submission:"Ir para o URL de envio",submission_details:"Detalhes do envio",view_quiz:"Exibir este teste",view_submission:"Exibir o envio"},loud_late:"ATRASADA",message_students_who:"Enviar mensagem aos alunos que...",mute_assignment:"Silenciar tarefa",new_assessment:"[Nova avaliação]",no_submission_time:"Sem hora de envio",nth_student:"Aluno %{n}",publish_to_sis:"Publicar notas no SIS",reupload_submission_files:"Fazer novamente o upload dos arquivos do envio",reupload_submissions:"Fazer novamente o upload dos envios",set_default_grade:"Definir nota padrão",set_group_weights:"Definir ponderação de grupo",show_student_name:"Exibir nomes de alunos",showing_all_sections:"Exibir todas as seções",showing_section:"Exibindo a seção: %{section}",sort_columns_by:"Ordenar colunas por:",sort_rows_by:"Ordenar linhas por:",speed_grader:"SpeedGrader",student:"Aluno",student_mute_notification:"O instrutor está trabalhando na avaliação",student_name:"Nome do aluno",students_who:{havent_been_graded:"Não foram avaliados",havent_submitted_yet:"Ainda não enviou",not_submitted_yet:"Ainda não enviou",scored_less_than:"Pontuou menos que",scored_more_than:"Pontuou mais que"},submission_information:"Informações de envio",teacher_muted_title:"A tarefa está silenciada",titles:{assignment_groups:"Grupos de tarefa",click_to_record:"Clique no microfone para gravar seus comentários",dropped_assignment_no_total:"Esta tarefa não será considerada no cálculo total",hypothetical_score:'Esta é uma pontuação "e se"',loading:"Carregando...",turnitin_score:"Pontos de similaridade do Turnitin -- mais informações"},tooltips:{submission_dropped:"Este envio está sendo ignorado para propósito de avaliação",submitted_late:"Este envio foi atrasado"},turnitin:{error_message:"Ocorreu um erro durante o envio para Turnitin. Tente reenviar o ficheiro antes de contactar o suporte. ",info_message:"Este ficheiro ainda está a ser processado pelo Turnitin. Verifique novamente mais tarde para ver a pontuação.",resubmitting:"A reenviar...",tooltip:{error:"Pontuação de semelhança do Turnitin - Ver detalhes do erro de envio",pending:"Pontuação de semelhança do Turnitin - Envio pendente",score:"Pontuação de semelhança do Turnitin - Ver relatório detalhado"}},unmute_assignment:"Dessilenciar tarefa",unmute_button:"Dessilenciar tarefa",upload_scores:"Atualizar pontuações (de %{format})",view_grading_history:"Exibir histórico de avaliação"},not_applicable:"ND"},ru:{gradebook:{alerts:{no_active_students:"В курсе нет активных студентов, или нет студентов для оценки.",no_students_in_section:"Невозможно найти студентов в этом разделе, возврат к отображению всех разделов.",none_to_update:"Нет объектов для обновления",scores_updated:{one:"Оценка 1 студента обновлена",other:"Оценка %{count} студентов обновлена"},students_updated:{one:"1 студент обновлен",other:"%{count} студентов обновлено"}},assignment_details:"Сведения о задании",buttons:{change_section:"Изменить раздел",saving_settings:"Сохранение настроек...",submit_comment:"Отправить комментарий",submitting:"Идет отправка...",upload_data:"Загрузка данных"},cancel_button:"Отменить",click_to_change:"Щелкните для проверки другой оценки",click_to_expand:"Щелкните, чтобы развернуть",computing_grades:"Вычисление оценок...",confirms:{delete_comment:"Удалить данный комментарий?",unsaved_changes:"Следующие студенты имеют несохраненные изменения в отправленных контрольных работах: \n\n %{users}\nВсе равно продолжить?"},curve_grade_for_course:"Кривая оценок для %{assignment}",curve_grades:"Создание кривой оценок",default_grade_for_course:"Оценка по умолчанию для %{assignment}",download_scores:"Загрузить оценки (%{format})",download_submissions:"Загрузить отправки",edit_view_rubric:"Просмотр рубрики",errors:{failed_to_load:"Ошибка загрузки табеля успеваемости, попробуйте обновить страницу",none_to_update:"Нет объектов для обновления",select_an_option:"Выберите опцию",upload_as_zip:"Загрузите файлы как ZIP-файл"},grade:"оценка: %{grade}",graded_by_me:"%{graded_time} мной",graded_then_resubmitted:"оценено, затем отправлено повторно (%{when})",hide_all_things:"Скрыть все %{things}",hide_column:"Скрыть столбец",hide_student_name:"Скрыть имена студентов",ignore_ungraded:"Игнорировать задания без оценок",include_ungraded:"Включить задания без оценки",labels:{details:"Сведения"},links:{download_attachment:"Загрузить %{attachment}",finish_scoring:"Завершить оценку этой контрольной работы",go_to_submission:"Перейти к URL-адресу отправки",submission_details:"Сведения об отправке",view_quiz:"Просмотреть эту контрольную работу",view_submission:"Просмотреть отправку"},loud_late:"ПОЗДНО",message_students_who:"Отправить сообщения студентов, которые...",mute_assignment:"Отключить звук задания",new_assessment:"[Новая проверка знаний]",no_submission_time:"нет времени передачи",nth_student:"Студент %{n}",publish_to_sis:"Публикация оценок в SIS",reupload_submission_files:"Повторно загрузить файлы отправки",reupload_submissions:"Повторно загрузить отправки",set_default_grade:"Установить оценку по умолчанию",set_group_weights:"Установить весовые критерии для группы",show_student_name:"Показать имена студентов",showing_all_sections:"Отображение всех разделов",showing_section:"Отображение раздела: %{section}",sort_columns_by:"Сортировка столбцов по...",sort_rows_by:"Сортировка строк по...",speed_grader:"SpeedGrader",student:"Студент",student_mute_notification:"Инструктор выполняет оценку",student_name:"Имя студента",students_who:{havent_been_graded:"Не были оценены",havent_submitted_yet:"Еще не отправлено",not_submitted_yet:"Еще не отправлено",scored_less_than:"Оценено меньше",scored_more_than:"Оценено больше"},submission_information:"Информация об отправке",teacher_muted_title:"Звук задания отключен",titles:{assignment_groups:"Группы заданий",click_to_record:"Щелкните микрофон для записи комментариев",dropped_assignment_no_total:"Это задание не будет учитываться в итоговом подсчете",hypothetical_score:'Это оценка "Что если"',loading:"Загрузка...",turnitin_score:"Оценка сходства Turnitin -- дополнительные сведения"},tooltips:{submission_dropped:"Эта отправка удалены в целях оценки",submitted_late:"Эта отправка передана слишком поздно"},turnitin:{error_message:"Произошла ошибка при отправке задания на Turnitin. Попробуйте отправить файл еще раз, прежде чем связаться со службой поддержки",info_message:"Этот файл все еще обрабатывается Turnitin. Пожалуйста, проверьте позже, чтобы узнать оценку",resubmitting:"Повторная отправка...",tooltip:{error:"Оценка соответствия Turnitin – См. сведения об ошибке отправки",pending:"Оценка соответствия Turnitin – Ожидание отправки",score:"Оценка соответствия Turnitin – См. подробный отчет"}},unmute_assignment:"Включить звук задания",unmute_button:"Включить звук задания",upload_scores:"Загрузка оценок (из %{format})",view_grading_history:"Просмотр истории оценок"},not_applicable:"Недоступно"},zh:{gradebook:{alerts:{no_active_students:"对不起，课程中没有活动学生或可评分的学生。",no_students_in_section:"在该节中找不到任何学生，请返回以显示所有章节。",none_to_update:"无更新",scores_updated:{one:"%{count} 个学生成绩已更新",other:"%{count} 个学生成绩已更新"},students_updated:{one:"已更新 %{count} 名学生",other:"已更新 %{count} 名学生"}},assignment_details:"作业详细信息",buttons:{change_section:"更改章节",saving_settings:"正在保存设置...",submit_comment:"提交评论",submitting:"正在提交...",upload_data:"上传数据"},cancel_button:"取消",click_to_change:"单击以测试不同分数",click_to_expand:"单击以展开",computing_grades:"正在计算评分...",confirms:{delete_comment:"是否确定要删除此评论?",unsaved_changes:"以下学生的测验提交文件中有未保存的更改: \n\n%{users}\n是否仍要继续?"},curve_grade_for_course:"%{assignment} 的曲线评分",curve_grades:"曲线评分",default_grade_for_course:"%{assignment} 的默认评分",download_scores:"下载分数 (%{format})",download_submissions:"下载提交文件",edit_view_rubric:"查看题目",errors:{failed_to_load:"评分册加载失败，请尝试刷新页面",none_to_update:"无更新",select_an_option:"请选择选项",upload_as_zip:"请以 .zip 形式上传文件"},grade:"评分: %{grade}",graded_by_me:"我评分的时间 %{graded_time}",graded_then_resubmitted:"评分后重新提交的时间 (%{when})",hide_all_things:"隐藏所有 %{things}",hide_column:"隐藏列",hide_student_name:"隐藏学生姓名",ignore_ungraded:"忽略未评分的作业",include_ungraded:"包括未评分的作业",labels:{details:"详细信息"},links:{download_attachment:"下载 %{attachment}",finish_scoring:"完成此测验的评分",go_to_submission:"转至提交 URL",submission_details:"提交详细信息",view_quiz:"查看此测验",view_submission:"查看提交"},loud_late:"延迟",message_students_who:"发送消息到学生...",mute_assignment:"屏蔽作业",new_assessment:"[新评估]",no_submission_time:"无提交时间",nth_student:"学生 %{n}",publish_to_sis:"发布评分到 SIS",reupload_submission_files:"重新上传提交文件",reupload_submissions:"重新上传提交文件",set_default_grade:"设置默认评分",set_group_weights:"设置组权重",show_student_name:"显示学生姓名",showing_all_sections:"正在显示所有章节",showing_section:"正在显示章节: %{section}",sort_columns_by:"列排序依据...",sort_rows_by:"行排序依据...",speed_grader:"SpeedGrader",student:"学生",student_mute_notification:"教师正在进行评分",student_name:"学生姓名",students_who:{havent_been_graded:"还未打分",havent_submitted_yet:"尚未提交",not_submitted_yet:"尚未提交",scored_less_than:"分数低于",scored_more_than:"分数高于"},submission_information:"提交文件信息",teacher_muted_title:"作业被屏蔽",titles:{assignment_groups:"作业组",click_to_record:"单击麦克风录制您的评论",dropped_assignment_no_total:"此作业将不会列入总分计算",hypothetical_score:"这是假设分数",loading:"正在加载...",turnitin_score:"Turnitin 相似分数 – 更多信息"},tooltips:{submission_dropped:"此提交文件不用于评分目的",submitted_late:"此提交文件提交延迟"},turnitin:{error_message:"提交至 Turnitin 的过程中发生了错误。请在联系技术支持之前先重试。",info_message:"Turnitin 正在处理文件，请晚些时候再来查看得分。",resubmitting:"正在重新提交...",tooltip:{error:"Turnitin 的相似性分数 - 查看提交内容错误的详细信息",pending:"Turnitin 的相似性分数 - 提交内容待处理",score:"Turnitin 的相似性分数 - 查看详细报告"}},unmute_assignment:"取消屏蔽作业",unmute_button:"取消屏蔽作业",upload_scores:"上传分数（从 %{format}）",view_grading_history:"查看评分记录"},not_applicable:"不适用"}}})}),define("translations/turnitin",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{turnitin:{tooltip:{score:"رصد التشابه حسب Turnitin - انظر التقرير المفصل"}}},es:{turnitin:{tooltip:{score:"Calificación de similitud en Turnitin - Ver informe detallado"}}},fr:{turnitin:{tooltip:{score:"Note de similitude Turnitin - Voir le rapport détaillé"}}},ja:{turnitin:{tooltip:{score:"turnitin 類似性スコア - 詳細レポートを参照してください"}}},ko:{turnitin:{tooltip:{score:"Turnitin 유사성 점수 - 자세한 보고서 보기"}}},nl:{turnitin:{tooltip:{score:"Turnitin gelijkheidsscore - Bekijk gedetailleerd rapport"}}},pt:{turnitin:{tooltip:{score:"Pontuação de semelhança do Turnitin - Ver relatório detalhado"}}},ru:{turnitin:{tooltip:{score:"Оценка соответствия Turnitin – См. подробный отчет"}}},zh:{turnitin:{tooltip:{score:"Turnitin 相似分数 - 查看详细报告"}}}}})}),function(){define("compiled/gradebook2/Turnitin",["i18n!turnitin","underscore"],function(a,b){var c,d,e;return e=b.max,d=b.invert,c={extractData:function(a){var b,c,f,g,h,i,j,k,l,m,n,o,p;if(a!=null?!a.turnitin_data:!void 0)return;c={items:[]};if(a.attachments&&a.submission_type==="online_upload"){m=a.attachments;for(k=0,l=m.length;k<l;k++)b=m[k],b=(n=b.attachment)!=null?n:b,(j=(o=a.turnitin_data)!=null?o["attachment_"+b.id]:void 0)&&c.items.push(j)}else a.submission_type==="online_text_entry"&&(j=(p=a.turnitin_data)!=null?p["submission_"+a.id]:void 0)&&c.items.push(j);if(!c.items.length)return;return g=["no","none","acceptable","warning","problem","failure"],h=d(g),i=function(){var a,b,d,e;d=c.items,e=[];for(a=0,b=d.length;a<b;a++)f=d[a],e.push(parseInt(h[f.state||"no"]));return e}(),c.state=g[e(i)],c},extractDataFor:function(b,c,d){var e;return e=b.turnitin_data,!e||!e[c]||e[c].similarity_score==null?{}:(e=e[c],e.state=""+(e.state||"no")+"_score",e.score=""+e.similarity_score+"%",e.reportUrl=""+d+"/assignments/"+b.assignment_id+"/submissions/"+b.user_id+"/turnitin/"+c,e.tooltip=a.t("tooltip.score","Turnitin Similarity Score - See detailed report"),e)}}})}.call(this),define("translations/message_students",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{ar:{message_students:{buttons:{send_message:"إرسال رسالة",send_message_failed:"فشل إرسال الرسائل، الرجاء المحاولة مرة أخرى",sending_message:"جارٍ إرسال رسالة..."},message_student:"إرسال رسائل للطلاب بشأن %{course_name}",send_message:"إرسال رسالة"}},es:{message_students:{buttons:{send_message:"Enviar Mensaje",send_message_failed:"Envío del Mensaje Falló, intente de nuevo",sending_message:"Enviando Mensaje..."},message_student:"Enviar Mensaje a Estudiantes para %{course_name}",send_message:"Enviar el Mensaje"}},fr:{message_students:{buttons:{send_message:"Envoyer le message",send_message_failed:"Échec de l’envoi du message, veuillez réessayer",sending_message:"Envoi du message..."},message_student:"Envoyer un message aux étudiants pour le cours %{course_name}",send_message:"Envoyer le message"}},ja:{message_students:{buttons:{send_message:"メッセージの送信",send_message_failed:"メッセージの送信に失敗しました。もう一度やり直してください",sending_message:"メッセージを送信しています..."},message_student:"%{course_name} の受講生にメッセージを送る",send_message:"メッセージの送信"}},ko:{message_students:{buttons:{send_message:"메시지 보내기",send_message_failed:"메시지 보내기 실패",sending_message:"메시지 보내는 중..."},message_student:"%{course_name}의 학생 관리",send_message:"메시지 보내기"}},nl:{message_students:{buttons:{send_message:"Verstuur bericht",send_message_failed:"Versturen van bericht mislukt, probeer het opnieuw",sending_message:"Bericht wordt verstuurd..."},message_student:"Stuur een bericht naar leerlingen in %{course_name}",send_message:"Verstuur bericht"}},pt:{message_students:{buttons:{send_message:"Enviar mensagem",send_message_failed:"Falha no envio da mensagem, tente novamente",sending_message:"Enviando mensagem..."},message_student:"Enviar mensagem aos alunos para %{course_name}",send_message:"Enviar mensagem"}},ru:{message_students:{buttons:{send_message:"Отправить сообщение",send_message_failed:"Ошибка отправки сообщения, повторите попытку",sending_message:"Отправка сообщения..."},message_student:"Отправка студентам сообщений для %{course_name}",send_message:"Отправить сообщение"}},zh:{message_students:{buttons:{send_message:"发送邮件",send_message_failed:"发送邮件失败，请重试",sending_message:"正在发送邮件..."},message_student:"向学生发送有关 %{course_name} 的邮件",send_message:"发送邮件"}}}})}),function(){define("compiled/grade_calculator",["underscore"],function(a){var b,c;return c=function(b,c){var d,e;return e=[],d=[],a(b).each(function(a){return(c(a)?e:d).push(a)}),[e,d]},b=function(){function b(){}return b.calculate=function(b,c,d){var e,f=this;return e={},e.group_sums=a(c).map(function(a){return{group:a,current:f.create_group_sum(a,b,!0),"final":f.create_group_sum(a,b,!1)}}),e.current=this.calculate_total(e.group_sums,!0,d),e["final"]=this.calculate_total(e.group_sums,!1,d),e},b.create_group_sum=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this;return e=function(a,b){var c,d,e,f;d={};for(e=0,f=a.length;e<f;e++)c=a[e],d[c[b]]=c;return d},h=a(b.assignments).filter(function(b){return!a.isEqual(b.submission_types,["not_graded"])}),f=e(h,"id"),c=a(c).filter(function(a){return f[a.assignment_id]!=null}),d||(o=a(c).map(function(a){return a.assignment_id.toString()}),j=a.difference(a.keys(f),o),g=a(j).map(function(a){var b;return b={assignment_id:a,score:null}}),c.push.apply(c,g)),q=e(c,"assignment_id"),p=a(c).map(function(a){var b;return b={total:s.parse(f[a.assignment_id].points_possible),score:s.parse(a.score),submitted:a.score!=null&&a.score!=="",submission:a}}),l=d?a(p).filter(function(a){return a.submitted}):p,i=this.dropAssignments(l,b.rules),r=a.reduce(i,function(a,b){var c,d,e,f;return d=a[0],f=a[1],c=b.score,e=b.total,[d+s.parse(c),f+e]},[0,0]),n=r[0],k=r[1],m={possible:k,score:n,submission_count:a(p).filter(function(a){return a.submitted}).length,submissions:a(p).map(function(a){var b;return b={drop:a.drop,percent:s.parse(a.score/a.total),possible:a.total,score:s.parse(a.score),submission:a.submission,submitted:a.submitted}})}},b.dropAssignments=function(b,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;d||(d={}),g=d.drop_lowest||0,f=d.drop_highest||0,m=d.never_drop||[];if(!g&&!f)return b;m.length>0?(q=c(b,function(b){return a.indexOf(m,parseInt(b.submission.assignment_id))>=0}),e=q[0],b=q[1]):e=[];if(b.length===0)return e;g>=b.length&&(g=b.length-1),g+f>=b.length&&(f=0),j=b.length-g,k=j-f,b.sort(function(a,b){return a.submission.assignment_id-b.submission.assignment_id}),i=function(){var a,c,d;d=[];for(a=0,c=b.length;a<c;a++)n=b[a],n.total>0&&d.push(n.total);return d}().length>0,l=i?this.dropPointed(b,e,j,k):this.dropUnpointed(b,j,k),l.push.apply(l,e),h=a.difference(b,l);for(o=0,p=h.length;o<p;o++)n=h[o],n.drop=!0;return l},b.dropUnpointed=function(b,c,d){var e;return e=b.sort(function(a,b){return a.score-b.score}),a.chain(e).last(c).first(d).value()},b.dropPointed=function(b,d,e,f){var g,h,i,j,k,l=this;return k=function(){var a,c,d;d=[];for(a=0,c=b.length;a<c;a++)j=b[a],d.push(j.total);return d}(),i=Math.max.apply(Math,k),g=function(b,e,f){var g,h,k,m,n,o,p,q,r,t,u,v,w,x;e<=0&&(e=1);if(b.length<=e)return b;g=b.concat(d),v=c(g,function(a){return a.total===0}),t=v[0],n=v[1],k=function(){var a,b,c;c=[];for(a=0,b=n.length;a<b;a++)j=n[a],c.push(j.score/j.total);return c}().sort(function(a,b){return a-b}),o=l.estimateQHigh(n,t,k),p=k[0],q=(p+o)/2,h=function(b,c){var g,h,i,k,l,m,n;return n=a(c).map(function(a){var c;return c=a.score-b*a.total,[c,a]}),l=n.sort(f),g=l.slice(0,e),k=a.reduce(g,function(a,b){var c,d;return c=b[0],d=b[1],a+c},0),h=function(){var a,b,c,d;d=[];for(a=0,b=g.length;a<b;a++)c=g[a],m=c[0],j=c[1],d.push(j);return d}(),i=a.reduce(d,function(a,c){return a+c.score-b*c.total},0),[k+i,h]},w=h(q,b),u=w[0],m=w[1],r=1/(2*e*Math.pow(i,2));while(!(o-p<r)){u<0?o=q:p=q,q=(p+o)/2;if(q===o||q===p)break;x=h(q,b),u=x[0],m=x[1]}return m},h=g(b,e,function(a,b){var c,d,e,f;return c=a[0],e=a[1],d=b[0],f=b[1],d-c}),h=g(h,f,function(a,b){var c,d,e,f;return c=a[0],e=a[1],d=b[0],f=b[1],c-d})},b.estimateQHigh=function(b,c,d){var e,f,g,h,i;return c.length>0?(g=a(b).reduce(function(a,b){return a+b.total},0),e=Math.max(g,a(b).reduce(function(a,b){return a+b.score},0)),i=a(c).reduce(function(a,b){return a+b.score},0),f=e+i,f/g):h=d[d.length-1]},b.calculate_total=function(b,c,d){var e,f,g,h,i,j,k,l;return e=c?"current":"final",b=a(b).map(function(a){return a[e].weight=a.group.group_weight,a[e]}),d==="percent"?(i=a(b).filter(function(a){return a.possible}),f=a.reduce(i,function(a,b){return a+b.score/b.possible*b.weight},0),g=a.reduce(i,function(a,b){var c;return c=b.weight,a+c},0),g===0?f=null:g<100&&(f*=100/g),j={score:f&&Math.round(f*10)/10,possible:100}):(l=a.reduce(b,function(a,b){var c,d,e,f;return c=a[0],d=a[1],f=b.score,e=b.possible,[c+f,d+e]},[0,0]),k=l[0],h=l[1],j={score:k,possible:h})},b.parse=function(a){var b;return b=parseFloat(a),b&&isFinite(b)?b:0},b.letter_grade=function(b,c){var d,e;return c<0&&(c=0),e=a(b).filter(function(a,d){return c>=a[1]*100||d===b.length-1}),d=e[0],d[0]},b}()})}.call(this),define("datagrid",["INST","jquery","ajax_errors","jquery.instructure_misc_plugins","jquery.keycodes","jquery.scrollToVisible","vendor/jquery.scrollTo","jqueryui/position"],function(a,b){var c={columns:[],rows:[],dataRows:[],dataFragment:document.createDocumentFragment(),cells:{},divs:{},init:function(d,e){var f=e.onReady,g=e.tick,h=e.maxWidth||150;c.borderSize=e.borderSize||1,c.paddingBottom=e.paddingBottom||0,e.scroll&&b.isFunction(e.scroll)&&(c.scrollCallback=e.scroll),c.table=d,c.toggleCallback=e.toggle;var i=d.find("tr:first td"),j=d.find("tr"),k=0;i.each(function(a){var d=c.columns[a]=b(this);d.metrics={width:Math.min(d.width(),h),outerWidth:Math.min(d.outerWidth(),h+1)},k+=d.metrics.outerWidth});var l=0;j.each(function(a){var d=c.rows[a]=b(this);d.metrics={outerHeight:d.find("td:first").outerHeight(),height:d.find("td:first").height()},l+=d.metrics.height}),g&&b.isFunction(g)&&g(),c.divs.all=b(".datagrid"),c.divs.topleft=b("#datagrid_topleft"),c.divs.left=b("#datagrid_left"),c.divs.top=b("#datagrid_top"),c.divs.data=b("#datagrid_data"),c.divs.filler=b("#datagrid_filler"),c.divs.topleft.width(c.columns[0].metrics.width+c.borderSize),c.divs.left.width(c.columns[0].metrics.width+c.borderSize),c.divs.filler.width(k-c.columns[0].metrics.width),c.divs.top.height(c.rows[0].metrics.height+c.borderSize),c.divs.topleft.height(c.rows[0].metrics.height+c.borderSize),c.divs.filler.height(l-c.rows[0].metrics.height),c._initializeListeners(),c._templateCellHTML=e.templateCellHTML,c.sizeToWindow(),b(window).resize(c.sizeToWindow);var m=c._createRow(0,!0);m.append(c._createCell(0,0,d.find("tr:first td:first"))),c.divs.topleft.children(".content:first").append(m),m=c._createRow(0),m.width(k-c.columns[0].metrics.outerWidth),d.find("tr:first").children("td:not(:first)").each(function(a){m.append(c._createCell(0,a+1,b(this)))}),c.divs.top.children(".content:first").append(m),g&&b.isFunction(g)&&g();var n=!1,o=function(a){n||(m=c._createRow(a+1,!0),m.append(c._createCell(a+1,0,b(this).find("td:first"))),c.divs.left.children(".content:first").append(m)),m=c._createRow(a+1),b(this).children("td:not(:first)").each(function(d){c._createCell(a+1,d+1,b(this)),c._placeDataCell(a+1,d+1)}),c._placeDataRow(a+1)},p=[],q=0,r=0;d.find("tr:not(:first)").each(function(a){var d=0;m=c._createRow(a+1,!0),m.append(c._createCell(a+1,0,b(this).find("td:first"))),c.divs.left.children(".content:first").append(m),m=c._createRow(a+1),m.width(k-c.columns[0].metrics.outerWidth),b(this).children("td:not(:first)").each(function(a){d+=c.columns[a+1].metrics.width}),c._placeDataRow(a+1),q+=c.rows[a+1].metrics.height,p.push(b(this))}),n=!0,c._placeDataFragment(),e&&e.onViewable&&b.isFunction(e.onViewable)&&e.onViewable.call(this);var s=0,t=function(e){try{g&&b.isFunction(g)&&e&&g();if(s<p.length){var h=s;s++,o.call(p[h],h),setTimeout(function(){t(!0)},1)}else if(e&&!t.finished){t.finished=!0,c.initialized=!0,d.hide(),c.ready&&b.isFunction(c.ready)&&c.ready(),f&&b.isFunction(f)&&f();if(a.browser.ff){var i=b("#datagrid_top"),j=i.find(".row"),k=j.add("#datagrid_data .row");function l(){var a=i.width();i.width(99999999),j.css({position:"relative",width:""});var b=j.width()+1;i.width(a),j.css("position",""),k.width(b)}l();var m;b(window).resize(function(){clearTimeout(m),m=setTimeout(l,100)})}}}catch(n){a.log_error({message:n.toString()})}};setTimeout(function(){t(!0)},5),setTimeout(function(){t(!1)},5),setTimeout(function(){t(!1)},5),setTimeout(function(){t(!1)},5);var u=c.divs.top.children(".content:first"),v=c.divs.left.children(".content:first"),w=!1;setInterval(function(){if(!w)return;u.length===0&&(u=c.divs.top.children(".content:first")),v.length===0&&(v=c.divs.left.children(".content:first")),u.css("left",0-c.divs.data.scrollLeft()),v.css("top",0-c.divs.data.scrollTop()),c.scrollCallback&&c.scrollCallback(),w=!1},100),c.divs.data.bind("scroll",function(){w=!0}),c.mouseHasMoved=!0,b(document).mousemove(function(a){c.mouseHasMoved=!0}),b(document).keycodes("up down left right tab shift+tab",function(a){if(b(a.target).closest(".ui-dialog").length>0)return;a.preventDefault(),a.stopPropagation(),a.keyString=="right"||a.keyString=="tab"?c.moveRight():a.keyString=="down"?c.moveDown():a.keyString=="up"?c.moveUp():(a.keyString=="left"||a.keyString=="shift+tab")&&c.moveLeft()})},_initializeListeners:function(){c.divs.all.delegate(".cell","mousemove",c._cellMove).delegate(".cell","mouseover",c._cellOver).delegate(".cell","mouseout",c._cellOut).delegate(".cell","click",c._cellClick)},titles:function(a){var b=[];for(var d in a){var e=c.cells["0,"+a[d]];b.push(e.find(".assignment_title").text()||"--")}},reorderColumns:function(a){var b={},d=[],e=[];for(var f=0;f<a.length;f++)e[f]=f;for(var g=0;g<a.length;g++){var h=a[g];for(var i=0;i<c.rows.length;i++){var j=c.cells[i+","+h],k=c.cells[i+","+e[g]];e[g]!=h&&(e[g]<h?c.cells[i+","+e[g]].before(j):c.cells[i+","+e[g]].after(j)),b[i+","+g]=c.cells[i+","+h],b[i+","+g].column=g,b[i+","+g].data("datagrid_position",{row:i,column:g}),b[i+","+g].data("column",g),d[g]=c.columns[h]}var l=-1;for(var f=0;f<e.length;f++)e[f]==h&&(l=f);g!=l&&(g<l?(e.splice(g,0,h),e.splice(l+1,1)):(e.splice(g,0,h),e.splice(l,1)))}c.cells=b,c.columns=d},reorderRows:function(a){var b={},d=[],e=[];for(var f=0;f<a.length;f++)e[f]=f;var g=0;for(var h=0;h<a.length;h++){var i=a[h],j=c.cells[i+",0"].parents(".row"),k=c.cells[i+",1"].parents(".row");k.css("top",g),j.css("top",g),h>0&&(g=g+c.rows[i].metrics.height+1),e[h]!=i&&(e[h]<i?(c.cells[e[h]+",0"].parents(".row").before(j),c.cells[e[h]+",1"].parents(".row").before(k)):(c.cells[e[h]+",0"].parents(".row").after(j),c.cells[e[h]+",1"].parents(".row").after(k))),d[h]=c.rows[i];for(var l=0;l<c.columns.length;l++){var m=c.cells[i+","+l];b[h+","+l]=c.cells[i+","+l],b[h+","+l].row=h,b[h+","+l].data("datagrid_position",{row:h,column:l}),b[h+","+l].data("row",h),d[h]=c.rows[i]}var n=-1;for(var f=0;f<e.length;f++)e[f]==i&&(n=f);h!=n&&(h<n?(e.splice(h,0,i),e.splice(n+1,1)):(e.splice(h,0,i),e.splice(n,1)))}c.cells=b,c.rows=d},moveColumn:function(a,b){new_order=[];if(a==0||b==0||a==b)return;for(var d=0;d<c.columns.length;d++)d==b?new_order.push(a):d>=b&&d<=a||d<=b&&d>=a?b<a?new_order.push(d-1):new_order.push(d+1):new_order.push(d);c.reorderColumns(new_order)},_placeDataCell:function(a,b){if(a<1||b<1)return;var d=c.cells[a+","+b];if(d&&d.placed)return;var e=c.dataRows[a];e&&(e.append(d),d.placed=!0)},_initializeCell:function(a,d){if(!c.cells[a+","+d]){var e=["cell"];a===0&&e.push("column_header"),d===0&&e.push("row_header"),d!==0&&a!==0&&e.push("data_cell");var f=b(["<div class='",e.join(" "),"' style='visibility: hidden; height:",c.rows[a].metrics.height,"px; width:",c.columns[d].metrics.width,"px;' data-row='",a,"' data-column='",d,"'/>"].join("")).data({row:a,column:d});f.row=a,f.column=d,c.cells[a+","+d]=f}return c.cells[a+","+d]},_createCell:function(a,b,d){var e=c._initializeCell(a,b);return e.transferred?e:(a!=0&&b!=0&&c._templateCellHTML?e.append(c._templateCellHTML(a,b)):e.append(d.children()),e.attr("id",d.attr("id")),d.attr("id","original_"+e.attr("id")),e.originalTD=d,e.addClass(d.attr("class")),e.css("visibility",""),e.transferred=!0,e)},_trigger:function(a,d,e){var f=b.Event(a);f.originalEvent=d,f.originalTarget=e,c.table.trigger(f,{cell:e,trueEvent:d&&d.originalEvent})},_cellClick:function(a){var d=c.position(b(this)),e=c.cells[d.row+","+d.column];if(c.columns[e.column].hidden){c.toggleColumn(e.column);return}c._trigger("entry_click",a,e)},_cellMove:function(a){if(c.disableHighlights)return;var d=c.position(b(this)),e=c.cells[d.row+","+d.column];c.table.trigger("entry_move",e);if(b(this).index(c.currentHover)!=-1)return;e.trigger("mouseover")},_cellOver:function(a){if(c.disableHighlights)return;if(a.originalEvent&&!c.mouseHasMoved)return;c.mouseHasMoved=!1;var d=c.position(b(this)),e=c.cells[d.row+","+d.column];e.addClass("selected"),c.currentHover&&e.index(c.currentHover)==-1&&b(c.currentHover).trigger("mouseout"),c.currentHover=e;if(e.row==0)for(var f=1;f<c.rows.length;f++)c.cells[f+","+e.column].addClass("related");else if(e.column==0)for(var f=1;f<c.columns.length;f++)c.cells[e.row+","+f].addClass("related");else c.cells[e.row+","+0].addClass("related"),c.cells["0,"+e.column].addClass("related");c._trigger("entry_over",a,e)},_cellOut:function(a){if(c.disableHighlights)return;if(b(a.target).parents("div").index(this)!=-1)return;var d=c.position(b(this)),e=c.cells[d.row+","+d.column];e.removeClass("selected");if(e.row==0)for(var f=1;f<c.rows.length;f++)c.cells[f+","+e.column].removeClass("related");else if(e.column==0)for(var f=1;f<c.columns.length;f++)c.cells[e.row+","+f].removeClass("related");else c.cells[e.row+","+0].removeClass("related"),c.cells["0,"+e.column].removeClass("related");c._trigger("entry_out",a,e)},_placeDataFragment:function(){c.dataFragment&&(c.divs.data.find(".content:first")[0].appendChild(c.dataFragment),c.dataFragment=null)},_placeDataRow:function(a){if(a<1)return;var b=c.dataRows[a]||c._createRow(a);if(b.placed)return;c.dataFragment?c.dataFragment.appendChild(b[0]):c.divs.data.find(".content:first").append(b),b.placed=!0},_createRow:function(a,d){if(c.dataRows[a])return c.dataRows[a];var e=document.createDocumentFragment(),f=b(document.createElement("div")).addClass("row");e.appendChild(f[0]),f.height(c.rows[a].metrics.height);var g=0;for(var h=1;h<a;h++)g+=c.rows[h].metrics.height+1;var i=0;return f.css({top:g,left:i}),a>0&&!d&&(c.dataRows[a]=f),f},toggleColumn:function(a,d,e){var f=!c.columns[a].hidden,g=!!c.columns[a].hidden;d?g=!0:d===!1&&(g=!1),(!e||e.callback!==!1)&&b.isFunction(c.toggleCallback)&&c.toggleCallback(a,!!g);if(f==g)return;for(var h=0;h<c.rows.length;h++)c.cells[h+","+a].width(g?c.columns[a].metrics.width:10).children().showIf(g).toggleClass("hidden_column",!g);return c.columns[a].hidden=!g,(!e||!e.skipSizeGrid)&&c.sizeGrid(),g},sizeGrid:function(){var a=0;for(var b=1;b<c.columns.length;b++)a+=c.columns[b].hidden?10:c.columns[b].metrics.width;c.divs.filler.width(a-c.columns[0].metrics.width);for(var b=0;b<c.rows.length;b++)c.cells[b+","+1].parent(".row").width(a+c.columns.length+3)},focus:function(a,b){var d=c.cells[a+","+b];if(c.currentFocus&&d.index(c.currentFocus||[])!=-1)return;c.currentFocus&&c.blur(),d.addClass("focus"),c.currentFocus=d,c._trigger("entry_focus",null,d)},blur:function(){c.currentFocus&&(c.currentFocus.removeClass("focus"),c._trigger("entry_blur",null,c.currentFocus),c.currentFocus=null)},scrollTo:function(a,b){c.disableHighlights=!0,a==0&&(a=1),b==0&&(b=1);var d=c.cells[a+","+b];c.divs.data.scrollToVisible(d).triggerHandler("scroll"),c.disableHighlights=!1;if(d&&d.filter(":visible").length>0)return d.attr("tabindex",0),!0},sizeToWindow:function(){b("html,body").css("overflow","hidden");var d=b("#content,#wide_content");if(!d.length||d.width()<100)d=b(window);var e=a.browser.ff?1:0,f=b(window).height()-e-c.divs.top.offset().top,g=d.width()-e,h=Math.floor(g-c.columns[0].metrics.outerWidth),i=Math.floor(f-c.rows[0].metrics.height-c.borderSize-c.paddingBottom);c.divs.top.width(h),c.divs.data.width(h),c.divs.left.height(i),c.divs.data.height(i),c.divs.data.metrics={width:h,height:i}},_selectFirstCell:function(){var a=c.cells["1,1"];a.trigger("mouseover"),c.currentHover=a,c.scrollTo(1,1)},position:function(a){a.hasClass("cell")||(a=a.closest(".cell"));if(a.data("datagrid_position"))return a.data("datagrid_position");if(a.length==0)return{};var b={row:parseInt(a.attr("data-row"),10),column:parseInt(a.attr("data-column"),10)};return a.data("datagrid_position",b),b},moveLeft:function(){var a=c.currentHover;if(!c.currentHover){c._selectFirstCell();return}var b=a.column-1,d=c.cells[a.row+","+b];while(d&&d.hidden)b--,d=c.cells[a.row+","+b];if(!d||d.length===0)d=a;d.trigger("mouseover").focus(),c.currentHover=d,c.scrollTo(d.row,d.column)},moveRight:function(){var a=c.currentHover;if(!c.currentHover){c._selectFirstCell();return}var b=a.column+1,d=c.cells[a.row+","+b];while(d&&d.hidden)b++,d=c.cells[a.row+","+b];if(!d||d.length===0)d=a;d.trigger("mouseover").focus(),c.currentHover=d,c.scrollTo(d.row,d.column)},moveUp:function(){var a=c.currentHover;if(!c.currentHover){c._selectFirstCell();return}var b=a.row-1,d=c.cells[b+","+a.column];while(d&&d.hidden)b--,d=c.cells[b+","+a.column];if(!d||d.length===0)d=a;d.trigger("mouseover").focus(),c.currentHover=d,c.scrollTo(d.row,d.column)},moveDown:function(){var a=c.currentHover;if(!c.currentHover){c._selectFirstCell();return}var b=a.row+1,d=c.cells[b+","+a.column];while(d&&d.hidden)b++,d=c.cells[b+","+a.column];if(!d||d.length===0)d=a;d.trigger("mouseover").focus(),c.currentHover=d,c.scrollTo(d.row,d.column)}};return c}),define("message_students",["i18n!message_students","jquery","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_plugins"],function(a,b){var c=b("#message_students_dialog"),d={};return window.messageStudents=function(e){d=e,c.find(".message_types").empty();for(var f in e.options){var g=b("<option/>"),h=e.options[f];g.val(f).text(h.text),c.find(".message_types").append(g)}var i=e.title,j=c.find("ul li.blank:first"),k=c.find("ul"),l={};c.find("ul li:not(.blank)").remove();for(var m=0;m<e.students.length;m++){var n=j.clone(!0).removeClass("blank");n.find(".name").text(e.students[m].name),n.find(".score").text(e.students[m].score),n.data("id",e.students[m].id),n.user_data=e.students[m],k.append(n.show()),l[e.students[m].id]=n}k.show(),c.data("students_hash",l),c.find(".asset_title").text(i),c.find(".out_of").showIf(e.points_possible!=null),c.find(".send_button").text(a.t("send_message","Send Message")),c.find(".points_possible").text(e.points_possible),c.find("textarea").val(""),c.find("select")[0].selectedIndex=0,c.find("select").change(),c.dialog({width:600,modal:!0}).fixDialogButtons().dialog("open").dialog("option","title",a.t("message_student","Message Students for %{course_name}",{course_name:i}))},b(document).ready(function(){c.find(".cutoff_score").bind("change blur keyup",function(){c.find("select").change()}),c.find(".cancel_button").click(function(){c.dialog("close")}),b("#message_assignment_recipients").formSubmit({processData:function(a){var c=[];return b(this).find(".student:visible").each(function(){c.push(b(this).data("id"))}),c.length==0?!1:(a.recipients=c.join(","),a)},beforeSubmit:function(c){b(this).find("button").attr("disabled",!0).filter(".send_button").text(a.t("buttons.sending_message","Sending Message..."))},success:function(c){b(this).find(".send_button").text("Message Sent!");var d=b(this);setTimeout(function(){d.find("button").attr("disabled",!1).filter(".send_button").text(a.t("buttons.send_message","Send Message")),b("#message_students_dialog").dialog("close")},2e3)},error:function(c){b(this).find("button").attr("disabled",!1).filter(".send_button").text(a.t("buttons.send_message_failed","Sending Message Failed, please try again"))}}),c.find("select").change(function(){var a=parseInt(b(this).val(),10)||0,e=d.options[a],f=c.data("students_hash"),g=parseFloat(c.find(".cutoff_score").val(),10);!g&&g!==0&&(g=null);var h=null,i=[];for(var a in f)i.push(f[a]);f&&(e&&e.callback?h=e.callback.call(window.messageStudents,g,i):d.callback&&(h=d.callback.call(window.messageStudents,e.text,g,i))),h=h||[],c.find(".cutoff_holder").showIf(e.cutoff),c.find(".student_list").toggleClass("show_score",e.cutoff||e.score),c.find("button").attr("disabled",h.length==0);var j={};for(var a in h)j[parseInt(h[a],10)||0]=!0;for(var a in f)f[a].showIf(j[a])})}),messageStudents}),define("gradebooks",["INST","i18n!gradebook","jquery","underscore","compiled/userSettings","datagrid","compiled/grade_calculator","str/htmlEscape","compiled/gradebook2/Turnitin","jquery.ajaxJSON","jquery.dropdownList","jquery.instructure_date_and_time","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","jquery.keycodes","jquery.loadingImg","jquery.templateData","message_students","vendor/date","vendor/jquery.scrollTo","jqueryui/position","jqueryui/progressbar"],function(a,b,c,d,e,f,g,h,i){function G(a){var b=a.data("object_id");b||(b=a.find(".table_entry,.student_header,.assignment_header").attr("id"),b=b.replace(/^outer_/,"")),a.data("object_id",b);var c=object_data[b],d=b.split(/[_-]/),e=[];while(d.length>0&&isNaN(parseInt(d[0],10)))e.push(d.shift());var f=e.join("_");if(!c)e=b.split("_"),c={},e[0]=="submission"&&(c.user_id=e[1],c.assignment_id=e[2]),object_data[b]={},object_data[b][e[0]]=c;else{var g=c[f]||c.audit_student||c.user;if(!g)for(var h in c)g=c[h];g[f+"_id"]=g.id,c=g}if(f=="submission"){var i=object_data["assignment_"+c.assignment_id];i=i.assignment,c.assignment_group_id=i.assignment_group_id,c.points_possible=i.points_possible}return c}function H(a,d){var e=r.getFormData(),f=c("#submission_"+a.student_id+"_"+a.assignment_id),g=f.parent();f.loadingImage({image_size:"small"}),I({user_id:a.student_id,assignment_id:a.assignment_id,grade:a.grade}),a.id&&a.id!==""&&(e["submission[id]"]=a.id),a.comment&&(e["submission[comment]"]=a.comment),e["submission[group_comment]"]=a.group_comment?"1":"0",e["submission[assignment_id]"]=a.assignment_id,e["submission[user_id]"]=a.student_id,e["submission[grade]"]=a.grade;var h=function(a){for(var c in a){var d=a[c].submission;I(d),T(d.user_id)}a.length>1&&alert(b.t("alerts.students_updated",{one:"1 Student Updated",other:"%{count} Students Updated"},{count:a.length})),f.loadingImage("remove")},i=function(a){f.loadingImage("remove")};d&&q.find(".comment_attachments input[type='file']").length?c.ajaxJSONFiles(r.attr("action")+".text","POST",e,q.find(".comment_attachments input[type='file']"),h,i):c.ajaxJSON(r.attr("action"),"POST",e,h,i)}function I(a){if(!a)return;var b=null;if(!f.initialized){var d=l.assignmentIndexes[a.assignment_id],e=l.studentIndexes[a.user_id],g=f.cells[e+","+d];b=g&&g.find("#submission_"+a.student_id+"_"+a.assignment_id);if(!b||!b.length){l.queuedSubmissions=l.queuedSubmissions||[],l.queuedSubmissions.push(a);return}}object_data["submission_"+a.user_id+"_"+a.assignment_id]={submission:a};var h=object_data["assignment_"+a.assignment_id],h=h&&h.assignment;a.student_id=a.user_id,b=b||c("#submission_"+a.student_id+"_"+a.assignment_id),b.css("visibility","");var j=a&&c.parseFromISO(a.submitted_at).minute_timestamp,k=h&&c.parseFromISO(h.due_at).minute_timestamp;b.parent().toggleClass("late",!!a&&!!a.late),a.grade!==""&&a.grade==0&&(a.grade="0");var m=b.find(".score"),n=b.find(".pending_review"),o=b.find(".turnitin"),p=b.find(".grade");m.showIf(a.score),b.fillTemplateData({data:a}),a.submission_type!="online_quiz"||a.workflow_state!="pending_review"?n.remove():n.length||(p.after(c("#gradebook_urls .pending_review").clone()),n.addClass("showable").showIf(!b.find(".grading_value:visible").length));var q=i.extractData(a);if(!q)o.remove();else if(!o.length){var r=c("#gradebook_urls .turnitin").clone();r.attr("src",r.attr("src").replace("turnitin_no_score","turnitin_"+q.state+"_score")),p.after(r),o.addClass("showable").show()}m.showIf(h&&h.grading_type=="letter_grade");var s=c("#outer_assignment_"+a.assignment_id).find(".grading_type").text();s=="pass_fail"&&a.grade&&a.grade!=" - "&&p.empty().append(c("#submission_entry_"+a.grade+"_image").clone()),(a.grade==null||a.grade==="")&&p.empty().append(J(a))}function J(a){var b=c("#submission_"+a.submission_type+"_image").clone().attr("id","");return b.length===0&&(b=" - "),b}function K(a,b){var d=a,e=d.parents(".table_entry");a.hasClass("grading_value")||(d=a.find(".grading_value"));var f=d.val(),g=f,i=c.trim(e.find(".grade").text());e.find(".grade img").length>0&&(i=e.find(".grade img").attr("alt").toLowerCase()),i=="-"&&(i=""),d.hasClass("pass_fail")&&(f=="pass"||f=="fail")&&(f=c("#submission_entry_"+f+"_image").clone().attr("id",""));var j={},k=r.getFormData(),l=G(e.parent());j.id=l.id||"",j.assignment_id=l.assignment_id,j.student_id=l.user_id,j.grade=g,(g!=i||g&&b)&&H(j);if(!f||f=="")j.submission_type=l.submission_type||"",f=J(j);e.find(".grade").show().empty().append(h(f))}function L(a,b){var d=G(a).assignment_id,e=c(".assignment_"+d);b||b!==!1&&c(e[0]).parent().hasClass("hidden_column")?e.show().parent().removeClass("hidden_column"):e.hide().parent().addClass("hidden_column")}function M(a,d){var e=a,f=object_data["assignment_"+d.assignment_id].assignment,g=c("#outer_student_"+d.user_id+" .display_name").text(),i=c("#outer_assignment_"+d.assignment_id+" .display_name").text(),j=b.t("submission_information","Submission Information"),l=e.find(".grade"),n=e.find(".score"),o=c.trim(l.text()),p=c("#student_grading_"+d.assignment_id).clone(),r=d.comment||"",s=d.points_possible,t=c(document.createElement("div")),u=c(document.createElement("div")),v=c("#gradebook_urls .view_online_submission_url").attr("href");g&&i&&(j=i+": "+g),l.find("img").length>0&&(o=l.find("img").attr("alt")),n.length>0&&(o=n.text());if(o=="_"||o=="-")o="";p[0].tagName=="SELECT"?p.val(d.grade):o!=""&&p.val(o),v=c.replaceTags(v,"assignment_id",d.assignment_id),v=c.replaceTags(v,"user_id",d.user_id),m&&(t.append(c("#submission_view_image").clone(!0).removeAttr("id")),t.append(c(" <a href='"+v+"'>"+b.t("links.submission_details","Submission Details")+"</a>"))),u.css({textAlign:"center",fontWeight:"bold",fontSize:"1.2em",marginTop:5});if(d.submission_type&&d.submission_type!="online_quiz"){if(d.submission_type=="online_url"){u.append(c("#submission_"+d.submission_type+"_image").clone().removeAttr("id"));var v=d.url;u.append(" <a href='"+v+"' target='_new'>"+b.t("links.go_to_submission","Go To Submission URL")+"</a>")}else if(d.submission_type=="online_upload"){var v=c("#gradebook_urls .view_online_upload_url").attr("href");v=c.replaceTags(v,"assignment_id",d.assignment_id),v=c.replaceTags(v,"user_id",d.user_id);if(d.attachments)for(var w in d.attachments){var x=d.attachments[w].attachment,y=c.replaceTags(v,"attachment_id",x.id),z=d.turnitin_data&&d.turnitin_data["attachment_"+x.id];if(z){var A=c.replaceTags(c.replaceTags(c.replaceTags(c(".turnitin_report_url").attr("href"),"user_id",d.user_id),"asset_string","attachment_"+x.id),"assignment_id",d.assignment_id),B=c("<a/>");B.attr("href",A).addClass("turnitin_similarity_score").addClass((z&&z.state||"no")+"_score"),B.attr("title",b.t("titles.turnitin_score","Turnitin similarity score -- more information")),B.attr("target","_blank"),B.text((z.similarity_score||"--")+"%"),u.append(B)}u.append(c("#submission_"+d.submission_type+"_image").clone().removeAttr("id")),u.append(" <a href='"+y+"'>"+h(b.t("links.download_attachment","Download %{attachment}",{attachment:x.display_name}))+"</a><br/>")}}else if(d.submission_type=="online_text_entry"){var z=d.turnitin_data&&d.turnitin_data["submission_"+d.id];if(z){var A=c.replaceTags(c.replaceTags(c.replaceTags(c(".turnitin_report_url").attr("href"),"user_id",d.user_id),"asset_string","submission_"+d.id),"assignment_id",d.assignment_id),B=c("<a/>");B.attr("href",A).addClass("turnitin_similarity_score").addClass((z&&z.state||"no")+"_score"),B.attr("title",b.t("titles.turnitin_score","Turnitin similarity score -- more information")),B.attr("target","_blank"),B.text(z.similarity_score+"%"),u.append(B)}u.append(c("#submission_"+d.submission_type+"_image").clone().removeAttr("id"));var v=c("#gradebook_urls .view_online_text_entry_url").attr("href");v=c.replaceTags(v,"assignment_id",d.assignment_id),v=c.replaceTags(v,"user_id",d.user_id),u.append(" <a href='"+v+"' target='_new' class='view_submission_link'>"+b.t("links.view_submission","View Submission")+"</a>")}}else if(d.quiz_submission){var v=c("#gradebook_urls .view_quiz_url").attr("href");v=c.replaceTags(v,"quiz_id",d.quiz_submission.quiz_id),v=c.replaceTags(v,"user_id",d.user_id),d.workflow_state=="pending_review"?(u.append(c("#submission_pending_review_image").clone().removeAttr("id")),u.append(" <a href='"+v+"' target='_new'>"+b.t("links.finish_scoring","Finish Scoring this Quiz")+"</a>")):(u.append(c("#submission_quiz_image").clone().removeAttr("id")),u.append(" <a href='"+v+"' target='_new'>"+b.t("links.view_quiz","View this Quiz")+"</a>"))}q.find(".no_comments").hide().end().find(".add_comment_link").hide().end().find(".points_possible").text(s||"").end().find(".out_of").showIf(s||s==="0").end().find(".grade_entry").empty().append(p.show()).end().find("textarea.comment_text").show().val("").end().find(".submission_details").empty().append(t).append(u).show().end().find(".submission_comments").empty().end().find(".comment_attachments").empty().end().find(".save_buttons,.add_comment").showIf(!k).end().find(".group_comment").showIf(f&&f.group_category).find(":checkbox").attr("checked",!1).end().end(),k&&q.find(".grade_entry").text(o||"-"),d.student_id=d.user_id,d.id=d.id||"";var C=d.late;q.find(".submitted_at_box").showIf(d.submitted_at).toggleClass("late_submission",!!C),d.submitted_at_string=c.parseFromISO(d.submitted_at).datetime_formatted,q.fillTemplateData({data:d,except:["created_at","submission_comments","submission_comment","comment","attachments","attachment"]});for(var w in d.submission_comments){var r=d.submission_comments[w].submission_comment,D=c("#submission_comment_blank").clone(!0).removeAttr("id");r.posted_at=c.parseFromISO(r.created_at).datetime_formatted,D.fillTemplateData({data:r,except:["attachments"]});if(r.attachments)for(var E in r.attachments){var x=r.attachments[E].attachment,F=c("#submission_comment_attachment_blank").clone().removeAttr("id").show();x.assignment_id=d.assignment_id,x.user_id=d.user_id,x.comment_id=r.id,F.fillTemplateData({data:x,hrefValues:["assignment_id","user_id","id","comment_id"]}),D.find(".attachments").append(F)}q.find(".submission_comments").append(D.show())}q.show().dialog({width:500,height:"auto",title:j,open:function(){q.find(".grading_value").focus().select(),c("#gradebook").data("disable_highlight",!0)},close:function(){c("#gradebook").data("disable_highlight",!1)}}).dialog("option","title",j)}function N(a){var d=a,e=G(d);if(e&&e.submission_comments)M(a,e);else{c("#loading_submission_details_dialog").dialog({title:b.t("titles.loading","Loading...")});var f=c("#loading_submission_details_dialog .submission_details_url").attr("href");f=c.replaceTags(c.replaceTags(f,"user_id",e.user_id),"assignment_id",e.assignment_id),c.ajaxJSON(f,"GET",{},function(b){c("#loading_submission_details_dialog").dialog("close"),b.submission.submission_comments=b.submission.submission_comments||[],object_data["submission_"+e.user_id+"_"+e.assignment_id]=b,e=G(d),M(a,e)},function(a){})}}function Q(){l.updateAllStudentGrades=function(a){l.finalGradesReady=!1;if(a)for(var b in object_data)if(object_data[b].submission){var d=object_data[b].submission;P[d.user_id]=P[d.user_id]||[],P[d.user_id].push(d)}c(".outer_student_name").each(function(){var a=G(c(this));O.push(a.id)})};var a=function(){if(O.length>0){var a=O.shift();if(P[a]){for(var b in P[a])I(P[a][b]);P[a]=null}T(a)}else l.finalGradesReady=!0};setInterval(a,100),l.updateAllStudentGrades(),c("html,body").scrollTop(0),c(".outer_assignment_name").each(function(){var a=c(this),b=G(a),d={title:b.title,id:b.assignment_id,date_sortable:b.due_at,group_id:b.assignment_group_id,special_sort:"a"};d.id=d.id||a.find(".student_header").attr("id").substring(17);if(a.hasClass("final_grade"))d.special_sort="z",d.group_id="z";else if(a.hasClass("group_total")){var e=c("#groups_data .group"),f=e.index(c("#group_"+b.assignment_group_id));d.special_sort="y_"+f}a.data("assignment_object",d)})}function R(a,b,d){b=="first"?(b="before",d=G(c(".outer_assignment_name:first")).id):b=="last"&&(b="after",d=G(c(".outer_assignment_name:last")).id);if(b=="before"){var e=c(".assignment_"+d).parent(),f=c(".assignment_"+a).parent();for(var g=0;g<e.length;g++)c(e[g]).before(c(f[g]))}else if(b=="after"){var h=c(".assignment_"+d).parent(),f=c(".assignment_"+a).parent();for(var g=0;g<h.length;g++)c(h[g]).after(c(f[g]))}}function S(a){var b=0,d=c("#class_weighting_policy").attr("checked");c("#groups_data").find(".group").each(function(){var e=c(this).find(".group_weight").val(),f=parseFloat(e);isNaN(f)&&(f=0);if(a){var g=c(this).getTemplateData({textValues:["assignment_group_id"]}).assignment_group_id,h=f+"%",i=" of grade";d||(h="",i=""),c("#outer_assignment_group-"+g+",#assignment_group-"+g).find(".points_possible").text(h).end().find(".before_points_possible").text("").end().find(".after_points_possible").text(i)}b+=f}),c("#groups_data").find(".total_weight").text(b),a&&l.updateAllStudentGrades&&l.updateAllStudentGrades()}function T(a){var b=c(".table_entry.student_"+a),e=d.chain(b).reject(function(a){return c(a).find(".grade").hasClass("hard_coded")}).map(function(a){return G(c(a).parent())}).value(),f=c("#class_weighting_policy").attr("checked")?"percent":"equal",h=g.calculate(e,ENV.assignment_groups,f),i=z?"current":"final";d.each(h.group_sums,function(b){var e=b[i],f=e.score/e.possible;if(isNaN(f)||!isFinite(f))f=0;f=Math.round(f*1e3)/10,c("#submission_"+a+"_group-"+b.group.id).css("visibility","").attr("data-tip","pts: "+e.score+" / "+e.possible).find(".grade").text(f).end().find(".score").hide().end().find(".pct").text(" %").show(),d.each(e.submissions,function(b){var d=c("#submission_"+a+"_"+b.submission.assignment_id).parent();d.toggleClass("dropped",!!b.drop)})});var k=h[i].score/h[i].possible;k=Math.round(k*1e3)/10;if(isNaN(k)||!isFinite(k))k=0;var m="";j&&(m=g.letter_grade(j,k)),c("#submission_"+a+"_final-grade").css("visibility","").attr("data-tip",l.pointCalculations?"pts: "+h[i].score+" / "+h[i].possible:"").find(".grade").text(k).end().find(".score").hide().end().find(".letter_grade").showIf(j).text(m).end().find(".pct").text(" %").show()}function U(a){var b=window.location.protocol+"//"+window.location.host+window.location.pathname+"?updated="+lastGradebookUpdate;c("#datagrid_topleft").gradebookLoading(),c.ajaxJSON(b,"GET",{},function(b){a&&setTimeout(function(){U(!0)},12e4),c("#datagrid_topleft").gradebookLoading("remove");var d=lastGradebookUpdate;for(idx in b){var e=b[idx].submission;e.student_id=e.user_id,e.updated_at.substring(0,19)>lastGradebookUpdate&&(I(e),e.updated_at>d&&(d=e.updated_at.substring(0,19)))}lastGradebookUpdate=d},function(b){a&&setTimeout(function(){U(!0)},24e4),c("#datagrid_topleft").gradebookLoading("remove")})}var j=window.grading_scheme,k=window.readOnlyGradebook,l=window.gradebook,m=ENV.speed_grader_enabled,n=c("#loading_gradebook_progressbar"),o=c("#default_grade_form"),p=c("#assignment_details_dialog"),q=c("#submission_information"),r=c("#update_submission_form"),s=c("#publish_to_sis_form"),t=c("#curve_grade_dialog"),u=c("#message_students_dialog"),v=c("#information_link"),w=c("#total_tooltip").appendTo("body"),x=c("#content").offset(),y=c("#gradebook_full_content").data("context_code"),z=!0,A={},B=c(".outer_student_name .course_section"),C=c("#current_context_code").text().split("_")[1],D=e.contextGet("grading_show_only_section");B.each(function(){A[c(this).data("course_section_id")]=c(this).attr("title")});if(D){var E=!1,F=0;c.each(id_maps,function(a,b){a.match("row_")&&delete id_maps[a]}),c(".outer_student_name .course_sections, .gradebook_table .course_sections").each(function(){var a=c(this).data("course_section_ids").toString().split(",");if(a.indexOf(D)==-1)c(this).closest("tr").remove();else{var b=c(this).closest(".student_header").attr("id");b&&(++F,id_maps["row_"+F]=Number(b.replace("student_",""))),E=!0}}),E||(alert(b.t("alerts.no_students_in_section","Could not find any students in that section, falling back to showing all sections.")),e.contextRemove("grading_show_only_section"),window.location.reload())}l={hoverCount:-1,fileIndex:1,assignmentIndexes:{},studentIndexes:{},showInfoLink:function(a){var b=v;if(f.currentFocus)return;var c=a.find(".table_entry");if(a.hasClass("group_total")||a.hasClass("final_grade")){b.hide();if(c.attr("data-tip")){var d=a.offset();w.show().find(".text").text(c.attr("data-tip"));var e=w.outerHeight();w.css({left:d.left-2,top:d.top-e-3})}else w.hide();return}if(!c.length||c.find(".new_message,.pending_review,.turnitin").filter(":visible").length||a.hasClass("group_total")||a.hasClass("final_grade")){b.hide(),w.hide();return}w.hide(),b.appendTo(c).show()},hideInfoLink:function(){w.hide(),v.hide(),l.hoverCount=-1},populate:function(){l.updateAllStudentGrades&&l.updateAllStudentGrades()},makeAccessible:function(){var a=c("#datagrid_data .content"),d=c("#datagrid_left .display_name");a.attr("role","grid").prepend(function(){var a=c("#datagrid_top .assignment_title").map(function(){return"<div role='columnheader' id='th_"+c(this).parents(".assignment_header").attr("id")+"' tabindex='-1'>"+c(this).html()+"</div>"}).get().join("");return"<div class='hidden-readable' role='row'><div role='columnheader' tabindex='-1'>"+b.t("student_name","Student Name")+"</div>"+a+"</div>"}).find(".row").attr("role","row").prepend(function(a){return"<div id='th_"+d.eq(a).parents(".student_header").attr("id")+"' tabindex='-1' class='ui-helper-hidden-accessible' role='rowheader'>"+d.eq(a).html()+"</div>"}),a.find(".data_cell").attr({role:"gridcell",tabindex:-1,"aria-labelledby":function(){var a=c(this).find(".table_entry").attr("id").split("_"),b=a[1],d=a[2];return"th_assignment_"+d+" th_student_"+b}})}},c(document).ready(function(){l.pointCalculations=!c("#class_weighting_policy").attr("checked");var g=function(){c("#gradebook_full_content").hide(),setTimeout(function(){c("#gradebook_table").bind("entry_over",function(a,c){if(c.trueEvent){l.showInfoLink(c.cell);function d(a,b){var d=c.cell.offset();w.show().find(".text").html(a);var e=w.outerHeight();w.css({left:d.left-(b?15:2),top:d.top-e-3})}if(c.cell.hasClass("late"))d(b.t("tooltips.submitted_late","This submission was submitted late"));else if(c.cell.hasClass("dropped"))d(b.t("tooltips.submission_dropped","This submission is dropped for grading purposes"));else if(f.columns[c.cell.column].hidden){var e=G(f.cells["0,"+c.cell.column]).title;d(h(e)+"<br/><span style='font-size: 0.9em;'>"+b.t("click_to_expand","Click to expand")+"</span>",!0)}}else a&&a.originalEvent&&a.originalEvent.type&&!a.originalEvent.type.match(/mouse/)&&c.cell.find(".grade").focus().css("outline",0)}).bind("entry_out",function(a,b){l.hideInfoLink()}).bind("entry_click",function(a,b){var d=b.cell;a.originalEvent&&c(a.originalEvent.target).closest(".display_name,.assignment_title").length==0&&a.originalEvent.preventDefault();if(d.hasClass("column_header")||d.hasClass("row_header")||d.find(".grade").hasClass("hard_coded"))return;b.cell.data("from_click",!0),f.focus(d.row,d.column),b.cell.data("from_click",!1)}).bind("entry_focus",function(a,b){if(k)return f.blur(),!1;var d=b.cell.find(".table_entry"),e=d.find(".grade"),g=!0,h=c.trim(e.text());l.hideInfoLink();if(d.find(".grade img.submission_icon").length>0&&b.cell.data("from_click")){N(b.cell),f.blur();return}e.hasClass("hard_coded")&&(g=!1);if(!g)return;e.find("img.graded_icon").length?h=e.find("img.graded_icon").attr("alt").toLowerCase():d.find(".score").length>0&&(!h||!h.match(/.+%/))&&(h=c.trim(d.find(".score").text())),h=c.trim(h),h=="-"&&(h="");var i=G(b.cell);if(g){var j=b.cell.width(),m=b.cell.height(),n=i.assignment_id,o=c("#student_grading_"+n).clone(!0),p=o.children().andSelf().filter(".grading_value");e.hide().after(o),o.css("display","block"),p.attr("type")=="text"?(j-=8,m-=8):(j-=2,m-=2),o.width(j).height(m).css("margin",1),p.height(m),(p[0].tagName!="SELECT"||h!=="")&&p.val(h),o.show(),p.focus().select()}d.find(".new_message,.pending_review").hide()}).bind("entry_blur",function(a,b){var c=b.cell.find(".table_entry");c.find(".new_message,.pending_review.showable,.grade").show(),c.find(".grading_box").remove(),b.cell.triggerHandler("mouseover"),setTimeout(function(){l.showInfoLink(b.cell)},50)}),setTimeout(i,50)},1e3)},i=function(){c(".delete_comment_attachment_link").click(function(a){a.preventDefault(),c(this).parents(".comment_attachment").slideUp(function(){c(this).remove()})}),c(".attach_comment_file_link").click(function(a){a.preventDefault();var b=c(this).parents(".add_comment").find(".comment_attachment:last").clone(!0);b.find("input").attr("name","attachments["+l.fileIndex++ +"][uploaded_data]"),c(this).parents(".add_comment").find(".comment_attachments").append(b),b.slideDown()}),c(".grading_value").keycodes("esc return tab",function(a){a.preventDefault(),a.stopPropagation();if(a.keyString=="return"||a.keyString=="tab")c(this).triggerHandler("blur",!0),a.keyString=="return"?f.moveDown():f.moveRight();else if(a.keyString=="esc"){var b=c(this).parents("[role='gridcell']");f.blur(),b.focus()}}),c(".grading_value").blur(function(a,b){var d=c(this).parents(".table_entry").parents("div.cell");if(d.length>0){var e=c(this);e.parents(".grading_box").length&&(e=e.parents(".grading_box")),K(e,b),f.blur()}}),o.formSubmit({beforeSubmit:function(a){o.loadingImage().find(".cancel_button").attr("disabled",!0)},processData:function(a){var d=0;return c(".table_entry.assignment_"+a.assignment_id+":visible").each(function(){var b=c(this),e=G(b.parent()),f="submissions[submission_"+d+"]";if(!e.score&&e.score!==0||a.overwrite_existing_grades)a[f+"[assignment_id]"]=a.assignment_id,a[f+"[user_id]"]=e.user_id,a[f+"[grade]"]=a.default_grade,d++}),d===0?(alert(b.t("alerts.none_to_update","None to Update")),!1):a},success:function(a){o.loadingImage("remove");for(var c in a){var d=a[c].submission;I(d),O.push(d.user_id)}alert(b.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:a.length})),o.find(".cancel_button").attr("disabled",!1),o.dialog("close")}}).find(".cancel_button").click(function(){o.dialog("close")}),c("#gradebook_full_content,.datagrid").delegate(".assignment_dropdown","click",function(d){var e=c(this),g=e.parent(),i=e.parents(".assignment_name").find(".grade_assignment_link").attr("href"),j=e.parents(".assignment_name"),n=c(this).parents(".cell"),q={},s=G(j),u=function(a,b,c){var d='<span class="ui-icon ui-icon-'+a+'">&nbsp;</span> '+b;q[d]=c};if(!j.hasClass("group_total")&&!j.hasClass("final_grade")){object_data.submissions&&u("info",b.t("assignment_details","Assignment Details"),function(){var a=G(j),d=c(".student_assignment .assignment_"+a.assignment_id);a.url=j.find(".assignment_link").attr("href"),a.cnt=0,a.score_total=0,d.each(function(){var b=c(this),d=G(b.parent());if(d.score!==null&&d.score!==undefined&&d.score!==""){a.cnt++,a.score_total+=d.score;if(a.max==null||d.score>a.max)a.max=d.score;if(a.min==null||d.score<a.min)a.min=d.score}}),a.max=a.max||0,a.min=a.min||0,a.average=Math.round(a.score_total*10/a.cnt)/10;if(isNaN(a.average)||!isFinite(a.average))a.average=b.t("#not_applicable","N/A");var e=0,f=0,g=200;p.find(".distribution").showIf(a.average&&a.points_possible).find(".none_left").width(f=g*(a.min/a.points_possible)).css("left",(e+=f)-f).end().find(".some_left").width(f=g*((a.average-a.min)/a.points_possible)).css("left",(e+=f)-f).end().find(".some_right").width(f=g*((a.max-a.average)/a.points_possible)).css("left",(e+=f)-f-2).end().find(".none_right").width(f=g*((a.points_possible-a.max)/a.points_possible)).css("left",(e+=f)-f),p.fillTemplateData({data:a}).dialog({title:b.beforeLabel("details","Details")+" "+a.title}).find(".assignment_link").attr("href",a.url)}),m&&u("newwin",b.t("speed_grader","SpeedGrader"),function(){window.location.href=i});var v={elements:{assignments:{},modal:c("#mute_dialog"),rows:c("#datagrid_top .row, #datagrid_data .row")},init:function(){this.isMuted=g.data("muted"),this.label=this.isMuted?b.t("unmute_assignment","Unmute Assignment"):b.t("mute_assignment","Mute Assignment")},onClick:function(a){this.url=g.attr("href")+"/mute",this.isMuted?this.updateStatus():this.showDialog()},showDialog:function(){var a=b.t("cancel_button","Cancel"),d=b.t("mute_assignment","Mute Assignment"),e={};e[d]=c.proxy(function(){this.updateStatus(),this.elements.modal.dialog("close")},this),e[a]=c.proxy(function(){this.elements.modal.dialog("close")},this),this.elements.modal.dialog({autoOpen:!1,buttons:e,modal:!0,resizable:!1,title:this.elements.modal.data("title"),width:400}),this.elements.modal.dialog("open")},updateStatus:function(){c.ajaxJSON(this.url,"put",{status:!this.isMuted},c.proxy(this.onUpdate,this))},onUpdate:function(a){var b="assignment_"+a.assignment.id,d;g.data("muted",!this.isMuted),typeof this.elements.assignments[b]=="undefined"&&(this.elements.assignments[b]={},this.elements.assignments[b].assignment=c("#"+b),this.elements.assignments[b].cell=this.elements.assignments[b].assignment.parent(),this.elements.assignments[b].index=this.elements.assignments[b].cell.data("column"),this.elements.assignments[b].column=c(".content div[data-column="+this.elements.assignments[b].index+"]")),d=this.elements.assignments[b],this.isMuted?this.unmuteAssignment(d):this.muteAssignment(d)},muteAssignment:function(a){var d=c("<a />",{"class":"mute_icon",title:b.t("teacher_muted_title","Assignment is muted")}).append(c("<img />",{src:"/images/sound_mute.png",alt:""}));a.assignment.find("a.assignment_link.assignment_title").after(d),a.column.width(a.column.width()+20),this.elements.rows.width(this.elements.rows.width()+20)},unmuteAssignment:function(a){a.assignment.find(".mute_icon").remove(),a.column.width(a.column.width()-20),this.elements.rows.width(this.elements.rows.width()-20)}};v.init(),u("volume-on",v.label,c.proxy(v.onClick,v));if(object_data.submissions){k||(u("mail-closed",b.t("message_students_who","Message Students Who..."),function(){var a=G(j),d=a.title,e=c("#datagrid_data .assignment_"+a.id),f={};c("#datagrid_left .student_header").each(function(a){var b={};b.id=c(this).attr("id").substring(8),b.name=c(this).find(".display_name").text(),f[b.id]=b}),e.each(function(){var a=G(c(this).parent());f[a.user_id]&&(f[a.user_id].score=a.score,f[a.user_id].submitted_at=a.submitted_at,f[a.user_id].graded_at=a.graded_at)});var g=[];for(var h in f)g.push(f[h]);var i=!0;if(!a.submission_types||a.submission_types.match(/none|on_paper/))i=!1;var k=[{text:b.t("students_who.havent_submitted_yet","Haven't submitted yet")},{text:b.t("students_who.havent_been_graded","Haven't been graded")},{text:b.t("students_who.scored_less_than","Scored less than"),cutoff:!0},{text:b.t("students_who.scored_more_than","Scored more than"),cutoff:!0}];i||k.splice(0,1),window.messageStudents({options:k,title:d,points_possible:a.points_possible,students:g,callback:function(a,d,e){return e=c.grep(e,function(c,e){var f=c.user_data;if(a==b.t("students_who.not_submitted_yet","Haven't submitted yet"))return!f.submitted_at;if(a==b.t("students_who.havent_been_graded","Haven't been graded"))return f.score===null;if(a==b.t("students_who.scored_less_than","Scored less than"))return f.score!=null&&f.score!==""&&d!=null&&f.score<d;if(a==b.t("students_who.scored_more_than","Scored more than"))return f.score!=null&&f.score!==""&&d!=null&&f.score>d}),c.map(e,function(a){return a.user_data.id})}})}),u("check",b.t("set_default_grade","Set Default Grade"),function(){var a=G(j),d=a.title;o.find(".assignment_title").text(d).end(),o.find(".assignment_id").val(a.assignment_id),o.find(".out_of").showIf(a.points_possible||a.points_possible==="0"),o.find(".points_possible").text(a.points_possible);var e=c.replaceTags(o.find(".default_grade_url").attr("href"),"id",a.id);e=r.attr("action"),o.attr("action",e).attr("method","POST");var f=$box=c("#student_grading_"+a.id).clone();$box.hasClass("grading_value")||(f=$box.find(".grading_value")),f.attr("name","default_grade").show(),o.find(".grading_box_holder").empty().append($box),o.dialog({width:350,height:"auto",open:function(){o.find(".grading_box").focus()}}).dialog("option","title",b.t("default_grade_for_course","Default Grade for %{assignment}",{assignment:d}))}),s.grading_type!="pass_fail"&&s.points_possible&&u("check",b.t("curve_grades","Curve Grades"),function(){var a=G(j),c=a.title;t.find(".assignment_title").text(c).end().find(".assignment_id").val(a.assignment_id).end().find(".out_of").showIf(a.points_possible||a.points_possible==="0").end().find("#middle_score").val(parseInt((a.points_possible||0)*.6,10)).end().find(".points_possible").text(a.points_possible).end().dialog({width:350,height:"auto",open:function(){l.curve()}}).dialog("option","title",b.t("curve_grade_for_course","Curve Grade for %{assignment}",{assignment:c}))}));var w=G(j);w.submission_types&&w.submission_types.match(/(online_upload|online_text_entry|online_url)/)&&u("disk",b.t("download_submissions","Download Submissions"),function(){var b=c(".download_assignment_submissions_url").attr("href");b=c.replaceTags(b,"assignment_id",w.assignment_id);try{object_data["assignment_"+w.assignment_id].assignment.submissions_downloads=(w.submissions_downloads||0)+1}catch(d){}a.downloadSubmissions(b)}),w.submissions_downloads&&w.submissions_downloads>0&&!k&&u("arrowthickstop-1-n",b.t("reupload_submissions","Re-Upload Submissions"),function(){var a=c("#re_upload_submissions_form").find(".re_upload_submissions_url").attr("href");a=c.replaceTags(a,"assignment_id",w.assignment_id),c("#re_upload_submissions_form").attr("action",a),c("#re_upload_submissions_form").dialog({title:b.t("reupload_submission_files","Re-Upload Submission Files"),width:350})})}}u("carat-1-w",b.t("hide_column","Hide Column"),function(){f.toggleColumn(f.position(n).column)});if(j.hasClass("group_total")){var x=j.find(".assignment_title").text();u("carat-1-w",h(b.t("hide_all_things","Hide All %{things}",{things:x})),function(){var a=G(j).assignment_group_id;c(".outer_assignment_name").each(function(){var b=G(c(this)),d=b.assignment_group_id;if(a&&(a=="group-"+d||a==d)){var e=f.position(c("#assignment_"+b.id).parents(".cell")).column;f.toggleColumn(e,!1,{skipSizeGrid:!0}),f.sizeGrid()}})})}return c(this).dropdownList({options:q}),!1}),c("#re_upload_submissions_form").submit(function(){var a=c(this).getFormData();if(!a.submissions_zip)return!1;if(!a.submissions_zip.match(/\.zip$/))return c(this).formErrors({submissions_zip:b.t("errors.upload_as_zip","Please upload files as a .zip")}),!1}),c(document).keycodes("return h i r 1 2 3 4 5 6 7 8 9 0",function(a){if(f.currentFocus||!f.currentHover)return;if(c(a.target).closest(".ui-dialog").length>0)return;var b=f.currentHover;a.keyString=="return"?b.hasClass("student_assignment")&&f.focus(b.row,b.column):a.keyString=="h"?f.toggleColumn(b.column):a.keyString=="i"?(a.preventDefault(),b.hasClass("student_assignment")&&N(b)):a.keyString=="r"?U(!1):b.hasClass("student_assignment")&&f.focus(b.row,b.column)}),c("#datagrid_data").delegate("#information_link, .new_message, .pending_review, .turnitin","click",function(){return N(c(this).parents(".student_assignment")),!1}),q.find(".add_comment_link").click(function(){return c(this).parent().find(".comment_text").css("display","block").focus().select(),!1}),q.find(".cancel_button").click(function(){q.dialog("close")}),q.find(".update_button").click(function(){var a=q.getTemplateData({textValues:["id","student_id","assignment_id"]});a.comment=q.find("textarea.comment_text").val(),a.grade=q.find(".grading_value").val(),a.group_comment=q.find("#group_comment_checkbox").attr("checked"),H(a,!0),q.dialog("close")}),c(".refresh_grades_link").click(function(){return U(!1),!1}),setTimeout(function(){U(!0)},12e4),c("#hide_students_option").change(function(a){var b=c(this).attr("checked");c(".student_name").find(".display_name").showIf(!b).end().find(".hidden_name").showIf(b)}).change(),c("#groups_data").find(".group_weight").change(function(a){var b=c(this).parents(".group"),d=b.find(".assignment_group_url").attr("href"),e=b.getFormData(),f={};f["assignment_group[group_weight]"]=e.group_weight,c.ajaxJSON(d,"PUT",f,function(a){b.find(".group_weight").val(a.assignment_group.group_weight),S(!0)}),S()}).end().find(".cancel_button").click(function(){c("#groups_data").dialog("close")}).end().find("#class_weighting_policy").change(function(a){var b=c(".weighting_policy_url").attr("href"),d={},e=c(this).attr("checked"),f=c(this);d["course[group_weighting_scheme]"]=e?"percent":"equal",c.ajaxJSON(b,"PUT",d,function(a){f.attr("checked",a.course.group_weighting_scheme=="percent"),l.pointCalculations=!c("#class_weighting_policy").attr("checked"),S(!0)})}),setTimeout(Q,500)},j=navigator.appName,s=parseFloat(navigator.appVersion),u=navigator.productSub||"20070000",v=c("#student_names .outer_student_name").length;isNaN(s)&&(s=null);var x=function(){c("#no_students_message, #gradebook_table, .datagrid").addClass("hidden-readable");var b=function(a,b){b.length>1&&(b=b.substring(1)),b=b.replace(/\//g,"_");if(b.indexOf("student")==0||b.indexOf("assignment")==0||b.indexOf("submission")==0){var d=c("#"+b),e=f.position(d.parent()),g=e.row,h=e.column;f.scrollTo(g,h),d.parent().trigger("mouseover")}},d=c("#gradebook_entry_template").html();f.init(c("#gradebook_table"),{paddingBottom:c("#fixed_bottom").height(),templateCellHTML:function(a,b){var c=id_maps["row_"+a],e=id_maps["column_"+b],f=id_maps["hard_coded_"+b]?"hard_coded":"";return d.replace(/ASSIGNMENT_ID/g,e).replace(/USER_ID/g,c).replace(/HARD_CODED_CLASS/g,f)},scroll:function(){w.hide()},onReady:function(){function h(){var a=c(".mute_icon:visible"),b=c("#datagrid_data .row, #datagrid_top .row");a.each(function(a,b){var d=c(b),e=d.parents(".column_header");index=e.data("column"),$column=c(".content div[data-column= "+index+"]"),$column.width($column.width()+20)}),b.width(b.width()+a.length*20)}function i(a){var b=g.shift();b?(f.toggleColumn(f.position(c(b)).column,!1,{callback:!1,skipSizeGrid:!0}),a>5?setTimeout(function(){i(0)},500):i(a+1)):(f.sizeGrid(),h())}function k(){for(var a=0;a<j;a++){var b=l.queuedSubmissions&&l.queuedSubmissions.shift();b&&I(b)}l.queuedSubmissions&&l.queuedSubmissions.length?setTimeout(k,1):l.makeAccessible()}c(".table_entry.hard_coded .pct").text("%"),object_data=object_data||{},object_data.grid=!0,c(document).fragmentChange(b),c(document).fragmentChange();var d=c.grep(e.contextGet("hidden_columns")||[],function(a){return a}),g=[];d.length&&c("#"+d.join(",#")).parent().each(function(){g.push(this)}),e.contextGet("show_attendance")||c(".cell.assignment_name.attendance").each(function(){g.push(this)}),setTimeout(function(){i(0)},50);var j=a.browser.ie?25:100;setTimeout(k,1)},tick:function(){n.progressbar("option","value",n.progressbar("option","value")+25/v)},toggle:function(a,b){var d=f.cells["0,"+a],g=d.children(".assignment_header").attr("id"),h=c.grep(e.contextGet("hidden_columns")||[],function(a){return a&&(!b||a!=g)});b||h.push(g),h=c.uniq(h),e.contextSet("hidden_columns",h)}})};j&&s&&(j.match(/Netscape/&&u<"20080000")||j.match(/Internet Explorer/)&&s<5)?setTimeout(x,50):x();var y=function(){object_data&&object_data.grid&&object_data.assignments&&object_data.students&&!y.initialized&&(y.initialized=!0,c("#gradebook_table, .datagrid, #no_students_message").removeClass("hidden-readable"),c("#loading_gradebook_message").hide(),c(window).triggerHandler("resize"),setTimeout(g,500)),object_data&&object_data.grid&&object_data.assignments&&object_data.students&&object_data.submissions?(c(".student_assignment .table_entry").css("visibility",""),n.progressbar("option","value",n.progressbar("option","value")+50),c("#sort_rows_dialog .grade_sorts").show(),c(window).triggerHandler("resize"),setTimeout(l.populate,1)):setTimeout(y,1)};setTimeout(y,1);var B=function(){function e(){var a=n.progressbar("option","value")||15;a<85&&(a=Math.min(a+1,85),n.progressbar("option","value",a))}function g(f,h,i){c.ajaxJSON(f,"GET",{},function(b){a++,object_data=object_data||{};if(h=="assignments"){n.progressbar("option","value",n.progressbar("option","value")+10);for(var f in b)l.assignmentIndexes[b[f].assignment.id]=f+1,object_data["assignment_"+b[f].assignment.id]=b[f];object_data.assignments=!0}else if(h=="students"){n.progressbar("option","value",n.progressbar("option","value")+10);for(var f in b)l.studentIndexes[b[f].user.id]=f+1,object_data["student_"+b[f].user.id]=b[f];object_data.students=!0}else{e();var g=[];for(var f in b)object_data["submission_"+b[f].submission.user_id+"_"+b[f].submission.assignment_id]=b[f],I(b[f].submission),g.push(b[f].submission.user_id);object_data.student_submissions_count=object_data.student_submissions_count||0,object_data.student_submissions_count=object_data.student_submissions_count+(i||1),g=d.uniq(g);for(var f in g)c(".table_entry.student_"+g[f]).css("visibility","");object_data.student_submissions_count>=(object_data.students_count||1)&&(object_data.submissions=!0)}},function(a){g.errors=g.errors||0,g.errors++,g.errors>10?c("#loading_gradebook_status").text(b.t("errors.failed_to_load","Gradebook failed to load, please try refreshing the page")):setTimeout(function(){g(f)},50)})}var a=0;n.progressbar("option","value",n.progressbar("option","value")+5),setInterval(function(){a<3&&e()},250);var f=location.href.split("#")[0];f+=location.href.match(/\?/)?"&":"?",g(f+"init=1&assignments=1","assignments"),g(f+"init=1&students=1","students"),object_data=object_data||{},object_data.students_count=c("#student_names .outer_student_name").length;var h=Math.round(200/(c("#assignment_names .outer_assignment_name").length||1)),i=[];setTimeout(function(){if(c("#student_names .outer_student_name .assignment_header").length===0){object_data.submissions=!0;return}c("#student_names .outer_student_name .assignment_header").each(function(){var a=(c(this).attr("id")||"").substring(14);a&&i.push(a),i.length>h&&(g(f+"init=1&submissions=1&user_ids="+i.join(","),"student_submissions",i.length),i=[])}),i.length>0&&g(f+"init=1&submissions=1&user_ids="+i.join(","),"student_submissions",i.length)},1)};if(!object_data||!object_data.pre_initialized)B();else{for(var C in object_data)object_data[C].submission&&I(object_data[C].submission);object_data.assignments=!0,object_data.students=!0,object_data.submissions=!0}setTimeout(function(){l.curve=function(){var a=0,b={},d=t.getFormData(),e=G(c("#assignment_"+d.assignment_id).parent()),f=e.points_possible,g=[],h=0,i=parseInt(c("#middle_score").val(),10);c(".table_entry.assignment_"+d.assignment_id).each(function(){var a=G(c(this).parent());if(a.score||d.assign_blanks)b[a.user_id]=a.score||0}),i/=f;if(isNaN(i))return;for(var a in b){var j=b[a];j>f&&(j=f),j<0&&(j=0),g[parseInt(j,10)]=g[parseInt(j,10)]||[],g[parseInt(j,10)].push([a,j||0]),h++}var k=[.006,.012,.028,.04,.068,.106,.159,.227,.309,.401,.5,.599,.691,.773,.841,.894,.933,.96,.977,.988,1],l=(1-i)/Math.floor(k.length/2),m=[],n=[];for(var a=0;a<k.length;a++)n.push(1-l*a),m.push(Math.round((1-l*a)*f));var o=0,p={},q=0;c("#results_list").empty(),c("#results_values").empty();var r=[];for(var a=g.length-1;a>=0;a--){var s=g[a]||[],j=Math.round(m[q]);for(var u in s){var v=s[u];p[v[0]]=j,v[1]==0&&(p[v[0]]=0),finalScore=p[v[0]],r[finalScore]=r[finalScore]||[],r[finalScore].push(v[0])}o+=s.length;while(o>k[q]*h)q++}var w=0;for(var a=r.length-1;a>=0;a--){var x=(r[a]||[]).length;x>w&&(w=x)}var y=15,z=0;for(var a=r.length-1;a>=0;a--){s=r[a];var A=0,x=0;if(s||z>f/10){s&&(A=s.length/w,x=s.length);var B=a===0?"#ee8":"#cdf";c("#results_list").prepend("<td style='padding: 1px;'><div title='"+x+" student"+(x==1?"":"s")+" will get "+a+" points' style='border: 1px solid #888; background-color: "+B+"; width: "+y+"px; height: "+100*A+"px; margin-top: "+100*(1-A)+"px;'>&nbsp;</div></td>"),c("#results_values").prepend("<td style='text-align: center;'>"+a+"</td>"),z=0}else z++}return c("#results_list").prepend("<td><div style='height: 100px; position: relative; width: 30px; font-size: 0.8em;'><img src='/images/number_of_students.png' alt='# of students'/><div style='position: absolute; top: 0; right: 3px;'>"+w+"</div><div style='position: absolute; bottom: 0; right: 3px;'>0</div></div></td>"),c("#results_values").prepend("<td>&nbsp;</td>"),p},c("#middle_score").bind("blur change keyup focus",function(){l.curve()}),c("#assign_blanks").change(function(){l.curve()}),p.find(".close_button").click(function(){p.dialog("close")}),t.formSubmit({processData:function(a){var c=0;curves=l.curve();for(var d in curves){var e="submissions[submission_"+d+"]";a[e+"[assignment_id]"]=a.assignment_id,a[e+"[user_id]"]=d,a[e+"[grade]"]=curves[d],c++}if(c===0){var f=t.errorBox(b.t("errors.none_to_update","None to Update"));return setTimeout(function(){f.fadeOut(function(){f.remove()})},3500),!1}return a},beforeSubmit:function(a){t.loadingImage().find(".cancel_button").attr("disabled",!0)},success:function(a){t.loadingImage("remove");for(var c in a){var d=a[c].submission;I(d),O.push(d.user_id)}alert(b.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:a.length})),t.find(".cancel_button").attr("disabled",!1).dialog("close")},error:function(a){t.loadingImage("remove")}}).find(".cancel_button").click(function(){t.dialog("close")}),ENV.total_grade_warning&&c(".assignment_final-grade").not(".assignment_header").each(function(){c("<i/>",{"class":"icon-warning",title:ENV.total_grade_warning}).prependTo(this)})},1500),c("#gradebook_options").live("click",function(a){a.preventDefault(),a.stopPropagation();var f={},g=function(a,b,c){var d='<span class="ui-icon ui-icon-'+a+'" /> '+b;f[d]=c};g("carat-2-e-w",b.t("sort_columns_by","Sort Columns By..."),function(){c(".sort_gradebook").each(function(){c(this).attr("disabled",!1).text(c(this).attr("title"))}),c("#sort_columns_dialog").dialog({autoOpen:!1,width:400,height:300})}),g("carat-2-n-s",b.t("sort_rows_by","Sort Rows By..."),function(){c(".sort_gradebook").each(function(){c(this).attr("disabled",!1).text(c(this).attr("title"))}),c("#sort_rows_dialog").dialog({width:400,height:300})}),g("pencil",b.t("set_group_weights","Set Group Weights"),function(){c("#groups_data").dialog({title:b.t("titles.assignment_groups","Assignment Groups")}).show()}),g("clock",b.t("view_grading_history","View Grading History"),function(){window.location.href=c(".gradebook_history_url").attr("href")}),g("disk",b.t("download_scores","Download Scores (%{format})",{format:".csv"}),function(){window.location.href=c(".gradebook_csv_url").attr("href")}),g("clock",b.t("upload_scores","Upload Scores (from %{format})",{format:".csv"}),function(){var a={bgiframe:!0,autoOpen:!1,modal:!0,width:410,resizable:!1,buttons:{}};a.buttons[b.t("buttons.upload_data","Upload Data")]=function(){c(this).submit()},c("#upload_modal").dialog(a).dialog("open")});var h=c("#hide_students_option").attr("checked");g("person",h?b.t("show_student_name","Show Student Names"):b.t("hide_student_name","Hide Student Names"),function(){c("#hide_students_option").attr("checked",!h).change()}),g("check",z?b.t("include_ungraded","Include Ungraded Assignments"):b.t("ignore_ungraded","Ignore Ungraded Assignments"),function(){z=!z,l.updateAllStudentGrades()});if(d.size(A)>1){var i=D?b.t("showing_section","Showing Section: %{section}",{section:A[D]}):b.t("showing_all_sections","Showing All Sections");g("search",i,function(){var a={modal:!0,resizable:!1,buttons:{}};a.buttons[b.t("buttons.change_section","Change Section")]=function(){var a=c("#section_to_show_dialog select").val();e[a=="all"?"contextRemove":"contextSet"]("grading_show_only_section",a),window.location.reload()};var d=c("#section_to_show_dialog").dialog(a),f=d.find("select");f.find("[value != all]").remove();for(var g in A)f.append('<option value="'+g+'" '+(D==g?"selected":"")+" >"+A[g]+"</option>")})}sisPublishEnabled&&g("gear",'<a href="details#tab-grade-publishing">'+b.t("publish_to_sis","Publish grades to SIS")+"</a>",function(){}),c(this).dropdownList({options:f})}),c(".sort_gradebook").click(function(a){a.preventDefault();var d=c(this);if(d.hasClass("by_grade")&&!l.finalGradesReady){d.attr("disabled",!0).text(b.t("computing_grades","Computing Grades...")),setTimeout(function(){d.filter(":visible").length>0&&d.click()},1e3);return}d.attr("disabled",!1),d.text(d.attr("title")),d.hasClass("sort_rows")?sortStudentRows(function(a){return d.hasClass("by_secondary_identifier")?[a.secondary_identifier,a.display_name,a.course_section]:d.hasClass("by_section")?[a.course_section,a.display_name,a.secondary_identifier]:d.hasClass("by_grade_desc")?[-a.grade,a.display_name,a.secondary_identifier,a.course_section]:d.hasClass("by_grade_asc")?[a.grade,a.display_name,a.secondary_identifier,a.course_section]:[a.display_name,a.secondary_identifier,a.course_section]}):sortAssignmentColumns(function(a){var b=[a.special_sort,a.date_sortable||"1050-12-12T99:99",a.title];return d.hasClass("by_group")&&b.unshift(parseInt(a.groupData[a.group_id||a.id.toString().substring(6)],10)),b}),c("#sort_rows_dialog").dialog("close"),c("#sort_columns_dialog").dialog("close")}),c("#content").delegate(".mute_icon","click.mute",function(a){var d=c(a.currentTarget),e=d.siblings("a.assignment_link.assignment_title"),f=b.t("cancel_button","Cancel"),g=b.t("unmute_button","Unmute Assignment"),h={},i=c("#unmute_dialog"),j=c("#datagrid_data .row, #datagrid_top .row"),k=e.attr("href")+"/mute";h[g]=function(){i.dialog("close"),c.ajaxJSON(k,"put",{status:!1},function(a){var b="assignment_"+a.assignment.id,d=c("#"+b),e=d.parent(),f=e.data("column"),g=c(".content div[data-column="+f+"]");d.find("a.assignment_link.assignment_options").data("muted",!1),d.find(".mute_icon").remove(),g.width(g.width()-20),j.width(j.width()-20)})},h[f]=function(){i.dialog("close")},i.dialog({buttons:h,modal:!0,resizable:!1,title:i.data("title"),width:400})})});var O=[];l.finalGradesReady=!0;var P={};window.sortStudentRows=function(a){var b=c(".outer_student_name"),d=[];b.each(function(){var a=c(this).getTemplateData({textValues:["display_name","secondary_identifier","course_section"]});a.display_name=(a.display_name||"zzzzzzz").toLowerCase(),a.secondary_identifier=(a.secondary_identifier||"zzzzzzz").toLowerCase(),a.course_section=(a.course_section||"zzzzzzz").toLowerCase(),a.id=c(this).find(".assignment_header").attr("id").substring(14),a.grade=parseFloat(c(".student_"+a.id+".assignment_final-grade .grade").text())||0,d.push(a)});var e=[];for(var g in d){var h=d[g],i=a(h);i.student=h,e.push(i)}e=e.sort(function(a,b){for(var c in a){var d=a[c],e=b[c];if(d<e)return-1;if(d>e)return 1}return 0}),d=[];for(var g in e)d.push(e[g].student);var j=[0],k=["--"];c.each(d,function(a,b){var d=c("#student_"+b.id).parents(".cell");j.push(f.position(d).row),k.push(d.find(".display_name").text());return}),f.reorderRows(j)},window.reverseRows=function(){var a=[0];for(var b=f.rows.length-1;b>0;b--)a.push(b);f.reorderRows(a)},window.sortAssignmentColumns=function(a){var b=c(".outer_assignment_name"),d=[],e={};c("#groups_data .group").each(function(a){var b=c(this).find(".assignment_group_id").text();e[b]=a}),b.each(function(){var a=c(this),b=a.data("assignment_object");b.groupData=e,d.push(b)});var g=[];for(var h in d){var i=d[h],j=a(i);j.assignment=i,g.push(j)}g=g.sort(),d=[];for(var h in g)d.push(g[h].assignment);var k=[0],l=["--"];c.each(d,function(a,b){var d=c("#assignment_"+b.id).parents(".cell");k.push(f.position(d).column),l.push(d.find(".assignment_title").text());return}),f.reorderColumns(k)},c(document).ready(function(){c(document).bind("update_student_grades",function(a,b){T(b)})}),c.fn.gradebookLoading=function(a){this.find(".refresh_grades_link").find(".static").showIf(a).end().find(".animated").showIf(!a)}}),function(){require(["gradebooks","message_students","compiled/grade_calculator"])}.call(this),define("compiled/bundles/gradebooks",function(){})