(function(){define(["jquery"],function(a){var b,c,d;return c=function(b){var c,d,e,f,g;return b.data("handled",!0),d=b.data("url")||b.attr("href"),f=b.data("method"),g=b.attr("target"),c=a("<form method='post' action='"+d+"'></form>"),e="<input name='_method' value='"+f+"' type='hidden' />",ENV.AUTHENTICITY_TOKEN&&(e+="<input name='authenticity_token' value='"+ENV.AUTHENTICITY_TOKEN+"' type='hidden' />"),g&&c.attr("target",g),c.hide().append(e).appendTo("body").submit()},b=function(a){var b;return b=a.data("confirm"),b?confirm(b):!0},a(document).delegate("a[data-confirm], a[data-method], a[data-remove]","click",function(e){var f;f=a(this);if(f.data("handled")||!b(f))return!1;if(f.data("remove"))return d(f),!1;if(f.data("method"))return c(f),!1}),d=function(b){var c,d,e,f,g,h,i;return g=b.data("remove"),d=b,i=b.data("url"),e=b.closest(":ui-popup").popup("option","trigger").data("KyleMenu"),e&&e.opts.appendMenuTo&&(d=e.$placeholder),c=d.closest(g),c.bind({beforeremove:function(){return c.hide()},remove:function(){return c.remove()}}),c.trigger("beforeremove"),h=function(){return c.trigger("remove")},f=function(){return c.show()},i?a.ajaxJSON(i,"DELETE",{},h,f):h()}})}).call(this)