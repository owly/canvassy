(function(){var a=[].slice;define(["jquery","underscore","compiled/fn/preventDefault","vendor/jquery.ba-tinypubsub"],function(b,c,d,e){var f;return f=e.publish,c.each(["upvote","deupvote"],function(c){return b(document).delegate("[data-"+c+"-item]","click",d(function(){var d,e,g;return d=b(this).data(""+c+"Item"),e={upvote:"PUT",deupvote:"DELETE"}[c],g="/api/v1/collections/items/"+d+"/upvotes/self",b.ajax(g,{type:e}).success(function(){return f(""+c+"Item",[d].concat(a.call(arguments)))})}))})})}).call(this)