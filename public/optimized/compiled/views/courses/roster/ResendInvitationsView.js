(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["jquery","underscore","i18n!roster","Backbone","jst/courses/roster/resendInvitations","jquery.ajaxJSON","compiled/jquery.rails_flash_notifications"],function(a,c,d,e,f){var g,h,i;return h=e.View,g=function(e){function g(){return i=g.__super__.constructor.apply(this,arguments),i}return b(g,e),g.optionProperty("canResend"),g.optionProperty("resendInvitationsUrl"),g.prototype.events={"click .resend-pending-invitations":"resendPendingInvitations"},g.prototype.template=f,g.prototype.toJSON=function(){return c.extend({},this.model.toJSON(),this)},g.prototype.attach=function(){return this.model.on("change:pendingInvitationsCount",this.render,this)},g.prototype.resendPendingInvitations=function(b){var c,e=this;return this.sending=!0,this.render(),c=a.ajaxJSON(this.resendInvitationsUrl,"POST",{},function(){return a.flashMessage(d.t("invitations_re_sent","Invitations sent successfully"))},function(){return a.flashError(d.t("error_sending_invitations","Error sending invitation. Please try again."))}),a.when(c).always(function(){return e.sending=!1},this.render)},g}(h)})}).call(this)