(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["jquery","underscore","str/htmlEscape","compiled/models/Outcome","compiled/views/outcomes/OutcomeIconBase","jquery.disableWhileLoading"],function(a,c,d,e,f){var g,h;return g=function(f){function g(){return h=g.__super__.constructor.apply(this,arguments),h}return b(g,f),g.prototype.className="outcome-group",g.prototype.attributes=c.extend({},g.attributes,{"aria-expanded":!1}),g.prototype.onRightArrowKey=function(a,b){var c=this;return b.attr("aria-expanded",!0).attr("tabindex",-1),this.triggerSelect(),setTimeout(function(){return b.parent().next().find("li[tabindex=0]").focus()},1e3)},g.prototype.initDroppable=function(){var b=this;return this.$el.droppable({scope:"outcomes",hoverClass:"droppable",greedy:!0,drop:function(c,d){var f,g,h;h=d.draggable.data("view").model,g=h instanceof e?h.outcomeGroup:h;if(g.id===b.model.id)return;return b.triggerSelect(),f=new a.Deferred,b.dir.$el.disableWhileLoading(f),b.dir.sidebar.dirForGroup(b.model).promise().done(function(a){return a.moveModelHere(h).done(function(){return f.resolve()})})}})},g.prototype.render=function(){return this.$el.attr("data-id",this.model.get("id")),this.$el.html('<a href="#" class="ellipsis" title="'+d(this.model.get("title"))+'">\n  <i class="icon-folder"></i>\n  <span>'+d(this.model.get("title"))+"</span>\n</a>"),this.initDroppable(),g.__super__.render.apply(this,arguments)},g}(f)})}).call(this)