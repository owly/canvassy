(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["i18n!discussions","compiled/views/DialogFormView","compiled/models/DiscussionsSettings","compiled/models/UserSettings","jst/DiscussionTopics/DiscussionsSettingsView"],function(a,c,d,e,f){var g,h;return g=function(c){function g(){return h=g.__super__.constructor.apply(this,arguments),h}return b(g,c),g.prototype.defaults={title:a.t("edit_settings","Edit Discussions Settings")},g.prototype.template=f,g.prototype.initialize=function(){return g.__super__.initialize.apply(this,arguments),this.model||(this.model=new d),this.userSettings=new e,this.fetch()},g.prototype.render=function(){return g.__super__.render.call(this,arguments),this.$el.find("#manual_mark_as_read").prop("checked",this.userSettings.get("manual_mark_as_read"))},g.prototype.submit=function(a){return g.__super__.submit.call(this,a),this.userSettings.set("manual_mark_as_read",this.$el.find("#manual_mark_as_read").prop("checked")),this.userSettings.save()},g.prototype.fetch=function(){var a,b=this;return a=$.Deferred(),$.when(this.model.fetch(),this.userSettings.fetch()).then(function(){return a.resolve(),b.render()}),this.$el.disableWhileLoading(a)},g}(c)})}).call(this)