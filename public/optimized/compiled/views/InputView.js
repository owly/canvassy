(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone"],function(a){var c,d,e;return d=a.View,c=function(a){function c(){return e=c.__super__.constructor.apply(this,arguments),e}return b(c,a),c.prototype.tagName="input",c.prototype.defaults={modelAttribute:"unnamed"},c.prototype.initialize=function(){return c.__super__.initialize.apply(this,arguments),this.setupElement()},c.prototype.setElement=function(){return c.__super__.setElement.apply(this,arguments),this.setupElement()},c.prototype.setupElement=function(){return this.lastValue=this.el.value,this.modelAttribute=this.$el.attr("name")||this.options.modelAttribute},c.prototype.attach=function(){var a=this;if(!this.collection)return;return this.collection.on("beforeFetch",function(){return a.$el.addClass("loading")}),this.collection.on("fetch",function(){return a.$el.removeClass("loading")}),this.collection.on("fetch:fail",function(){return a.$el.removeClass("loading")})},c.prototype.updateModel=function(){var a,b,c,d,e;a=this.el.value;if(a==="")return(b=this.model)!=null&&b.set(this.modelAttribute,a),(c=this.collection)!=null?c.deleteParam(this.modelAttribute):void 0;if(!(a.length<this.options.minLength))return(d=this.model)!=null&&d.set(this.modelAttribute,a),(e=this.collection)!=null?e.setParam(this.modelAttribute,a):void 0},c}(d)})}).call(this)