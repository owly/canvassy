(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["jquery","underscore","Backbone","jst/roles/manageRoles","compiled/views/roles/PermissionButtonView","compiled/views/roles/RoleHeaderView"],function(b,d,e,f,g,h){var i,j;return i=function(b){function e(){return this.renderTable=a(this.renderTable,this),j=e.__super__.constructor.apply(this,arguments),j}return c(e,b),e.prototype.template=f,e.prototype.className="manage-roles-table",e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.options.permission_groups&&(this.permission_groups=this.options.permission_groups),this.collection.on("add",this.renderTable),this.collection.on("remove",this.renderTable)},e.prototype.afterRender=function(){return this.renderTable()},e.prototype.renderHeader=function(){var a=this;return this.$el.find("thead tr").html("<th>Permissions</th>"),this.collection.each(function(b){var c;return c=new h({model:b}),a.$el.find("thead tr").append(c.render().el)})},e.prototype.renderTable=function(){var a=this;return this.renderHeader(),this.$el.find("tbody").html(""),d.each(this.permission_groups,function(b){var c;return c='<tr class="toolbar">\n  <th colspan="'+(a.collection.length+1)+'">'+b.group_name.toUpperCase()+"</th>\n</tr>",a.$el.find("tbody").append(c),d.each(b.group_permissions,function(b){var c;return c='<tr>\n  <th role="rowheader">'+b.label+"</th>\n</tr>",a.$el.find("tbody").append(c),a.collection.each(function(c){var d;return d=new g({model:c,permission_name:b.permission_name}),a.$el.find("tr").last().append(d.render().el)})})})},e}(e.View)})}).call(this)