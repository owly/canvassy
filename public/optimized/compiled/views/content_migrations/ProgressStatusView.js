(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone","jst/content_migrations/ProgressStatus"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments),e}return b(d,a),d.prototype.template=c,d.prototype.initialize=function(){return this.progress=this.model.progressModel},d.prototype.afterRender=function(){return this.model.on("change:workflow_state",this.render),this.progress.on("change:workflow_state",this.render)},d.prototype.toJSON=function(){var a;return a=d.__super__.toJSON.apply(this,arguments),a.statusLabel=this.statusLabel(),a.status=this.status({humanize:!0}),a},d.prototype.statusLabelClassMap={completed:"label-success",completed_with_issues:"label-warning",failed:"label-important",running:"label-info"},d.prototype.statusLabel=function(){return this.statusLabelClassMap[this.statusLabelKey()]},d.prototype.statusLabelKey=function(){var a,b;return a=this.model.get("migration_issues_count"),b=this.status(),this.status()==="completed"&&a?"completed_with_issues":this.status()},d.prototype.status=function(a){var b,c,d,e;return a==null&&(a={}),b=a.humanize,c=this.model.get("workflow_state"),d=this.progress.get("workflow_state"),e=c!=="running"?c:d||"queued",b&&(e=e.charAt(0).toUpperCase()+e.substring(1).toLowerCase(),e=e.replace(/_/g," ")),e},d}(a.View)})}).call(this)