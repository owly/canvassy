(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["jquery","underscore","jst/content_migrations/MigrationConverter","compiled/views/ValidatedFormView","vendor/jquery.ba-tinypubsub","jquery.disableWhileLoading"],function(a,c,d,e){var f,g;return f=function(e){function f(){return g=f.__super__.constructor.apply(this,arguments),g}return b(f,e),f.optionProperty("selectOptions"),f.prototype.template=d,f.prototype.els={"#converter":"$converter","#chooseMigrationConverter":"$chooseMigrationConverter",".form-container":"$formActions"},f.prototype.events=c.extend({},f.prototype.events,{"change #chooseMigrationConverter":"selectConverter","click .cancelBtn":"resetForm"}),f.prototype.toJSON=function(a){return a=f.__super__.toJSON.apply(this,arguments),a.selectOptions=this.selectOptions||ENV.SELECT_OPTIONS,a},f.prototype.renderConverter=function(a){return a?(a.setElement(this.$converter),a.render()):this.resetForm()},f.prototype.selectConverter=function(b){return this.$formActions.show(),this.model.resetModel(),this.model.set("migration_type",this.$chooseMigrationConverter.val()),a.publish("contentImportChange",{value:this.$chooseMigrationConverter.val(),migrationConverter:this})},f.prototype.submit=function(b){var c,d=this;return c=f.__super__.submit.apply(this,arguments),c!=null?c.done(function(){return a.publish("migrationCreated",d.model.attributes),d.model.resetModel(),d.resetForm()}):void 0},f.prototype.resetForm=function(){return this.$formActions.hide(),this.$converter.empty(),this.$chooseMigrationConverter.val("none")},f}(e)})}).call(this)