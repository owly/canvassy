(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone","jst/content_migrations/subviews/ChooseMigrationFile"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments),e}return b(d,a),d.prototype.template=c,d.prototype.els={"#migrationFileUpload":"$migrationFileUpload"},d.prototype.events={"change #migrationFileUpload":"setAttributes"},d.optionProperty("fileSizeLimit"),d.prototype.setAttributes=function(a){var b,c;return c=a.target.value.replace(/^.*\\/,""),b=this.$migrationFileUpload[0],this.model.set("pre_attachment",{file_size:this.fileSize(b),name:c,fileElement:b})},d.prototype.fileSize=function(a){return a.files[0].size},d.prototype.validations=function(){var a,b,c,d;return a={},d=this.model.get("pre_attachment"),c=[],b=d!=null?d.fileElement:void 0,(d!=null?d.name:void 0)&&b||c.push({type:"required",message:"You must select a file to import content from"}),(b!=null?b.files[0].size:void 0)>this.fileSizeLimit&&c.push({type:"upload_limit_exceeded",message:"You're migration cannot exceed "+this.humanReadableSize(this.fileSizeLimit)}),c.length&&(a.file=c),a},d.prototype.humanReadableSize=function(a){var b,c;a=parseFloat(a),c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],b=0;while(a>=1024)a/=1024,++b;return a.toFixed(1)+" "+c[b]},d}(a.View)})}).call(this)