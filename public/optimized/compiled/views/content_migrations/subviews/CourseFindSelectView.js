(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["Backbone","underscore","jst/content_migrations/subviews/CourseFindSelect"],function(b,d,e){var f,g;return f=function(b){function f(){return this.updateSearch=a(this.updateSearch,this),this.updateSelect=a(this.updateSelect,this),g=f.__super__.constructor.apply(this,arguments),g}return c(f,b),f.optionProperty("courses"),f.prototype.template=e,f.prototype.els={"#courseSearchField":"$courseSearchField","#courseSelect":"$courseSelect"},f.prototype.events={"change #courseSelect":"updateSearch"},f.prototype.afterRender=function(){return this.$courseSearchField.autocomplete({source:this.autocompleteCourses(),select:this.updateSelect})},f.prototype.toJSON=function(){var a;return a=f.__super__.toJSON.apply(this,arguments),a.courses=this.courses,a},f.prototype.autocompleteCourses=function(){return d.map(this.courses,function(a){var b;return b=a.course,{label:b.name,id:b.id,value:b.name}})},f.prototype.updateSelect=function(a,b){return this.setSourceCourseId(b.item.id),this.$courseSelect.val(b.item.id)},f.prototype.updateSearch=function(a){var b,c,e,f=this;return e=parseInt(a.target.value,10),this.setSourceCourseId(e),c=this.autocompleteCourses(),b=d.find(c,function(a){return a.id===e}),this.$courseSearchField.val(b!=null?b.value:void 0)},f.prototype.setSourceCourseId=function(a){return this.model.set("settings",{source_course_id:a})},f.prototype.validations=function(){var a,b;a={},b=this.model.get("settings");if(b!=null?!b.source_course_id:!void 0)a.courseSearchField=[{type:"required",message:"You must select a course to copy content from"}];return a},f}(b.View)})}).call(this)