(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone","underscore","str/htmlEscape","jst/FindFlickrImageView","jst/FindFlickrImageResult"],function(a,c,d,e,f){var g,h;return g=function(a){function d(){return h=d.__super__.constructor.apply(this,arguments),h}return b(d,a),d.prototype.tagName="form",d.prototype.attributes={"class":"bootstrap-form form-horizontal FindFlickrImageView"},d.prototype.template=e,d.prototype.events={submit:"searchFlickr","change .flickrSearchTerm":"hideResultsIfEmptySearch","input .flickrSearchTerm":"hideResultsIfEmptySearch"},d.prototype.hideResultsIfEmptySearch=function(){if(!this.$(".flickrSearchTerm").val())return this.renderResults([])},d.prototype.searchFlickr=function(a){var b,c,d,e=this;a!=null&&a.preventDefault();if(!(c=this.$(".flickrSearchTerm").val()))return;return this.flickrUrl&&(b=""+this.flickrUrl+"/"+c),b||(b="https://secure.flickr.com/services/rest/?method=flickr.photos.search&format=json&api_key=734839aadcaa224c4e043eaf74391e50&sort=relevance&license=1,2,3,4,5,6"+("&text="+c+"&per_page=150&jsoncallback=?")),(d=this.request)!=null&&d.abort(),this.$(".flickrResults").show().disableWhileLoading(this.request=$.getJSON(b,function(a){var b;return b=a.photos.photo,e.renderResults(b)}))},d.prototype.renderResults=function(a){var b;return b=c.map(a,function(a){return f({thumb:"https://farm"+a.farm+".static.flickr.com/"+a.server+"/"+a.id+"_"+a.secret+"_s.jpg",fullsize:"https://farm"+a.farm+".static.flickr.com/"+a.server+"/"+a.id+"_"+a.secret+".jpg",source:"https://secure.flickr.com/photos/"+a.owner+"/"+a.id,title:a.title})}),this.$(".flickrResults").showIf(!!a.length).html(b.join(""))},d}(a.View)})}).call(this)