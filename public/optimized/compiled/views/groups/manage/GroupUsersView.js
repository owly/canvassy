(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["underscore","compiled/views/PaginatedCollectionView","compiled/views/groups/manage/GroupUserView","jst/groups/manage/groupUsers"],function(b,d,e,f){var g,h;return g=function(d){function g(){return this.toggleGroupClass=a(this.toggleGroupClass,this),this.hideAssignToGroup=a(this.hideAssignToGroup,this),this.showAssignToGroup=a(this.showAssignToGroup,this),h=g.__super__.constructor.apply(this,arguments),h}return c(g,d),g.optionProperty("assignToGroupMenu"),g.optionProperty("groupsCollection"),g.prototype.initialize=function(a){g.__super__.initialize.call(this,b.extend({},a,{itemView:e,itemViewOptions:{canAssignToGroup:a.canAssignToGroup}}));if(this.options.canAssignToGroup&&this.assignToGroupMenu)return this.groupsCollection.on("add remove",this.toggleGroupClass)},g.prototype.template=f,g.prototype.events={"click .assign-to-group":"showAssignToGroup","focus .assign-to-group":"showAssignToGroup","blur .assign-to-group":"hideAssignToGroup"},g.prototype.showAssignToGroup=function(a){var b;return a.preventDefault(),a.stopPropagation(),b=$(a.target),this.assignToGroupMenu.model=this.collection.get(parseInt(b.data("user-id"),10)),this.assignToGroupMenu.showBy(b)},g.prototype.hideAssignToGroup=function(){return this.assignToGroupMenu.hide()},g.prototype.canAssignToGroup=function(){return this.options.canAssignToGroup&&this.groupsCollection.length},g.prototype.toggleGroupClass=function(){return this.$el.toggleClass("group-category-empty",this.groupsCollection.length===0)},g}(d)})}).call(this)