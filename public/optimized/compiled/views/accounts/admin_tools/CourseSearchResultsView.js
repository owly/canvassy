(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};define(["underscore","Backbone","jquery","jst/accounts/admin_tools/CourseSearchResults"],function(b,d,e,f,g){var h,i;return h=function(b){function d(){return this.enableResults=a(this.enableResults,this),this.disableResults=a(this.disableResults,this),i=d.__super__.constructor.apply(this,arguments),i}return c(d,b),d.prototype.template=f,d.prototype.events={"click #restoreCourseBtn":"restore"},d.prototype.els={"#restoreCourseBtn":"$restoreCourseBtn"},d.prototype.initialize=function(a){return d.__super__.initialize.apply(this,arguments),this.applyBindings()},d.prototype.disableResults=function(){return this.$el.find("button").prop("disabled",!0)},d.prototype.enableResults=function(){if(this.model.get("workflow_state")==="deleted")return this.$el.find("button").prop("disabled",!1)},d.prototype.applyBindings=function(){var a=this;return this.model.on("doneSearching",this.enableResults),this.model.on("change",this.render),this.model.on("searching",function(){return a.model.set("restored",!1),a.disableResults()})},d.prototype.restore=function(a){var b;return a.preventDefault(),b=this.model.restore(),this.$el.disableWhileLoading(b)},d.prototype.toJSON=function(a){return a=d.__super__.toJSON.apply(this,arguments),a.showRestore=this.model.get("id")&&this.model.get("workflow_state")==="deleted",a.showNotFound=!this.model.get("id")&&this.model.get("status"),a.showSuccessfullRestore=this.model.get("id")&&this.model.get("workflow_state")!=="deleted"&&this.model.get("restored"),a.showNonDeletedCourse=this.model.get("id")&&this.model.get("workflow_state")!=="deleted"&&!this.model.get("restored"),this.model.get("enrollments")&&(a.enrollmentCount=this.model.get("enrollments").length),a},d}(d.View)})}).call(this)