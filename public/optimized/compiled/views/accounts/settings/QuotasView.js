(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["jquery","i18n!accounts","compiled/views/ValidatedFormView","str/htmlEscape","jst/accounts/settings/Quotas","compiled/jquery.rails_flash_notifications"],function(a,c,d,e,f){var g,h;return g=function(d){function g(){return h=g.__super__.constructor.apply(this,arguments),h}return b(g,d),g.prototype.template=f,g.INTEGER_REGEX=/^[+-]?\d+$/,g.prototype.tag="form",g.prototype.id="default-quotas",g.prototype.className="form-horizontal account_settings",g.prototype.integerFields=["default_storage_quota_mb","default_user_storage_quota_mb","default_group_storage_quota_mb"],g.prototype.events={submit:"submit"},g.prototype.initialize=function(){var a,b,c,d;this.events||(this.events=[]),this.els||(this.els=[]),d=this.integerFields;for(b=0,c=d.length;b<c;b++)a=d[b],this.events['input [name="'+a+'"]']="validate",this.els['[name="'+a+'"]']="$"+a;return this.on("success",this.submitSuccess),this.on("fail",this.submitFail),g.__super__.initialize.apply(this,arguments)},g.prototype.submitSuccess=function(){return a.flashMessage(c.t("default_account_quotas_updated","Default account quotas updated"))},g.prototype.submitFail=function(b){var d,e,f,g,h;e=!0,h=this.integerFields;for(f=0,g=h.length;f<g;f++)d=h[f],d in b&&(e=!1);if(e)return a.flashError(c.t("default_account_quotas_not_updated","Default account quotas were not updated"))},g.prototype.validateFormData=function(a){var b,d,e,f,g;b={},g=this.integerFields;for(e=0,f=g.length;e<f;e++)d=g[e],a[d].match(this.constructor.INTEGER_REGEX)||(b[d]=[{type:"integer_required",message:c.t("integer_required","An integer value is required")}]);return b},g.prototype.validateBeforeSave=function(){return{}},g.prototype.hideErrors=function(){var a;return a=this.$("div.control-group.error"),a.removeClass("error"),a.find(".help-inline").remove()},g.prototype.showErrors=function(b){var c,d,f,g,h,i,j,k,l;k=this.integerFields,l=[];for(i=0,j=k.length;i<j;i++)f=k[i],c=this["$"+f].closest("div.control-group"),h=b[f],c.toggleClass("error",h!=null),h?(d=a('<span class="help-inline"></span>'),d.html(function(){var a,b,c;c=[];for(a=0,b=h.length;a<b;a++)g=h[a].message,c.push(e(g));return c}().join("<br/>")),l.push(c.find(".controls").append(d))):l.push(void 0);return l},g}(d)})}).call(this)