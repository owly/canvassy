tinyMCEPopup.requireLangPack();var AnchorDialog={init:function(a){var b,c,d=document.forms[0];this.editor=a,c=a.dom.getParent(a.selection.getNode(),"A"),v=a.dom.getAttrib(c,"name")||a.dom.getAttrib(c,"id"),v&&(this.action="update",d.anchorName.value=v),d.insert.value=a.getLang(c?"update":"insert")},update:function(){var a=this.editor,b,c=document.forms[0].anchorName.value,d;if(!c||!/^[a-z][a-z0-9\-\_:\.]*$/i.test(c)){tinyMCEPopup.alert("advanced_dlg.anchor_invalid");return}tinyMCEPopup.restoreSelection(),this.action!="update"&&a.selection.collapse(1);var e=a.schema.getElementRule("a");!e||e.attributes.name?d="name":d="id",b=a.dom.getParent(a.selection.getNode(),"A");if(b)b.setAttribute(d,c),b[d]=c,a.undoManager.add();else{var f={"class":"mceItemAnchor"};f[d]=c,a.execCommand("mceInsertContent",0,a.dom.createHTML("a",f,"ï»¿")),a.nodeChanged()}tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(AnchorDialog.init,AnchorDialog)