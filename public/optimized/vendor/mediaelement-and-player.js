/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2012, John Dyer (http://j.hn/)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
define(["jquery"],function(a){function c(){b.YouTubeApi.iFrameReady()}function d(a){b.YouTubeApi.flashReady(a)}var b=b||{};return b.version="2.9.5",b.meIndex=0,b.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]},b.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){var b=0,c,d="",e="",f,g=document.getElementsByTagName("script"),h=g.length,i=a.length;for(;b<h;b++){f=g[b].src;for(c=0;c<i;c++){e=a[c];if(f.indexOf(e)>-1){d=f.substring(0,f.indexOf(e));break}}if(d!=="")break}return d},secondsToTimeCode:function(a,b,c,d){typeof c=="undefined"?c=!1:typeof d=="undefined"&&(d=25);var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60),h=Math.floor((a%1*d).toFixed(3)),i=(b||e>0?(e<10?"0"+e:e)+":":"")+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)+(c?":"+(h<10?"0"+h:h):"");return i},timeCodeToSeconds:function(a,b,c,d){typeof c=="undefined"?c=!1:typeof d=="undefined"&&(d=25);var e=a.split(":"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=0,j=0;return c&&(i=parseInt(e[3])/d),j=f*3600+g*60+h+i,j},convertSMPTEtoSeconds:function(a){if(typeof a!="string")return!1;a=a.replace(",",".");var b=0,c=a.indexOf(".")!=-1?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=Number(a[e])*d;return Number(b.toFixed(c))},removeSwf:function(a){var c=document.getElementById(a);c&&c.nodeName=="OBJECT"&&(b.MediaFeatures.isIE?(c.style.display="none",function(){c.readyState==4?b.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))},removeObjectInIE:function(a){var b=document.getElementById(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}},b.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e=[0,0,0],f,g,h;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[a]=="object"){f=this.nav.plugins[a].description;if(f&&(typeof this.nav.mimeTypes=="undefined"||!this.nav.mimeTypes[b]||!!this.nav.mimeTypes[b].enabledPlugin)){e=f.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(g=0;g<e.length;g++)e[g]=parseInt(e[g].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{h=new ActiveXObject(c),h&&(e=d(h))}catch(i){}return e}},b.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[],c=a.GetVariable("$version");return c&&(c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]),b}),b.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){while(a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]))b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),b.MediaFeatures={init:function(){var a=this,c=document,d=b.PluginDetector.nav,e=b.PluginDetector.ua.toLowerCase(),f,g,h=["source","track","audio","video"];a.isiPad=e.match(/ipad/i)!==null,a.isiPhone=e.match(/iphone/i)!==null,a.isiOS=a.isiPhone||a.isiPad,a.isAndroid=e.match(/android/i)!==null,a.isBustedAndroid=e.match(/android 2\.[12]/)!==null,a.isIE=d.appName.toLowerCase().indexOf("microsoft")!=-1,a.isChrome=e.match(/chrome/gi)!==null,a.isFirefox=e.match(/firefox/gi)!==null,a.isWebkit=e.match(/webkit/gi)!==null,a.isGecko=e.match(/gecko/gi)!==null&&!a.isWebkit,a.isOpera=e.match(/opera/gi)!==null,a.hasTouch="ontouchstart"in window;for(f=0;f<h.length;f++)g=document.createElement(h[f]);a.supportsMediaTag=typeof g.canPlayType!="undefined"||a.isBustedAndroid,a.hasSemiNativeFullScreen=typeof g.webkitEnterFullscreen!="undefined",a.hasWebkitNativeFullScreen=typeof g.webkitRequestFullScreen!="undefined",a.hasMozNativeFullScreen=typeof g.mozRequestFullScreen!="undefined",a.hasTrueNativeFullScreen=a.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen,a.nativeFullScreenEnabled=a.hasTrueNativeFullScreen,a.hasMozNativeFullScreen&&(a.nativeFullScreenEnabled=g.mozFullScreenEnabled),this.isChrome&&(a.hasSemiNativeFullScreen=!1),a.hasTrueNativeFullScreen&&(a.fullScreenEventName=a.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",a.isFullScreen=function(){if(g.mozRequestFullScreen)return c.mozFullScreen;if(g.webkitRequestFullScreen)return c.webkitIsFullScreen},a.requestFullScreen=function(b){a.hasWebkitNativeFullScreen?b.webkitRequestFullScreen():a.hasMozNativeFullScreen&&b.mozRequestFullScreen()},a.cancelFullScreen=function(){a.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():a.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),a.hasSemiNativeFullScreen&&e.match(/mac os x 10_5/i)&&(a.hasNativeFullScreen=!1,a.hasSemiNativeFullScreen=!1)}},b.MediaFeatures.init(),b.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){var b=this.getElementsByTagName("source");while(b.length>0)this.removeChild(b[0]);if(typeof a=="string")this.src=a;else{var c,d;for(c=0;c<a.length;c++)d=a[c],this.canPlayType(d.type)&&(this.src=d.src)}},setVideoSize:function(a,b){this.width=a,this.height=b}},b.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={}},b.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){this.pluginApi!=null&&(this.pluginType!="youtube"&&this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var c,d,e,f=b.plugins[this.pluginType];for(c=0;c<f.length;c++){e=f[c];if(b.PluginDetector.hasPluginVersion(this.pluginType,e.version))for(d=0;d<e.types.length;d++)if(a==e.types[d])return!0}return!1},positionFullscreenButton:function(a,b,c){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(a,b,c)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if(typeof a=="string")this.pluginApi.setSrc(b.Utility.absolutizeUrl(a)),this.src=b.Utility.absolutizeUrl(a);else{var c,d;for(c=0;c<a.length;c++)d=a[c],this.canPlayType(d.type)&&(this.pluginApi.setSrc(b.Utility.absolutizeUrl(d.src)),this.src=b.Utility.absolutizeUrl(a))}},setCurrentTime:function(a){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.setVolume(a*100):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){this.pluginApi!=null&&(this.pluginType=="youtube"?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b,c){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(i=0;i<c.length;i++)if(c[i]===b)return this.events[a].splice(i,1),!0;return!1},dispatchEvent:function(a){var b,c,d=this.events[a];if(d){c=Array.prototype.slice.call(arguments,1);for(b=0;b<d.length;b++)d[b].apply(null,c)}},attributes:{},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){b.Utility.removeSwf(this.pluginElement.id)}},b.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b,this.htmlMediaElements[a]=c},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case"flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case"silverlight":b.pluginElement=document.getElementById(b.id),b.pluginApi=b.pluginElement.Content.MediaElementJS}b.pluginApi!=null&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e,f,g=this.pluginMediaElements[a];g.ended=!1,g.paused=!0,d={type:b,target:g};for(e in c)g[e]=c[e],d[e]=c[e];f=c.bufferedTime||0,d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return f},length:1},g.dispatchEvent(d.type,d)}},b.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,type:"",pluginPath:b.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},b.MediaElement=function(a,c){return b.HtmlMediaElementShim.create(a,c)},b.HtmlMediaElementShim={create:function(a,c){var d=b.MediaElementDefaults,e=typeof a=="string"?document.getElementById(a):a,f=e.tagName.toLowerCase(),g=f==="audio"||f==="video",h=g?e.getAttribute("src"):e.getAttribute("href"),i=e.getAttribute("poster"),j=e.getAttribute("autoplay"),k=e.getAttribute("preload"),l=e.getAttribute("controls"),m,n;for(n in c)d[n]=c[n];return h=typeof h=="undefined"||h===null||h==""?null:h,i=typeof i=="undefined"||i===null?"":i,k=typeof k=="undefined"||k===null||k==="false"?"none":k,j=typeof j!="undefined"&&j!==null&&j!=="false",l=typeof l!="undefined"&&l!==null&&l!=="false",m=this.determinePlayback(e,d,b.MediaFeatures.supportsMediaTag,g,h),m.url=m.url!==null?b.Utility.absolutizeUrl(m.url):"",m.method=="native"?(b.MediaFeatures.isBustedAndroid&&(e.src=m.url,e.addEventListener("click",function(){e.play()},!1)),this.updateNative(m,d,j,k)):m.method!==""?this.createPlugin(m,d,i,j,k,l):(this.createErrorMessage(m,d,i),this)},determinePlayback:function(a,c,d,e,f){var g=[],h,i,j,k,l,m,n={method:"",url:"",htmlMediaElement:a,isVideo:a.tagName.toLowerCase()!="audio"},o,p,q,r;if(typeof c.type!="undefined"&&c.type!=="")if(typeof c.type=="string")g.push({type:c.type,url:f});else for(h=0;h<c.type.length;h++)g.push({type:c.type[h],url:f});else if(f!==null)m=this.formatType(f,a.getAttribute("type")),g.push({type:m,url:f});else for(h=0;h<a.childNodes.length;h++)l=a.childNodes[h],l.nodeType==1&&l.tagName.toLowerCase()=="source"&&(f=l.getAttribute("src"),m=this.formatType(f,l.getAttribute("type")),g.push({type:m,url:f}));!e&&g.length>0&&g[0].url!==null&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(n.isVideo=!1),b.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return a.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""});if(d&&(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="native")){e||(r=document.createElement(n.isVideo?"video":"audio"),a.parentNode.insertBefore(r,a),a.style.display="none",n.htmlMediaElement=a=r);for(h=0;h<g.length;h++)if(a.canPlayType(g[h].type).replace(/no/,"")!==""||a.canPlayType(g[h].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){n.method="native",n.url=g[h].url;break}if(n.method==="native"){n.url!==null&&(a.src=n.url);if(c.mode!=="auto_plugin")return n}}if(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="shim")for(h=0;h<g.length;h++){m=g[h].type;for(i=0;i<c.plugins.length;i++){o=c.plugins[i],p=b.plugins[o];for(j=0;j<p.length;j++){q=p[j];if(q.version==null||b.PluginDetector.hasPluginVersion(o,q.version))for(k=0;k<q.types.length;k++)if(m==q.types[k])return n.method=o,n.url=g[h].url,n}}}return c.mode==="auto_plugin"&&n.method==="native"?n:(n.method===""&&g.length>0&&(n.url=g[0].url),n)},formatType:function(a,b){var c;return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){var b=a.substring(a.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+this.getTypeFromExtension(b)},getTypeFromExtension:function(a){switch(a){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div");e.className="me-cannotplay";try{e.style.width=d.width+"px",e.style.height=d.height+"px"}catch(f){}e.innerHTML=c!==""?'<a href="'+a.url+'"><img src="'+c+'" width="100%" height="100%" /></a>':'<a href="'+a.url+'"><span>Download File</span></a>',d.parentNode.insertBefore(e,d),d.style.display="none",b.error(d)},createPlugin:function(a,c,d,e,f,g){var h=a.htmlMediaElement,i=1,j=1,k="me_"+a.method+"_"+b.meIndex++,l=new b.PluginMediaElement(k,a.method,a.url),m=document.createElement("div"),n,o,p;l.tagName=h.tagName;for(var q=0;q<h.attributes.length;q++){var r=h.attributes[q];r.specified==1&&l.setAttribute(r.name,r.value)}o=h.parentNode;while(o!==null&&o.tagName.toLowerCase()!="body"){if(o.parentNode.tagName.toLowerCase()=="p"){o.parentNode.parentNode.insertBefore(o,o.parentNode);break}o=o.parentNode}a.isVideo?(i=c.videoWidth>0?c.videoWidth:h.getAttribute("width")!==null?h.getAttribute("width"):c.defaultVideoWidth,j=c.videoHeight>0?c.videoHeight:h.getAttribute("height")!==null?h.getAttribute("height"):c.defaultVideoHeight,i=b.Utility.encodeUrl(i),j=b.Utility.encodeUrl(j)):c.enablePluginDebug&&(i=320,j=240),l.success=c.success,b.MediaPluginBridge.registerPluginElement(k,l,h),m.className="me-plugin",m.id=k+"_container",a.isVideo?h.parentNode.insertBefore(m,h):document.body.insertBefore(m,document.body.childNodes[0]),p=["id="+k,"isvideo="+(a.isVideo?"true":"false"),"autoplay="+(e?"true":"false"),"preload="+f,"width="+i,"startvolume="+c.startVolume,"timerrate="+c.timerRate,"flashstreamer="+c.flashStreamer,"height="+j],a.url!==null&&(a.method=="flash"?p.push("file="+b.Utility.encodeUrl(a.url)):p.push("file="+a.url)),c.enablePluginDebug&&p.push("debug=true"),c.enablePluginSmoothing&&p.push("smoothing=true"),g&&p.push("controls=true"),c.pluginVars&&(p=p.concat(c.pluginVars));switch(a.method){case"silverlight":m.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+k+'" name="'+k+'" width="'+i+'" height="'+j+'">'+'<param name="initParams" value="'+p.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+c.pluginPath+c.silverlightName+'" />'+"</object>";break;case"flash":b.MediaFeatures.isIE?(n=document.createElement("div"),m.appendChild(n),n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+k+'" width="'+i+'" height="'+j+'">'+'<param name="movie" value="'+c.pluginPath+c.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+p.join("&amp;")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):m.innerHTML='<embed id="'+k+'" name="'+k+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+c.pluginPath+c.flashName+'" '+'flashvars="'+p.join("&")+'" '+'width="'+i+'" '+'height="'+j+'"></embed>';break;case"youtube":var s=a.url.substr(a.url.lastIndexOf("=")+1);youtubeSettings={container:m,containerId:m.id,pluginMediaElement:l,pluginId:k,videoId:s,height:j,width:i},b.PluginDetector.hasPluginVersion("flash",[10,0,0])?b.YouTubeApi.createFlash(youtubeSettings):b.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":l.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1),m.innerHTML='<object width="'+i+'" height="'+j+'">'+'<param name="allowfullscreen" value="true" />'+'<param name="allowscriptaccess" value="always" />'+'<param name="flashvars" value="api=1" />'+'<param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" />'+'<embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+i+'" height="'+j+'"></embed>'+"</object>"}return h.style.display="none",l},updateNative:function(a,c,d,e){var f=a.htmlMediaElement,g;for(g in b.HtmlMediaElement)f[g]=b.HtmlMediaElement[g];return c.success(f,f),f}},b.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="http://www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(),this.iframeQueue.push(a))},createIframe:function(a){var c=a.pluginMediaElement,d=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=d,b.MediaPluginBridge.initPlugin(a.pluginId),setInterval(function(){b.YouTubeApi.createEvent(d,c,"timeupdate")},250)},onStateChange:function(a){b.YouTubeApi.handleStateChange(a.data,d,c)}}})},createEvent:function(a,b,c){var d={type:c,target:b};if(a&&a.getDuration){b.currentTime=d.currentTime=a.getCurrentTime(),b.duration=d.duration=a.getDuration(),d.paused=b.paused,d.ended=b.ended,d.muted=a.isMuted(),d.volume=a.getVolume()/100,d.bytesTotal=a.getVideoBytesTotal(),d.bufferedBytes=a.getVideoBytesLoaded();var e=d.bufferedBytes/d.bytesTotal*d.duration;d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return e},length:1}}b.dispatchEvent(d.type,d)},iFrameReady:function(){this.isLoaded=!0,this.isIframeLoaded=!0;while(this.iframeQueue.length>0){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var c,d="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";b.MediaFeatures.isIE?(c=document.createElement("div"),a.container.appendChild(c),c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'">'+'<param name="movie" value="'+d+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+d+'" '+'width="'+a.width+'" height="'+a.height+'" style="visibility: visible; ">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"},flashReady:function(a){var c=this.flashPlayers[a],d=document.getElementById(a),e=c.pluginMediaElement;e.pluginApi=e.pluginElement=d,b.MediaPluginBridge.initPlugin(a),d.cueVideoById(c.videoId);var f=c.containerId+"_callback";window[f]=function(a){b.YouTubeApi.handleStateChange(a,d,e)},d.addEventListener("onStateChange",f),setInterval(function(){b.YouTubeApi.createEvent(d,e,"timeupdate")},250)},handleStateChange:function(a,c,d){switch(a){case-1:d.paused=!0,d.ended=!0,b.YouTubeApi.createEvent(c,d,"loadedmetadata");break;case 0:d.paused=!1,d.ended=!0,b.YouTubeApi.createEvent(c,d,"ended");break;case 1:d.paused=!1,d.ended=!1,b.YouTubeApi.createEvent(c,d,"play"),b.YouTubeApi.createEvent(c,d,"playing");break;case 2:d.paused=!0,d.ended=!1,b.YouTubeApi.createEvent(c,d,"pause");break;case 3:b.YouTubeApi.createEvent(c,d,"progress");break;case 5:}}},window.mejs=b,window.MediaElement=b.MediaElement,typeof a!="undefined"?b.$=a:typeof ender!="undefined"&&(b.$=ender),function(c){b.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return a.duration*.05},defaultSeekForwardInterval:function(a){return a.duration*.05},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?b.play():b.pause()}},{keys:[38],action:function(a,b){var c=Math.min(b.volume+.1,1);b.setVolume(c)}},{keys:[40],action:function(a,b){var c=Math.max(b.volume-.1,0);b.setVolume(c)}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a,b){typeof a.enterFullScreen!="undefined"&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}}]},b.mepIndex=0,b.players=[],b.MediaElementPlayer=function(a,d){if(this instanceof b.MediaElementPlayer){var e=this;return e.$media=e.$node=c(a),e.node=e.media=e.$media[0],typeof e.node.player!="undefined"?e.node.player:(e.node.player=e,typeof d=="undefined"&&(d=e.$node.data("mejsoptions")),e.options=c.extend({},b.MepDefaults,d),b.players.push(e),e.init(),e)}return new b.MediaElementPlayer(a,d)},b.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var a=this,d=b.MediaFeatures,e=c.extend(!0,{},a.options,{success:function(b,c){a.meReady(b,c)},error:function(b){a.handleError(b)}}),f=a.media.tagName.toLowerCase();a.isDynamic=f!=="audio"&&f!=="video",a.isDynamic?a.isVideo=a.options.isVideo:a.isVideo=f!=="audio"&&a.options.isVideo;if(d.isiPad&&a.options.iPadUseNativeControls||d.isiPhone&&a.options.iPhoneUseNativeControls)a.$media.attr("controls","controls"),d.isiPad&&a.media.getAttribute("autoplay")!==null&&(a.media.load(),a.media.play());else if(!d.isAndroid||!a.AndroidUseNativeControls){a.$media.removeAttr("controls"),a.id="mep_"+b.mepIndex++,a.container=c('<div id="'+a.id+'" class="mejs-container">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(a.$media[0].className).insertBefore(a.$media),a.container.addClass((d.isAndroid?"mejs-android ":"")+(d.isiOS?"mejs-ios ":"")+(d.isiPad?"mejs-ipad ":"")+(d.isiPhone?"mejs-iphone ":"")+(a.isVideo?"mejs-video ":"mejs-audio "));if(d.isiOS){var g=a.$media.clone();a.container.find(".mejs-mediaelement").append(g),a.$media.remove(),a.$node=a.$media=g,a.node=a.media=g[0]}else a.container.find(".mejs-mediaelement").append(a.$media);a.controls=a.container.find(".mejs-controls"),a.layers=a.container.find(".mejs-layers");var h=a.isVideo?"video":"audio",i=h.substring(0,1).toUpperCase()+h.substring(1);a.options[h+"Width"]>0||a.options[h+"Width"].toString().indexOf("%")>-1?a.width=a.options[h+"Width"]:a.media.style.width!==""&&a.media.style.width!==null?a.width=a.media.style.width:a.media.getAttribute("width")!==null?a.width=a.$media.attr("width"):a.width=a.options["default"+i+"Width"],a.options[h+"Height"]>0||a.options[h+"Height"].toString().indexOf("%")>-1?a.height=a.options[h+"Height"]:a.media.style.height!==""&&a.media.style.height!==null?a.height=a.media.style.height:a.$media[0].getAttribute("height")!==null?a.height=a.$media.attr("height"):a.height=a.options["default"+i+"Height"],a.setPlayerSize(a.width,a.height),e.pluginWidth=a.height,e.pluginHeight=a.width}b.MediaElement(a.$media[0],e)},showControls:function(a){var b=this;a=typeof a=="undefined"||a;if(b.controlsAreVisible)return;a?(b.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0}),b.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.css("visibility","visible").css("display","block"),b.container.find(".mejs-control").css("visibility","visible").css("display","block"),b.controlsAreVisible=!0),b.setControlsSize()},hideControls:function(a){var b=this;a=typeof a=="undefined"||a;if(!b.controlsAreVisible)return;a?(b.controls.stop(!0,!0).fadeOut(200,function(){c(this).css("visibility","hidden").css("display","block"),b.controlsAreVisible=!1}),b.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){c(this).css("visibility","hidden").css("display","block")})):(b.controls.css("visibility","hidden").css("display","block"),b.container.find(".mejs-control").css("visibility","hidden").css("display","block"),b.controlsAreVisible=!1)},controlsTimer:null,startControlsTimer:function(a){var b=this;a=typeof a!="undefined"?a:1500,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(a){var b=this;b.controlsTimer!==null&&(clearTimeout(b.controlsTimer),delete b.controlsTimer,b.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var a=this;a.killControlsTimer(),a.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var a=this;a.showControls(!1),a.controlsEnabled=!0},meReady:function(a,d){var e=this,f=b.MediaFeatures,g=d.getAttribute("autoplay"),h=typeof g!="undefined"&&g!==null&&g!=="false",i,j;if(e.created)return;e.created=!0,e.media=a,e.domNode=d;if((!f.isAndroid||!e.options.AndroidUseNativeControls)&&(!f.isiPad||!e.options.iPadUseNativeControls)&&(!f.isiPhone||!e.options.iPhoneUseNativeControls)){e.buildposter(e,e.controls,e.layers,e.media),e.buildkeyboard(e,e.controls,e.layers,e.media),e.buildoverlays(e,e.controls,e.layers,e.media),e.findTracks();for(i in e.options.features){j=e.options.features[i];if(e["build"+j])try{e["build"+j](e,e.controls,e.layers,e.media)}catch(k){}}e.container.trigger("controlsready"),e.setPlayerSize(e.width,e.height),e.setControlsSize();if(e.isVideo){if(b.MediaFeatures.hasTouch)e.$media.bind("touchstart",function(){e.controlsAreVisible?e.hideControls(!1):e.controlsEnabled&&e.showControls(!1)});else{var l=e.media.pluginType=="native"?e.$media:c(e.media.pluginElement);l.click(function(){a.paused?a.play():a.pause()}),e.container.bind("mouseenter mouseover",function(){e.controlsEnabled&&(e.options.alwaysShowControls||(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(2500)))}).bind("mousemove",function(){e.controlsEnabled&&(e.controlsAreVisible||e.showControls(),e.options.alwaysShowControls||e.startControlsTimer(2500))}).bind("mouseleave",function(){e.controlsEnabled&&!e.media.paused&&!e.options.alwaysShowControls&&e.startControlsTimer(1e3)})}h&&!e.options.alwaysShowControls&&e.hideControls(),e.options.enableAutosize&&e.media.addEventListener("loadedmetadata",function(a){e.options.videoHeight<=0&&e.domNode.getAttribute("height")===null&&!isNaN(a.target.videoHeight)&&(e.setPlayerSize(a.target.videoWidth,a.target.videoHeight),e.setControlsSize(),e.media.setVideoSize(a.target.videoWidth,a.target.videoHeight))},!1)}a.addEventListener("play",function(){for(var a=0,c=b.players.length;a<c;a++){var d=b.players[a];d.id!=e.id&&e.options.pauseOtherPlayers&&!d.paused&&!d.ended&&d.pause(),d.hasFocus=!1}e.hasFocus=!0},!1),e.media.addEventListener("ended",function(a){try{e.media.setCurrentTime(0)}catch(b){}e.media.pause(),e.setProgressRail&&e.setProgressRail(),e.setCurrentRail&&e.setCurrentRail(),e.options.loop?e.media.play():!e.options.alwaysShowControls&&e.controlsEnabled&&e.showControls()},!1),e.media.addEventListener("loadedmetadata",function(a){e.updateDuration&&e.updateDuration(),e.updateCurrent&&e.updateCurrent(),e.isFullScreen||(e.setPlayerSize(e.width,e.height),e.setControlsSize())},!1),setTimeout(function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()},50),c(window).resize(function(){e.isFullScreen||b.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||e.setPlayerSize(e.width,e.height),e.setControlsSize()}),e.media.pluginType=="youtube"&&e.container.find(".mejs-overlay-play").hide()}h&&a.pluginType=="native"&&(a.load(),a.play()),e.options.success&&(typeof e.options.success=="string"?window[e.options.success](e.media,e.domNode,e):e.options.success(e.media,e.domNode,e))},handleError:function(a){var b=this;b.controls.hide(),b.options.error&&b.options.error(a)},setPlayerSize:function(a,b){var d=this;typeof a!="undefined"&&(d.width=a),typeof b!="undefined"&&(d.height=b);if(d.height.toString().indexOf("%")>0||d.$node.css("max-width")==="100%"){var e=d.media.videoWidth&&d.media.videoWidth>0?d.media.videoWidth:d.options.defaultVideoWidth,f=d.media.videoHeight&&d.media.videoHeight>0?d.media.videoHeight:d.options.defaultVideoHeight,g=d.container.parent().width(),h=parseInt(g*f/e,10);d.container.parent()[0].tagName.toLowerCase()==="body"&&(g=c(window).width(),h=c(window).height()),h!=0&&(d.container.width(g).height(h),d.$media.width("100%").height("100%"),d.container.find("object, embed, iframe").width("100%").height("100%"),d.isVideo&&d.media.setVideoSize&&d.media.setVideoSize(g,h),d.layers.children(".mejs-layer").width("100%").height("100%"))}else d.container.width(d.width).height(d.height),d.layers.children(".mejs-layer").width(d.width).height(d.height)},setControlsSize:function(){var a=this,b=0,d=0,e=a.controls.find(".mejs-time-rail"),f=a.controls.find(".mejs-time-total"),g=a.controls.find(".mejs-time-current"),h=a.controls.find(".mejs-time-loaded"),i=e.siblings();a.options&&!a.options.autosizeProgress&&(d=parseInt(e.css("width")));if(d===0||!d)i.each(function(){c(this).css("position")!="absolute"&&(b+=c(this).outerWidth(!0))}),d=a.controls.width()-b-(e.outerWidth(!0)-e.width());e.width(d),f.width(d-(f.outerWidth(!0)-f.width())),a.setProgressRail&&a.setProgressRail(),a.setCurrentRail&&a.setCurrentRail()},buildposter:function(a,b,d,e){var f=this,g=c('<div class="mejs-poster mejs-layer"></div>').appendTo(d),h=a.$media.attr("poster");a.options.poster!==""&&(h=a.options.poster),h!==""&&h!=null?f.setPoster(h):g.hide(),e.addEventListener("play",function(){g.hide()},!1)},setPoster:function(a){var b=this,d=b.container.find(".mejs-poster"),e=d.find("img");e.length==0&&(e=c('<img width="100%" height="100%" />').appendTo(d)),e.attr("src",a)},buildoverlays:function(a,d,e,f){if(!a.isVideo)return;var g=c('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(e),h=c('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(e),i=c('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(e).click(function(){f.paused?f.play():f.pause()});f.addEventListener("play",function(){i.hide(),g.hide(),d.find(".mejs-time-buffering").hide(),h.hide()},!1),f.addEventListener("playing",function(){i.hide(),g.hide(),d.find(".mejs-time-buffering").hide(),h.hide()},!1),f.addEventListener("seeking",function(){g.show(),d.find(".mejs-time-buffering").show()},!1),f.addEventListener("seeked",function(){g.hide(),d.find(".mejs-time-buffering").hide()},!1),f.addEventListener("pause",function(){b.MediaFeatures.isiPhone||i.show()},!1),f.addEventListener("waiting",function(){g.show(),d.find(".mejs-time-buffering").show()},!1),f.addEventListener("loadeddata",function(){g.show(),d.find(".mejs-time-buffering").show()},!1),f.addEventListener("canplay",function(){g.hide(),d.find(".mejs-time-buffering").hide()},!1),f.addEventListener("error",function(){g.hide(),d.find(".mejs-time-buffering").hide(),h.show(),h.find("mejs-overlay-error").html("Error loading this resource")},!1)},buildkeyboard:function(a,b,d,e){var f=this;c(document).keydown(function(b){if(a.hasFocus&&a.options.enableKeyboard)for(var c=0,d=a.options.keyActions.length;c<d;c++){var f=a.options.keyActions[c];for(var g=0,h=f.keys.length;g<h;g++)if(b.keyCode==f.keys[g])return b.preventDefault(),f.action(a,e,b.keyCode),!1}return!0}),c(document).click(function(b){c(b.target).closest(".mejs-container").length==0&&(a.hasFocus=!1)})},findTracks:function(){var a=this,b=a.$media.find("track");a.tracks=[],b.each(function(b,d){d=c(d),a.tracks.push({srclang:d.attr("srclang").toLowerCase(),src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){this.container[0].className="mejs-container "+a,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a=this;a.media.pluginType==="flash"?a.media.remove():a.media.pluginType==="native"&&a.$media.prop("controls",!0),a.isDynamic||a.$node.insertBefore(a.container),a.container.remove()}},typeof a!="undefined"&&(a.fn.mediaelementplayer=function(a){return this.each(function(){new b.MediaElementPlayer(this,a)})}),c(document).ready(function(){c(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=b.MediaElementPlayer}(b.$),function(a){a.extend(b.MepDefaults,{playpauseText:"Play/Pause"}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){var f=this,g=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+f.id+'" title="'+f.options.playpauseText+'"></button>'+"</div>").appendTo(c).click(function(a){return a.preventDefault(),e.paused?e.play():e.pause(),!1});e.addEventListener("play",function(){g.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("playing",function(){g.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("pause",function(){g.removeClass("mejs-pause").addClass("mejs-play")},!1),e.addEventListener("paused",function(){g.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(b.$),function(a){a.extend(b.MepDefaults,{stopText:"Stop"}),a.extend(MediaElementPlayer.prototype,{buildstop:function(c,d,e,f){var g=this,h=a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+g.id+'" title="'+g.options.stopText+'"></button>'+"</div>").appendTo(d).click(function(){f.paused||f.pause(),f.currentTime>0&&(f.setCurrentTime(0),d.find(".mejs-time-current").width("0px"),d.find(".mejs-time-handle").css("left","0px"),d.find(".mejs-time-float-current").html(b.Utility.secondsToTimeCode(0)),d.find(".mejs-currenttime").html(b.Utility.secondsToTimeCode(0)),e.find(".mejs-poster").show())})}})}(b.$),function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(c,d,e,f){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(d),d.find(".mejs-time-buffering").hide();var g=this,h=d.find(".mejs-time-total"),i=d.find(".mejs-time-loaded"),j=d.find(".mejs-time-current"),k=d.find(".mejs-time-handle"),l=d.find(".mejs-time-float"),m=d.find(".mejs-time-float-current"),n=function(a){var c=a.pageX,d=h.offset(),e=h.outerWidth(),g=0,i=0,j=c-d.left;c>d.left&&c<=e+d.left&&f.duration&&(g=(c-d.left)/e,i=g<=.02?0:g*f.duration,o&&f.setCurrentTime(i),b.MediaFeatures.hasTouch||(l.css("left",j),m.html(b.Utility.secondsToTimeCode(i)),l.show()))},o=!1,p=!1;h.bind("mousedown",function(b){if(b.which===1)return o=!0,n(b),a(document).bind("mousemove.dur",function(a){n(a)}).bind("mouseup.dur",function(b){o=!1,l.hide(),a(document).unbind(".dur")}),!1}).bind("mouseenter",function(c){p=!0,a(document).bind("mousemove.dur",function(a){n(a)}),b.MediaFeatures.hasTouch||l.show()}).bind("mouseleave",function(b){p=!1,o||(a(document).unbind(".dur"),l.hide())}),f.addEventListener("progress",function(a){c.setProgressRail(a),c.setCurrentRail(a)},!1),f.addEventListener("timeupdate",function(a){c.setProgressRail(a),c.setCurrentRail(a)},!1),g.loaded=i,g.total=h,g.current=j,g.handle=k},setProgressRail:function(a){var b=this,c=a!=undefined?a.target:b.media,d=null;c&&c.buffered&&c.buffered.length>0&&c.buffered.end&&c.duration?d=c.buffered.end(0)/c.duration:c&&c.bytesTotal!=undefined&&c.bytesTotal>0&&c.bufferedBytes!=undefined?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&a.total!=0&&(d=a.loaded/a.total),d!==null&&(d=Math.min(1,Math.max(0,d)),b.loaded&&b.total&&b.loaded.width(b.total.width()*d))},setCurrentRail:function(){var a=this;if(a.media.currentTime!=undefined&&a.media.duration&&a.total&&a.handle){var b=a.total.width()*a.media.currentTime/a.media.duration,c=b-a.handle.outerWidth(!0)/2;a.current.width(b),a.handle.css("left",c)}}})}(b.$),function(a){a.extend(b.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){var f=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(c),f.currenttime=f.controls.find(".mejs-currenttime"),e.addEventListener("timeupdate",function(){b.updateCurrent()},!1)},buildduration:function(c,d,e,f){var g=this;d.children().last().find(".mejs-currenttime").length>0?a(g.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(g.options.duration>0?b.Utility.secondsToTimeCode(g.options.duration,g.options.alwaysShowHours||g.media.duration>3600,g.options.showTimecodeFrameCount,g.options.framesPerSecond||25):(c.options.alwaysShowHours?"00:":"")+(c.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(d.find(".mejs-time")):(d.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(g.options.duration>0?b.Utility.secondsToTimeCode(g.options.duration,g.options.alwaysShowHours||g.media.duration>3600,g.options.showTimecodeFrameCount,g.options.framesPerSecond||25):(c.options.alwaysShowHours?"00:":"")+(c.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(d)),g.durationD=g.controls.find(".mejs-duration"),f.addEventListener("timeupdate",function(){c.updateDuration()},!1)},updateCurrent:function(){var a=this;a.currenttime&&a.currenttime.html(b.Utility.secondsToTimeCode(a.media.currentTime,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25))},updateDuration:function(){var a=this;a.media.duration&&a.durationD&&a.durationD.html(b.Utility.secondsToTimeCode(a.media.duration,a.options.alwaysShowHours,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25))}})}(b.$),function(a){a.extend(b.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(c,d,e,f){if(b.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)return;var g=this,h=g.isVideo?g.options.videoVolume:g.options.audioVolume,i=h=="horizontal"?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+g.id+'" title="'+g.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(d):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+g.id+'" title="'+g.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(d),j=g.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),k=g.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),l=g.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),m=g.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),n=function(a,b){if(!j.is(":visible")&&typeof b!="undefined"){j.show(),n(a,!0),j.hide();return}a=Math.max(0,a),a=Math.min(a,1),a==0?i.removeClass("mejs-mute").addClass("mejs-unmute"):i.removeClass("mejs-unmute").addClass("mejs-mute");if(h=="vertical"){var c=k.height(),d=k.position(),e=c-c*a;m.css("top",d.top+e-m.height()/2),l.height(c-e),l.css("top",d.top+e)}else{var f=k.width(),d=k.position(),g=f*a;m.css("left",d.left+g-m.width()/2),l.width(g)}},o=function(a){var b=null,c=k.offset();if(h=="vertical"){var d=k.height(),e=parseInt(k.css("top").replace(/px/,""),10),g=a.pageY-c.top;b=(d-g)/d;if(c.top==0||c.left==0)return}else{var i=k.width(),j=a.pageX-c.left;b=j/i}b=Math.max(0,b),b=Math.min(b,1),n(b),b==0?f.setMuted(!0):f.setMuted(!1),f.setVolume(b)},p=!1,q=!1;i.hover(function(){j.show(),q=!0},function(){q=!1,!p&&h=="vertical"&&j.hide()}),j.bind("mouseover",function(){q=!0}).bind("mousedown",function(b){return o(b),a(document).bind("mousemove.vol",function(a){o(a)}).bind("mouseup.vol",function(){p=!1,a(document).unbind(".vol"),!q&&h=="vertical"&&j.hide()}),p=!0,!1}),i.find("button").click(function(){f.setMuted(!f.muted)}),f.addEventListener("volumechange",function(a){p||(f.muted?(n(0),i.removeClass("mejs-mute").addClass("mejs-unmute")):(n(f.volume),i.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),g.container.is(":visible")&&(n(c.options.startVolume),f.pluginType==="native"&&f.setVolume(c.options.startVolume))}})}(b.$),function(a){a.extend(b.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,buildfullscreen:function(c,d,e,f){if(!c.isVideo)return;c.isInIframe=window.location!=window.parent.location;if(b.MediaFeatures.hasTrueNativeFullScreen){var g=null;b.MediaFeatures.hasMozNativeFullScreen?g=a(document):g=c.container,g.bind(b.MediaFeatures.fullScreenEventName,function(a){b.MediaFeatures.isFullScreen()?(c.isNativeFullScreen=!0,c.setControlsSize()):(c.isNativeFullScreen=!1,c.exitFullScreen())})}var h=this,i=0,j=0,k=c.container,l=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+h.id+'" title="'+h.options.fullscreenText+'"></button>'+"</div>").appendTo(d);if(h.media.pluginType==="native"||!h.options.usePluginFullScreen&&!b.MediaFeatures.isFirefox)l.click(function(){var a=b.MediaFeatures.hasTrueNativeFullScreen&&b.MediaFeatures.isFullScreen()||c.isFullScreen;a?c.exitFullScreen():c.enterFullScreen()});else{var m=null,n=function(){var a=document.createElement("x"),b=document.documentElement,c=window.getComputedStyle,d;return"pointerEvents"in a.style?(a.style.pointerEvents="auto",a.style.pointerEvents="x",b.appendChild(a),d=c&&c(a,"").pointerEvents==="auto",b.removeChild(a),!!d):!1}();if(n&&!b.MediaFeatures.isOpera){var o=!1,p=function(){o&&(q.hide(),r.hide(),s.hide(),l.css("pointer-events",""),h.controls.css("pointer-events",""),o=!1)},q=a('<div class="mejs-fullscreen-hover" />').appendTo(h.container).mouseover(p),r=a('<div class="mejs-fullscreen-hover"  />').appendTo(h.container).mouseover(p),s=a('<div class="mejs-fullscreen-hover"  />').appendTo(h.container).mouseover(p),t=function(){var a={position:"absolute",top:0,left:0};q.css(a),r.css(a),s.css(a),q.width(h.container.width()).height(h.container.height()-h.controls.height());var b=l.offset().left-h.container.offset().left;fullScreenBtnWidth=l.outerWidth(!0),r.width(b).height(h.controls.height()).css({top:h.container.height()-h.controls.height()}),s.width(h.container.width()-b-fullScreenBtnWidth).height(h.controls.height()).css({top:h.container.height()-h.controls.height(),left:b+fullScreenBtnWidth})};a(document).resize(function(){t()}),l.mouseover(function(){if(!h.isFullScreen){var a=l.offset(),b=c.container.offset();f.positionFullscreenButton(a.left-b.left,a.top-b.top,!1),l.css("pointer-events","none"),h.controls.css("pointer-events","none"),q.show(),s.show(),r.show(),t(),o=!0}}),f.addEventListener("fullscreenchange",function(a){p()})}else l.mouseover(function(){m!==null&&(clearTimeout(m),delete m);var a=l.offset(),b=c.container.offset();f.positionFullscreenButton(a.left-b.left,a.top-b.top,!0)}).mouseout(function(){m!==null&&(clearTimeout(m),delete m),m=setTimeout(function(){f.hideFullscreenButton()},1500)})}c.fullscreenBtn=l,a(document).bind("keydown",function(a){(b.MediaFeatures.hasTrueNativeFullScreen&&b.MediaFeatures.isFullScreen()||h.isFullScreen)&&a.keyCode==27&&c.exitFullScreen()})},enterFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&(b.MediaFeatures.isFirefox||c.options.usePluginFullScreen))return;docStyleOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",normalHeight=c.container.height(),normalWidth=c.container.width();if(c.media.pluginType==="native")if(b.MediaFeatures.hasTrueNativeFullScreen)b.MediaFeatures.requestFullScreen(c.container[0]),c.isInIframe&&setTimeout(function e(){c.isNativeFullScreen&&(a(window).width()!==screen.width?c.exitFullScreen():setTimeout(e,500))},500);else if(b.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}if(c.isInIframe){var d=c.options.newWindowCallback(this);if(d!==""){if(!b.MediaFeatures.hasTrueNativeFullScreen){c.pause(),window.open(d,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}setTimeout(function(){c.isNativeFullScreen||(c.pause(),window.open(d,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),setTimeout(function(){c.container.css({width:"100%",height:"100%"}),c.setControlsSize()},500),c.pluginType==="native"?c.$media.width("100%").height("100%"):(c.container.find("object, embed, iframe").width("100%").height("100%"),c.media.setVideoSize(a(window).width(),a(window).height())),c.layers.children("div").width("100%").height("100%"),c.fullscreenBtn&&c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),c.setControlsSize(),c.isFullScreen=!0},exitFullScreen:function(){var a=this;if(a.media.pluginType!=="native"&&b.MediaFeatures.isFirefox){a.media.setFullscreen(!1);return}b.MediaFeatures.hasTrueNativeFullScreen&&(b.MediaFeatures.isFullScreen()||a.isFullScreen)&&b.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=docStyleOverflow,a.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),a.pluginType==="native"?a.$media.width(normalWidth).height(normalHeight):(a.container.find("object embed").width(normalWidth).height(normalHeight),a.media.setVideoSize(normalWidth,normalHeight)),a.layers.children("div").width(normalWidth).height(normalHeight),a.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),a.setControlsSize(),a.isFullScreen=!1}})}(b.$),function(a){a.extend(b.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(b,c,d,e){if(!b.isVideo)return;showAddCaptionLink=b.options.can_add_captions&&window.FileReader;if(b.tracks.length==0&&!showAddCaptionLink)return;var f=this,g,h="";b.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide(),b.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find(".mejs-captions-text"),b.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+f.id+'" title="'+f.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+b.id+'_captions_none">None</label>'+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(c).hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")b.selectedTrack=null;else for(g=0;g<b.tracks.length;g++)if(b.tracks[g].srclang==lang){b.selectedTrack=b.tracks[g],b.captions.attr("lang",b.selectedTrack.srclang),b.displayCaptions();break}}),b.options.alwaysShowControls?b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):b.container.bind("mouseenter",function(){b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){e.paused||b.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1;for(g=0;g<b.tracks.length;g++)b.tracks[g].kind=="subtitles"&&b.addTrackButton(b.tracks[g].srclang,b.tracks[g].label,b.tracks[g].src);showAddCaptionLink&&b.addUploadTrackButton(),b.loadNextTrack(),e.addEventListener("timeupdate",function(a){b.displayCaptions()},!1),e.addEventListener("loadedmetadata",function(a){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.css("visibility","visible"),b.chapters.fadeIn(200).height(b.chapters.find(".mejs-chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).css("visibility","hidden"),a(this).css("display","block")})}),b.node.getAttribute("autoplay")!==null&&b.chapters.css("visibility","hidden")},loadNextTrack:function(){var a=this;a.trackToLoad++,a.trackToLoad<a.tracks.length?(a.isLoadingTrack=!0,a.loadTrack(a.trackToLoad)):a.isLoadingTrack=!1},loadTrack:function(c){var d=this,e=d.tracks[c],f=function(){e.isLoaded=!0,d.enableTrackButton(e.srclang,e.label),d.loadNextTrack()};a.ajax({url:e.src,dataType:"text",success:function(a){typeof a=="string"&&/<tt\s+xml/ig.exec(a)?e.entries=b.TrackFormatParser.dfxp.parse(a):e.entries=b.TrackFormatParser.webvvt.parse(a),f(),e.kind=="chapters"&&d.media.duration>0&&d.drawChapters(e)},error:function(){d.loadNextTrack()}})},enableTrackButton:function(c,d){var e=this;d===""&&(d=b.language.codes[c]||c),e.captionsButton.find("input[value="+c+"]").prop("disabled",!1).siblings("label").html(d),e.options.startLanguage==c&&a("#"+e.id+"_captions_"+c).click(),e.adjustLanguageBox()},addUploadTrackButton:function(){var b=this;a('<a href="#" style="color:white">Upload subtitles</a>').appendTo(b.captionsButton.find("ul")).wrap("<li>").click(function(a){a.preventDefault(),require(["compiled/widget/UploadMediaTrackForm"],function(a){new a(b.options.mediaCommendId,b.media.src)})}),b.adjustLanguageBox()},addTrackButton:function(c,d,e){var f=this;d===""&&(d=b.language.codes[c]||c);var g="";f.options.can_add_captions&&(g='<a href="#" data-remove="li" data-confirm="Are you sure you want to delete this track?" data-url="'+e+'">×</a>'),f.captionsButton.find("ul").append(a('<li><input type="radio" name="'+f.id+'_captions" id="'+f.id+"_captions_"+c+'" value="'+c+'" disabled="disabled" />'+'<label for="'+f.id+"_captions_"+c+'">'+d+" (loading)"+"</label>"+g+"</li>")),f.adjustLanguageBox(),f.container.find(".mejs-captions-translations option[value="+c+"]").remove()},adjustLanguageBox:function(){var a=this;a.captionsButton.find(".mejs-captions-selector").height(a.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+a.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if(typeof this.tracks=="undefined")return;var a=this,b,c=a.selectedTrack;if(c!=null&&c.isLoaded){for(b=0;b<c.entries.times.length;b++)if(a.media.currentTime>=c.entries.times[b].start&&a.media.currentTime<=c.entries.times[b].stop){a.captionsText.html(c.entries.text[b]),a.captions.show().height(0);return}a.captions.hide()}else a.captions.hide()},displayChapters:function(){var a=this,b;for(b=0;b<a.tracks.length;b++)if(a.tracks[b].kind=="chapters"&&a.tracks[b].isLoaded){a.drawChapters(a.tracks[b]),a.hasChapters=!0;break}},drawChapters:function(c){var d=this,e,f,g=0,h=0;d.chapters.empty();for(e=0;e<c.entries.times.length;e++){f=c.entries.times[e].stop-c.entries.times[e].start,g=Math.floor(f/d.media.duration*100);if(g+h>100||e==c.entries.times.length-1&&g+h<100)g=100-h;d.chapters.append(a('<div class="mejs-chapter" rel="'+c.entries.times[e].start+'" style="left: '+h.toString()+"%;width: "+g.toString()+'%;">'+'<div class="mejs-chapter-block'+(e==c.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+c.entries.text[e]+"</span>"+'<span class="ch-time">'+b.Utility.secondsToTimeCode(c.entries.times[e].start)+"&ndash;"+b.Utility.secondsToTimeCode(c.entries.times[e].stop)+"</span>"+"</div>"+"</div>")),h+=g}d.chapters.find("div.mejs-chapter").click(function(){d.media.setCurrentTime(parseFloat(a(this).attr("rel"))),d.media.paused&&d.media.play()}),d.chapters.show()}}),b.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},b.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(c){var d=0,e=b.TrackFormatParser.split2(c,/\r?\n/),f={text:[],times:[]},g,h;for(;d<e.length;d++)if(this.pattern_identifier.exec(e[d])){d++,g=this.pattern_timecode.exec(e[d]);if(g&&d<e.length){d++,h=e[d],d++;while(e[d]!==""&&d<e.length)h=h+"\n"+e[d],d++;h=a.trim(h).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>"),f.text.push(h),f.times.push({start:b.Utility.convertSMPTEtoSeconds(g[1])==0?.2:b.Utility.convertSMPTEtoSeconds(g[1]),stop:b.Utility.convertSMPTEtoSeconds(g[3]),settings:g[5]})}}return f}},dfxp:{parse:function(c){c=a(c).filter("tt");var d=0,e=c.children("div").eq(0),f=e.find("p"),g=c.find("#"+e.attr("style")),h,i,j,k,l={text:[],times:[]};if(g.length){var m=g.removeAttr("id").get(0).attributes;if(m.length){h={};for(d=0;d<m.length;d++)h[m[d].name.split(":")[1]]=m[d].value}}for(d=0;d<f.length;d++){var n,o={start:null,stop:null,style:null};f.eq(d).attr("begin")&&(o.start=b.Utility.convertSMPTEtoSeconds(f.eq(d).attr("begin"))),!o.start&&f.eq(d-1).attr("end")&&(o.start=b.Utility.convertSMPTEtoSeconds(f.eq(d-1).attr("end"))),f.eq(d).attr("end")&&(o.stop=b.Utility.convertSMPTEtoSeconds(f.eq(d).attr("end"))),!o.stop&&f.eq(d+1).attr("begin")&&(o.stop=b.Utility.convertSMPTEtoSeconds(f.eq(d+1).attr("begin")));if(h){n="";for(var p in h)n+=p+":"+h[p]+";"}n&&(o.style=n),o.start==0&&(o.start=.2),l.times.push(o),k=a.trim(f.eq(d).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>"),l.text.push(k),l.times.start==0&&(l.times.start=2)}return l}},split2:function(a,b){return a.split(b)}},"x\n\ny".split(/\n/gi).length!=3&&(b.TrackFormatParser.split2=function(a,b){var c=[],d="",e;for(e=0;e<a.length;e++)d+=a.substring(e,e+1),b.test(d)&&(c.push(d.replace(b,"")),d="");return c.push(d),c})}(b.$),function(a){a.extend(b.MepDefaults,{googleAnalyticsTitle:"",googleAnalyticsCategory:"Videos",googleAnalyticsEventPlay:"Play",googleAnalyticsEventPause:"Pause",googleAnalyticsEventEnded:"Ended",googleAnalyticsEventTime:"Time"}),a.extend(MediaElementPlayer.prototype,{buildgoogleanalytics:function(a,b,c,d){d.addEventListener("play",function(){typeof _gaq!="undefined"&&_gaq.push(["_trackEvent",a.options.googleAnalyticsCategory,a.options.googleAnalyticsEventPlay,a.options.googleAnalyticsTitle===""?a.currentSrc:a.options.googleAnalyticsTitle])},!1),d.addEventListener("pause",function(){typeof _gaq!="undefined"&&_gaq.push(["_trackEvent",a.options.googleAnalyticsCategory,a.options.googleAnalyticsEventPause,a.options.googleAnalyticsTitle===""?a.currentSrc:a.options.googleAnalyticsTitle])},!1),d.addEventListener("ended",function(){typeof _gaq!="undefined"&&_gaq.push(["_trackEvent",a.options.googleAnalyticsCategory,a.options.googleAnalyticsEventEnded,a.options.googleAnalyticsTitle===""?a.currentSrc:a.options.googleAnalyticsTitle])},!1)}})}(b.$),b})