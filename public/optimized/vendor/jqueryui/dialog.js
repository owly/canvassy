define(["jquery","str/htmlEscape","jqueryui/dialog-unpatched"],function(a,b,c){function d(c){return c?c.jquery?a("<div />").append(c.eq(0).clone()).html():b(""+c):c}a.ui.dialog.prototype.options.modal=!0;var e=a.ui.dialog.prototype._create,f=a.ui.dialog.prototype._setOption;return a.extend(a.ui.dialog.prototype,{_create:function(){return this.options.title||(this.options.title=this.element.attr("title"),typeof this.options.title!="string"&&(this.options.title="")),this.options.title=d(this.options.title),e.apply(this,arguments)},_setOption:function(a,b){return a=="title"&&(b=d(b)),f.call(this,a,b)}}),c})