<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="js/shCore.js" type="text/javascript"></script>
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/shAutoloader.js" type="text/javascript"></script>
<script src="js/shBrushJScript.js" type="text/javascript"></script>

  </head>
  <body>
    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>

    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.oauth.html" class="">OAuth</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="" href="account_authentication_services.html">Account Authentication Services</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="collections.html">Collections</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="current" href="users.html">Users</a>
  
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <a href="file.tools_intro.html" class="">Introduction</a>
  <a href="file.assignment_tools.html" class="">Grading</a>
  <a href="file.navigation_tools.html" class="">Navigation</a>
  <a href="file.editor_button_tools.html" class="">Rich Editor</a>
  <a href="file.link_selection_tools.html" class="">Link Selection</a>
  <a href="file.homework_submission_tools.html" class="">Homework Submission</a>
  <a href="file.tools_xml.html" class="">Configuring</a>
</nav>

    </div>

    <div id="content"><div class="service">
  
    <h1>Users API</h1>
  
  
  <table id='quicklinks'>
  </table>
  <p>API for accessing information on the current and other users.</p>

<p>Throughout this API, the <code>:user_id</code> parameter can be replaced with <code>self</code> as
a shortcut for the id of the user accessing the API. For instance,
<code>users/:user_id/page_views</code> can be accessed as <code>users/self/page_views</code> to
access the current user&#39;s page views.</p>



<div class='object_definition'>
  <h3><a name="User">An User object looks like:</a></h3>

  <pre class="example code brush:js">
{
  // The ID of the user.
  &quot;id&quot;: 1,

  // The name of the user.
  &quot;name&quot;: &quot;Sheldon Cooper&quot;,

  // The name of the user that is should be used for sorting groups of users,
  // such as in the gradebook.
  &quot;sortable_name&quot;: &quot;Cooper, Sheldon&quot;,

  // A short name the user has selected, for use in conversations or other less
  // formal places through the site.
  &quot;short_name&quot;: &quot;Shelly&quot;,

  // The SIS ID associated with the user.  This field is only included if the
  // user came from a SIS import
  &quot;sis_user_id&quot;: &quot;&quot;,

  // DEPRECATED: The SIS login ID associated with the user. Please use the
  // sis_user_id or login_id. This field will be removed in a future version of
  // the API.
  &quot;sis_login_id&quot;: &quot;&quot;,

  // The unique login id for the user.  This is what the user uses to log in to
  // canvas.
  &quot;login_id&quot;: &quot;sheldon@caltech.example.com&quot;,

  // If avatars are enabled, this field will be included and contain a url to
  // retrieve the user's avatar.
  &quot;avatar_url&quot;: &quot;&quot;,

  // Optional: This field can be requested with certain API calls, and will
  // return a list of the users active enrollments. See the List enrollments
  // API for more details about the format of these records.
  &quot;enrollments&quot;: [
    // ...
  ],

  // Optional: This field can be requested with certain API calls, and will
  // return the users primary email address.
  &quot;email&quot;: &quot;sheldon@caltech.example.com&quot;,

  // Optional: This field can be requested with certain API calls, and will
  // return the users locale.
  &quot;locale&quot;: &quot;tlh&quot;,

  // Optional: This field is only returned in certain API calls, and will
  // return a timestamp representing the last time the user logged in to
  // canvas.
  &quot;last_login&quot;: &quot;2012-05-30T17:45:25Z&quot;,
}
  </pre>
</div>

<div id="Services" class="method_details_list">

  <div class="method_details first">
  <h2 class='api_method_name' name='method.users.index' data-subtopic='Users'>
    <a name='method.users.index' href='#method.users.index'>
      List users
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#index</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/accounts/:account_id/users
</h3>



<p>Retrieve the list of users associated with this account.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>search_term</span>
      
      
        <div class='inline'>
<p>(optional) The partial name or full ID of the users to match and return in
the results list. Must be at least 3 characters.</p>
</div>
      
    </li>
  
</ul>



  Returns a list of 

<a href='users.html#User'>Users</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.activity_stream' data-subtopic='Users'>
    <a name='method.users.activity_stream' href='#method.users.activity_stream'>
      List the activity stream
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#activity_stream</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/self/activity_stream
</h3>



<h3 class='endpoint'>
  GET /api/v1/users/activity_stream
</h3>



<p>Returns the current user's global activity stream, paginated.</p>

<p>There are many types of objects that can be returned in the activity
stream. All object types have the same basic set of shared attributes:</p>

<pre class="code javascript"><code>{
  'created_at': '2011-07-13T09:12:00Z',
  'updated_at': '2011-07-25T08:52:41Z',
  'id': 1234,
  'title': 'Stream Item Subject',
  'message': 'This is the body text of the activity stream item. It is plain-text, and can be multiple paragraphs.',
  'type': 'DiscussionTopic|Conversation|Message|Submission|Conference|Collaboration|...',
  'read_state': false,
  'context_type': 'course', // course|group
  'course_id': 1,
  'group_id': null,
  'html_url': &quot;http://...&quot; // URL to the Canvas web UI for this stream item
}</code></pre>

<p>In addition, each item type has its own set of attributes available.</p>

<p>DiscussionTopic:</p>

<pre class="code javascript"><code>{
  'type': 'DiscussionTopic',
  'discussion_topic_id': 1234,
  'total_root_discussion_entries': 5,
  'require_initial_post': true,
  'user_has_posted': true,
  'root_discussion_entries': {
    ...
  }
}</code></pre>

<p>For DiscussionTopic, the message is truncated at 4kb.</p>

<p>Announcement:</p>

<pre class="code javascript"><code>{
  'type': 'Announcement',
  'announcement_id': 1234,
  'total_root_discussion_entries': 5,
  'require_initial_post': true,
  'user_has_posted': null,
  'root_discussion_entries': {
    ...
  }
}</code></pre>

<p>For Announcement, the message is truncated at 4kb.</p>

<p>Conversation:</p>

<pre class="code javascript"><code>{
  'type': 'Conversation',
  'conversation_id': 1234,
  'private': false,
  'participant_count': 3,
}</code></pre>

<p>Message:</p>

<pre class="code javascript"><code>{
  'type': 'Message',
  'message_id': 1234,
  'notification_category': 'Assignment Graded'
}</code></pre>

<p>Submission:</p>

<p>Returns an <a href="submissions.html#Submission" title="Submission">Submission</a> with its Course and
Assignment data.</p>

<p>Conference:</p>

<pre class="code javascript"><code>{
  'type': 'Conference',
  'web_conference_id': 1234
}</code></pre>

<p>Collaboration:</p>

<pre class="code javascript"><code>{
  'type': 'Collaboration',
  'collaboration_id': 1234
}</code></pre>

<p>CollectionItem:</p>

<pre class="code javascript"><code>{
  'type': 'CollectionItem',
  'collection_item' { ... full CollectionItem data ... }
}</code></pre>




</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.activity_stream_summary' data-subtopic='Users'>
    <a name='method.users.activity_stream_summary' href='#method.users.activity_stream_summary'>
      Activity stream summary
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#activity_stream_summary</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/self/activity_stream/summary
</h3>



<p>Returns a summary of the current user's global activity stream.</p>



  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">[
  {
    &quot;type&quot;: &quot;DiscussionTopic&quot;,
    &quot;unread_count&quot;: 2,
    &quot;count&quot;: 7
  },
  {
    &quot;type&quot;: &quot;Conversation&quot;,
    &quot;unread_count&quot;: 0,
    &quot;count&quot;: 3
  }
]</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.todo_items' data-subtopic='Users'>
    <a name='method.users.todo_items' href='#method.users.todo_items'>
      List the TODO items
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#todo_items</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/self/todo
</h3>



<p>Returns the current user's list of todo items, as seen on the user
dashboard.</p>

<p>There is a limit to the number of items returned.</p>

<p>The `ignore` and `ignore_permanently` URLs can be used to update the user's
preferences on what items will be displayed. Performing a DELETE request
against the `ignore` URL will hide that item from future todo item
requests, until the item changes. Performing a DELETE request against the
`ignore_permanently` URL will hide that item forever.</p>



  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">[
  {
    'type': 'grading',        // an assignment that needs grading
    'assignment': { .. assignment object .. },
    'ignore': '.. url ..',
    'ignore_permanently': '.. url ..',
    'html_url': '.. url ..',
    'needs_grading_count': 3, // number of submissions that need grading
    'context_type': 'course', // course|group
    'course_id': 1,
    'group_id': null,
  },
  {
    'type' =&gt; 'submitting',   // an assignment that needs submitting soon
    'assignment' =&gt; { .. assignment object .. },
    'ignore' =&gt; '.. url ..',
    'ignore_permanently' =&gt; '.. url ..',
    'html_url': '.. url ..',
    'context_type': 'course',
    'course_id': 1,
  }
]</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.upcoming_events' data-subtopic='Users'>
    <a name='method.users.upcoming_events' href='#method.users.upcoming_events'>
      List upcoming assignments, calendar events
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#upcoming_events</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/self/upcoming_events
</h3>



<p>Returns the current user's upcoming events, i.e. the same things shown in
the dashboard 'Coming Up' sidebar.</p>



  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">[
  {
    &quot;id&quot;=&gt;597,
    &quot;title&quot;=&gt;&quot;Upcoming Course Event&quot;,
    &quot;description&quot;=&gt;&quot;Attendance is correlated with passing!&quot;,
    &quot;start_at&quot;=&gt;&quot;2013-04-27T14:33:14Z&quot;,
    &quot;end_at&quot;=&gt;&quot;2013-04-27T14:33:14Z&quot;,
    &quot;location_name&quot;=&gt;&quot;Red brick house&quot;,
    &quot;location_address&quot;=&gt;&quot;110 Top of the Hill Dr.&quot;,
    &quot;all_day&quot;=&gt;false,
    &quot;all_day_date&quot;=&gt;nil,
    &quot;created_at&quot;=&gt;&quot;2013-04-26T14:33:14Z&quot;,
    &quot;updated_at&quot;=&gt;&quot;2013-04-26T14:33:14Z&quot;,
    &quot;workflow_state&quot;=&gt;&quot;active&quot;,
    &quot;context_code&quot;=&gt;&quot;course_12938&quot;,
    &quot;child_events_count&quot;=&gt;0,
    &quot;child_events&quot;=&gt;[],
    &quot;parent_event_id&quot;=&gt;nil,
    &quot;hidden&quot;=&gt;false,
    &quot;url&quot;=&gt;&quot;http://www.example.com/api/v1/calendar_events/597&quot;,
    &quot;html_url&quot;=&gt;&quot;http://www.example.com/calendar?event_id=597&amp;include_contexts=course_12938&quot;
  },
  {
    &quot;id&quot;=&gt;&quot;assignment_9729&quot;,
    &quot;title&quot;=&gt;&quot;Upcoming Assignment&quot;,
    &quot;description&quot;=&gt;nil,
    &quot;start_at&quot;=&gt;&quot;2013-04-28T14:47:32Z&quot;,
    &quot;end_at&quot;=&gt;&quot;2013-04-28T14:47:32Z&quot;,
    &quot;all_day&quot;=&gt;false,
    &quot;all_day_date&quot;=&gt;&quot;2013-04-28&quot;,
    &quot;created_at&quot;=&gt;&quot;2013-04-26T14:47:32Z&quot;,
    &quot;updated_at&quot;=&gt;&quot;2013-04-26T14:47:32Z&quot;,
    &quot;workflow_state&quot;=&gt;&quot;published&quot;,
    &quot;context_code&quot;=&gt;&quot;course_12942&quot;,
    &quot;assignment&quot;=&gt;{
      &quot;id&quot;=&gt;9729,
      &quot;name&quot;=&gt;&quot;Upcoming Assignment&quot;,
      &quot;description&quot;=&gt;nil,
      &quot;points_possible&quot;=&gt;10,
      &quot;due_at&quot;=&gt;&quot;2013-04-28T14:47:32Z&quot;,
      &quot;assignment_group_id&quot;=&gt;2439,
      &quot;automatic_peer_reviews&quot;=&gt;false,
      &quot;grade_group_students_individually&quot;=&gt;nil,
      &quot;grading_standard_id&quot;=&gt;nil,
      &quot;grading_type&quot;=&gt;&quot;points&quot;,
      &quot;group_category_id&quot;=&gt;nil,
      &quot;lock_at&quot;=&gt;nil,
      &quot;peer_reviews&quot;=&gt;false,
      &quot;position&quot;=&gt;1,
      &quot;unlock_at&quot;=&gt;nil,
      &quot;course_id&quot;=&gt;12942,
      &quot;submission_types&quot;=&gt;[&quot;none&quot;],
      &quot;muted&quot;=&gt;false,
      &quot;needs_grading_count&quot;=&gt;0,
      &quot;html_url&quot;=&gt;&quot;http://www.example.com/courses/12942/assignments/9729&quot;
    },
    &quot;url&quot;=&gt;&quot;http://www.example.com/api/v1/calendar_events/assignment_9729&quot;,
    &quot;html_url&quot;=&gt;&quot;http://www.example.com/courses/12942/assignments/9729&quot;
  }
]</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.create_file' data-subtopic='Users'>
    <a name='method.users.create_file' href='#method.users.create_file'>
      Upload a file
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#create_file</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  POST /api/v1/users/:user_id/files
</h3>



<p>Upload a file to the user's personal files section.</p>

<p>This API endpoint is the first step in uploading a file to a user's files.
See the <a href="../file.file_uploads.html" title="File Upload Documentation">File Upload Documentation</a> for details on
the file upload workflow.</p>

<p>Note that typically users will only be able to upload files to their own
files section. Passing a user_id of <code>self</code> is an easy shortcut
to specify the current user.</p>




</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.create' data-subtopic='Users'>
    <a name='method.users.create' href='#method.users.create'>
      Create a user
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#create</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  POST /api/v1/accounts/:account_id/users
</h3>



<p>Create and return a new user and pseudonym for an account.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The full name of the user. This name will be used by teacher for grading.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[short_name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>User's name as it will be displayed in discussions, messages, and comments.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[sortable_name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>User's name as used to sort alphabetically in lists.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[time_zone]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The time zone for the user. Allowed time zones are listed in
<a href="http://rubydoc.info/docs/rails/2.3.8/ActiveSupport/TimeZone" target="_parent" title="The Ruby on Rails documentation">The Ruby on Rails documentation</a>.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[locale]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The user's preferred language as a two-letter ISO 639-1 code. Current
supported languages are English ("en") and Spanish ("es").</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[birthdate]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The user's birth date.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>pseudonym[unique_id]</span>
      
      
        <div class='inline'>
<p>User's login ID.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>pseudonym[password]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>User's password.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>pseudonym[sis_user_id]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd><dl class="rdoc-list label-list"><dt>Integer
<dd>
<p>SIS ID for the user's account. To set this parameter, the caller must be
able to manage SIS permissions.</p>
</dd></dl>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>pseudonym[send_confirmation]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, 0|1
<dd><dl class="rdoc-list label-list"><dt>Integer
<dd>
<p>Send user notification of account creation if set to 1.</p>
</dd></dl>
</dd></dl>
</div>
      
    </li>
  
</ul>



  Returns a 

<a href='users.html#User'>User</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.settings' data-subtopic='Users'>
    <a name='method.users.settings' href='#method.users.settings'>
      Update user settings.
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#settings</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/:id/settings
</h3>



<h3 class='endpoint'>
  PUT /api/v1/users/:id/settings
</h3>



<p>Update an existing user's settings.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>manual_mark_as_read</span>
      
      
        <div class='inline'>
<p>If true, require user to manually mark discussion posts as read (don't
auto-mark as read).</p>
</div>
      
    </li>
  
</ul>

  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'http://&lt;canvas&gt;/api/v1/users/&lt;user_id&gt;/settings \ 
  -X PUT \ 
  -F 'manual_mark_as_read=true'
  -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.update' data-subtopic='Users'>
    <a name='method.users.update' href='#method.users.update'>
      Edit a user
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#update</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  PUT /api/v1/users/:id
</h3>



<p>Modify an existing user. To modify a user's login, see the documentation
for logins.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The full name of the user. This name will be used by teacher for grading.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[short_name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>User's name as it will be displayed in discussions, messages, and comments.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[sortable_name]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>User's name as used to sort alphabetically in lists.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[time_zone]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The time zone for the user. Allowed time zones are listed in
<a href="http://rubydoc.info/docs/rails/2.3.8/ActiveSupport/TimeZone" target="_parent" title="The Ruby on Rails documentation">The Ruby on Rails documentation</a>.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[locale]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>The user's preferred language as a two-letter ISO 639-1 code. Current
supported languages are English ("en") and Spanish ("es").</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[avatar][token]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>A unique representation of the avatar record to assign as the user's
current avatar. This token can be obtained from the user avatars endpoint.
This supersedes the <a href="http://avatar">user</a>[url] argument, and if
both are included the url will be ignored. Note: this is an internal
representation and is subject to change without notice. It should be
consumed with this api endpoint and used in the user update endpoint, and
should not be constructed by the client.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user[avatar][url]</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional
<dd>
<p>To set the user's avatar to point to an external url, do not include a
token and instead pass the url here. Warning: For maximum compatibility,
please use 128 px square images.</p>
</dd></dl>
</div>
      
    </li>
  
</ul>

  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'http://&lt;canvas&gt;/api/v1/users/133.json' \ 
     -X PUT \ 
     -F 'user[name]=Sheldon Cooper' \ 
     -F 'user[short_name]=Shelly' \ 
     -F 'user[time_zone]=Pacific Time (US &amp; Canada)' \ 
     -F 'user[avatar][token]=&lt;opaque_token&gt;' \ 
     -H &quot;Authorization: Bearer &lt;token&gt;&quot;</pre>
    
  </div>



  Returns a 

<a href='users.html#User'>User</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.destroy' data-subtopic='Users'>
    <a name='method.users.destroy' href='#method.users.destroy'>
      Delete a user
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#destroy</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  DELETE /api/v1/accounts/:account_id/users/:id
</h3>



<p>Delete a user record from Canvas.</p>

<p>WARNING: This API will allow a user to delete themselves. If you do this,
you won't be able to make API calls or log into Canvas.</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl https://&lt;canvas&gt;/api/v1/users/5 \ 
  -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \ 
  -X DELETE</pre>
    
  </div>



  Returns a 

<a href='users.html#User'>User</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.follow' data-subtopic='Users'>
    <a name='method.users.follow' href='#method.users.follow'>
      Follow a user
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#follow</a></span>
    
  </h2>
  
    <h3 class='beta'>BETA: This API endpoint is not finalized, and there could be breaking changes before its final release.</h3>
  
  

<h3 class='endpoint'>
  PUT /api/v1/users/:user_id/followers/self
</h3>



<p>Follow this user. If the current user is already following the target user,
nothing happens. The target user must have a public profile in order to
follow it.</p>

<p>On success, returns the User object. Responds with a 401 if the user
doesn't have permission to follow the target user, or a 400 if the user
can't follow the target user (if the user and target user are the same, for
example).</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl https://&lt;canvas&gt;/api/v1/users/&lt;user_id&gt;/followers/self \ 
     -X PUT \ 
     -H 'Content-Length: 0' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>


  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">{
  following_user_id: 5,
  followed_user_id: 6,
  created_at: &lt;timestamp&gt;
}</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.users.unfollow' data-subtopic='Users'>
    <a name='method.users.unfollow' href='#method.users.unfollow'>
      Un-follow a user
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/users_controller.rb">UsersController#unfollow</a></span>
    
  </h2>
  
    <h3 class='beta'>BETA: This API endpoint is not finalized, and there could be breaking changes before its final release.</h3>
  
  

<h3 class='endpoint'>
  DELETE /api/v1/users/:user_id/followers/self
</h3>



<p>Stop following this user. If the current user is not already following the
target user, nothing happens.</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl https://&lt;canvas&gt;/api/v1/users/&lt;user_id&gt;/followers/self \ 
     -X DELETE \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.profile.settings' data-subtopic='Users'>
    <a name='method.profile.settings' href='#method.profile.settings'>
      Get user profile
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/profile_controller.rb">ProfileController#settings</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/:user_id/profile
</h3>



<p>Returns user profile data, including user id, name, and profile pic.</p>

<p>When requesting the profile for the user accessing the API, the user's
calendar feed URL will be returned as well.</p>



  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">{
  'id': 1234,
  'name': 'Sample User',
  'short_name': 'Sample User'
  'sortable_name': 'user, sample',
  'primary_email': 'sample_user@example.com',
  'login_id': 'sample_user@example.com',
  'sis_user_id': 'sis1',
  'sis_login_id': 'sis1-login',
  // The avatar_url can change over time, so we recommend not caching it for more than a few hours
  'avatar_url': '..url..',
  'calendar': { 'ics' =&gt; '..url..' }
}</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.profile.profile_pics' data-subtopic='Users'>
    <a name='method.profile.profile_pics' href='#method.profile.profile_pics'>
      List avatar options
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/profile_controller.rb">ProfileController#profile_pics</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/:user_id/avatars
</h3>



<p>Retrieve the possible user avatar options that can be set with the user
update endpoint. The response will be an array of avatar records. If the
'type' field is 'attachment', the record will include all the normal
attachment json fields; otherwise it will include only the 'url' and
'display_name' fields. Additionally, all records will include a 'type'
field and a 'token' field. The following explains each field in more detail</p>
<dl class="rdoc-list note-list"><dt>type
<dd><dl class="rdoc-list label-list"><dt>"gravatar"|"attachment"|"no_pic"
<dd>
<p>The type of avatar record, for categorization purposes.</p>
</dd></dl>
</dd><dt>url
<dd>
<p>The url of the avatar</p>
</dd><dt>token
<dd>
<p>A unique representation of the avatar record which can be used to set the
avatar with the user update endpoint. Note: this is an internal
representation and is subject to change without notice. It should be
consumed with this api endpoint and used in the user update endpoint, and
should not be constructed by the client.</p>
</dd><dt>display_name
<dd>
<p>A textual description of the avatar record</p>
</dd><dt>id
<dd><dl class="rdoc-list label-list"><dt>'attachment' type only
<dd>
<p>the internal id of the attachment</p>
</dd></dl>
</dd><dt>content-type
<dd><dl class="rdoc-list label-list"><dt>'attachment' type only
<dd>
<p>the content-type of the attachment</p>
</dd></dl>
</dd><dt>filename
<dd><dl class="rdoc-list label-list"><dt>'attachment' type only
<dd>
<p>the filename of the attachment</p>
</dd></dl>
</dd><dt>size
<dd><dl class="rdoc-list label-list"><dt>'attachment' type only
<dd>
<p>the size of the attachment</p>
</dd></dl>
</dd></dl>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'http://&lt;canvas&gt;/api/v1/users/1/avatars.json' \ 
     -H &quot;Authorization: Bearer &lt;token&gt;&quot;</pre>
    
  </div>


  <div class="examples example_response">
    <h4>Example Response:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code brush:js">[
  {
    &quot;type&quot;:&quot;gravatar&quot;,
    &quot;url&quot;:&quot;https://secure.gravatar.com/avatar/2284...&quot;,
    &quot;token&quot;:&lt;opaque_token&gt;,
    &quot;display_name&quot;:&quot;gravatar pic&quot;
  },
  {
    &quot;type&quot;:&quot;attachment&quot;,
    &quot;url&quot;:&quot;https://&lt;canvas&gt;/images/thumbnails/12/gpLWJ...&quot;,
    &quot;token&quot;:&lt;opaque_token&gt;,
    &quot;display_name&quot;:&quot;profile.jpg&quot;,
    &quot;id&quot;:12,
    &quot;content-type&quot;:&quot;image/jpeg&quot;,
    &quot;filename&quot;:&quot;profile.jpg&quot;,
    &quot;size&quot;:32649
  },
  {
    &quot;type&quot;:&quot;no_pic&quot;,
    &quot;url&quot;:&quot;https://&lt;canvas&gt;/images/dotted_pic.png&quot;,
    &quot;token&quot;:&lt;opaque_token&gt;,
    &quot;display_name&quot;:&quot;no pic&quot;
  }
]</pre>
    
  </div>


</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.page_views.index' data-subtopic='Users'>
    <a name='method.page_views.index' href='#method.page_views.index'>
      List user page views
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/page_views_controller.rb">PageViewsController#index</a></span>
    
  </h2>
  
  

<h3 class='endpoint'>
  GET /api/v1/users/:user_id/page_views
</h3>



<p>Return the user's page view history in json format, similar to the
available CSV download. Pagination is used as described in API basics
section. Page views are returned in descending order, newest to oldest.</p>

<h4>API response field:</h4>
<ul class="response_field">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>interaction_seconds</span>
      
      
        <div class='inline'>
<p>The number of seconds the user actively interacted with the page. This is a
best guess, using heuristics such as browser input events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>url</span>
      
      
        <div class='inline'>
<p>The full canvas URL of the page view.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>user_agent</span>
      
      
        <div class='inline'>
<p>The browser identifier or other user agent that was used to make the
request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>controller</span>
      
      
        <div class='inline'>
<p>The Rails controller that processed the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>action</span>
      
      
        <div class='inline'>
<p>The action in the Rails controller that processed the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>context_type</span>
      
      
        <div class='inline'>
<p>The type of "context" of the request, e.g. Account or Course.</p>
</div>
      
    </li>
  
</ul>



</div>


</div>

</div>
</div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });

  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.defaults['auto-links'] = false;
  $('#content pre.code.javascript code').each(function(i, el) {
    $(el).parent().addClass('brush: js');
    $(el).replaceWith(el.innerHTML);
  });
  SyntaxHighlighter.all();
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Wed Aug  7 15:04:53 2013<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>
